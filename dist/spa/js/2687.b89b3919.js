"use strict";(self["webpackChunkoc_front_end"]=self["webpackChunkoc_front_end"]||[]).push([[2687],{52687:(t,e,l)=>{l.r(e),l.d(e,{default:()=>J});l(90246);var o=l(83673),s=l(62323),a=l(93402),n=l.n(a);const u=t=>((0,o.dD)("data-v-6c753b50"),t=t(),(0,o.Cn)(),t),i=u((()=>(0,o._)("div",{class:"full-width flex justify-between items-center q-px-md header-height-standard",style:{"border-bottom":"1px solid lightgrey"}},[(0,o._)("div",{class:"text-h4"},"Quote")],-1))),c={class:"q-px-md"},d={class:"row justify-between"},r={class:"column col-lg-6 col-md-6 col-sm-12 col-xs-12 q-gutter-lg"},m=u((()=>(0,o._)("img",{src:n()},null,-1))),p={class:"column"},_={class:"text-h6"},f={class:"text-subtitle2 text-grey"},x={class:"text-subtitle2"},b={class:"text-subtitle2"},h={class:"column col-lg-6 col-md-6 col-xs-12 col-sm-12 items-end q-mt-xl"},w={class:"text-h6",style:{"padding-bottom":"25px !important"}},Q={class:"text-subtitle2"},v={class:"text-subtitle2"},q={key:0,style:{"justify-content":"start !important"},class:"row q-mt-xl"},y={class:"column"},g=u((()=>(0,o._)("p",null,"Quotation to:",-1))),k={class:"text-bold"},z={class:"q-mt-xl"},C=u((()=>(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",{class:"text-left"},"#"),(0,o._)("th",{class:"text-left"},"Item"),(0,o._)("th",{class:"text-left"},"Description"),(0,o._)("th",{class:"text-left"},"Unit price"),(0,o._)("th",{class:"text-left"},"Quantity"),(0,o._)("th",{class:"text-left"},"Amount")])],-1))),N={class:"text-left"},V={class:"text-left"},D={class:"text-left"},W={class:"text-left"},Z={class:"text-left"},T={class:"text-left"},j={class:"row q-mt-xl"},R=u((()=>(0,o._)("div",{class:"col-9"},null,-1))),L={class:"col-lg-3 col-md-3 col-sm-12 col-xs-12 column q-gutter-sm"},P={class:"text-grey q-pa-none"},S=["innerHTML"];function U(t,e,l,a,n,u){const U=(0,o.up)("q-spinner"),A=(0,o.up)("q-page"),I=(0,o.up)("breadcrumps"),H=(0,o.up)("q-avatar"),M=(0,o.up)("q-markup-table"),G=(0,o.up)("q-input"),K=(0,o.up)("q-separator"),O=(0,o.up)("q-card");return n.isLoaded?((0,o.wg)(),(0,o.j4)(A,{key:1,class:"q-py-none q-my-none"},{default:(0,o.w5)((()=>[i,(0,o.Wm)(I,{class:"q-pa-md full-width",map:n.crumps},null,8,["map"]),(0,o._)("div",c,[(0,o.Wm)(O,{class:"q-pa-lg"},{default:(0,o.w5)((()=>[(0,o._)("div",d,[(0,o._)("div",r,[(0,o.Wm)(H,{size:"100px","font-size":"52px"},{default:(0,o.w5)((()=>[m])),_:1}),(0,o._)("div",p,[(0,o._)("p",_,(0,s.zw)(t.oneQuote.client.name),1),(0,o._)("p",f,(0,s.zw)(t.oneQuote.client.businessType),1),(0,o._)("p",x,(0,s.zw)(t.oneQuote.client.address),1),(0,o._)("p",b,(0,s.zw)(t.oneQuote.client.email),1)])]),(0,o._)("div",h,[(0,o._)("p",w,(0,s.zw)(t.oneQuote.quoteNumber),1),(0,o._)("p",Q,"Quote Date: "+(0,s.zw)(u.dateConversion(t.oneQuote.date)),1),(0,o._)("p",v,"Due Date: "+(0,s.zw)(u.dateConversion(t.oneQuote.dueDate)),1)])]),t.oneQuote.clientContact?((0,o.wg)(),(0,o.iD)("div",q,[(0,o._)("div",y,[g,(0,o._)("p",k,(0,s.zw)(t.oneQuote.clientContact.name),1),(0,o._)("p",null,(0,s.zw)(t.oneQuote.clientContact.email),1),(0,o._)("p",null,(0,s.zw)(t.oneQuote.clientContact.businessPhoneNumber1),1),(0,o._)("p",null,(0,s.zw)(t.oneQuote.clientContact.businessPhoneNumber2),1)])])):(0,o.kq)("",!0),(0,o._)("div",z,[(0,o.Wm)(M,{flat:"",bordered:""},{default:(0,o.w5)((()=>[C,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.oneQuote.quoteItems,((t,e)=>((0,o.wg)(),(0,o.iD)("tr",{style:(0,s.j5)(u.rowColor(e)),key:e},[(0,o._)("td",N,(0,s.zw)(e+1),1),(0,o._)("td",V,(0,s.zw)(t.name),1),(0,o._)("td",D,(0,s.zw)(t.description),1),(0,o._)("td",W,(0,s.zw)(t.unitPrice),1),(0,o._)("td",Z,(0,s.zw)(t.qty),1),(0,o._)("td",T,(0,s.zw)(t.qty*t.unitPrice),1)],4)))),128))])])),_:1})]),(0,o._)("div",j,[R,(0,o._)("div",L,[(0,o.Wm)(G,{mask:"#","fill-mask":"0","reverse-fill-mask":"","model-value":"Number",readonly:"",modelValue:n.stotal,"onUpdate:modelValue":e[0]||(e[0]=t=>n.stotal=t),label:"Subtotal"},null,8,["modelValue"]),(0,o.Wm)(G,{mask:"#","fill-mask":"0","reverse-fill-mask":"","model-value":"Number",readonly:"",rules:[t=>Number(t)<=100||"Not more than 100!"],modelValue:n.taxRatio,"onUpdate:modelValue":e[1]||(e[1]=t=>n.taxRatio=t),label:"Tax Ratio%"},null,8,["rules","modelValue"]),(0,o.Wm)(G,{mask:"#","fill-mask":"0","reverse-fill-mask":"",readonly:"","model-value":"Number",modelValue:n.discount,"onUpdate:modelValue":e[2]||(e[2]=t=>n.discount=t),label:"Discount%"},null,8,["modelValue"]),(0,o.Wm)(G,{readonly:"",modelValue:n.total,"onUpdate:modelValue":e[3]||(e[3]=t=>n.total=t),label:"Grand total",type:"number"},null,8,["modelValue"])])]),(0,o.Wm)(K,{class:"q-mt-lg"}),(0,o._)("div",P,[(0,o._)("p",{class:"q-mt-md",innerHTML:t.oneQuote.description},null,8,S)])])),_:1})])])),_:1})):((0,o.wg)(),(0,o.j4)(A,{key:0,class:"flex flex-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(U,{color:"primary",size:"md"})])),_:1}))}var A=l(46303),I=l(93617);const H={components:{breadcrumps:A.Z},data(){return{isLoaded:!1,taxRatio:0,total:0,discount:0,stotal:0,crumps:[{id:1,name:"OneConnect",icon:"home",path:"/"},{id:2,name:"Quote",icon:"receipt",path:"/finance/quote"}]}},computed:{...(0,I.rn)("financeStore",["oneQuote"])},methods:{...(0,I.nv)("financeStore",["getQuote"]),dateConversion(t){return console.log," "+t.split("T")[0]},rowColor(t){if(t%2===0)return"background: #f2f2f2 !important;"}},async mounted(){await this.getQuote(this.$route.params.id),this.isLoaded=!0,this.discount=Number(this.oneQuote.discount),this.taxRatio=Number(this.oneQuote.taxRate),this.stotal=Number(this.oneQuote.subTotalAmount),this.discount=Number(this.oneQuote.discount),this.total=Number(this.oneQuote.totalAmount)}};var M=l(24379),G=l(6833),K=l(10151),O=l(75096),Y=l(30481),$=l(64689),B=l(65869),E=l(7518),F=l.n(E);H.render=U,H.__scopeId="data-v-6c753b50";const J=H;F()(H,"components",{QPage:M.Z,QSpinner:G.Z,QCard:K.Z,QAvatar:O.Z,QMarkupTable:Y.Z,QInput:$.Z,QSeparator:B.Z})}}]);