"use strict";(self["webpackChunkoc_front_end"]=self["webpackChunkoc_front_end"]||[]).push([[61],{7061:(e,t,i)=>{i.r(t),i.d(t,{default:()=>ge});var n=i(3673);const o={class:"flex justify-between items-center"},l=(0,n._)("p",{class:"text-h4"},"Accounting",-1);function a(e,t,i,a,s,r){const d=(0,n.up)("breadcrumps"),u=(0,n.up)("q-btn"),m=(0,n.up)("q-tab"),c=(0,n.up)("q-tabs"),p=(0,n.up)("itemtbl"),f=(0,n.up)("q-tab-panel"),b=(0,n.up)("nitemtbl"),h=(0,n.up)("sitemtbl"),y=(0,n.up)("q-tab-panels"),w=(0,n.up)("modalit"),g=(0,n.up)("q-dialog"),v=(0,n.up)("modalnit"),I=(0,n.up)("modalser"),q=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(q,{class:"q-pa-md"},{default:(0,n.w5)((()=>[(0,n._)("div",o,[(0,n._)("div",null,[l,(0,n.Wm)(d,{map:a.crumps},null,8,["map"])]),(0,n.Wm)(u,{onClick:r.openModal,color:"primary",label:"Create Record",unelevated:"",rounded:"","no-caps":""},null,8,["onClick"])]),(0,n.Wm)(c,{modelValue:a.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>a.tab=e),dense:"",class:"text-grey bg-white rounded-borders bordered q-mt-md","active-color":"primary","indicator-color":"primary",align:"justify"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{"no-caps":"",name:"inventory item",label:"Inventory items"}),(0,n.Wm)(m,{"no-caps":"",name:"non-inventory item",label:"Non-inventory items"}),(0,n.Wm)(m,{"no-caps":"",name:"service",label:"Services"})])),_:1},8,["modelValue"]),(0,n.Wm)(y,{class:"bg-secondary",modelValue:a.tab,"onUpdate:modelValue":t[1]||(t[1]=e=>a.tab=e),animated:""},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{name:"inventory item",class:"q-pa-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(p)])),_:1}),(0,n.Wm)(f,{name:"non-inventory item",class:"q-pa-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(b)])),_:1}),(0,n.Wm)(f,{class:"bg-secondary",name:"service"},{default:(0,n.w5)((()=>[(0,n.Wm)(h)])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(g,{seamless:"",position:"right",modelValue:s.dialogueit,"onUpdate:modelValue":t[3]||(t[3]=e=>s.dialogueit=e),persistent:""},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{onCloseDialogue:t[2]||(t[2]=e=>s.dialogueit=!1),action:"Add",type:a.tab},null,8,["type"])])),_:1},8,["modelValue"]),(0,n.Wm)(g,{seamless:"",position:"right",modelValue:s.dialoguenit,"onUpdate:modelValue":t[5]||(t[5]=e=>s.dialoguenit=e),persistent:""},{default:(0,n.w5)((()=>[(0,n.Wm)(v,{onCloseDialogue:t[4]||(t[4]=e=>s.dialoguenit=!1),action:"Add",type:a.tab},null,8,["type"])])),_:1},8,["modelValue"]),(0,n.Wm)(g,{seamless:"",position:"right",modelValue:s.dialogueser,"onUpdate:modelValue":t[7]||(t[7]=e=>s.dialogueser=e),persistent:""},{default:(0,n.w5)((()=>[(0,n.Wm)(I,{onCloseDialogue:t[6]||(t[6]=e=>s.dialogueser=!1),action:"Add",type:a.tab},null,8,["type"])])),_:1},8,["modelValue"])])),_:1})}var s=i(1959),r=(i(246),i(2323));const d={style:{"font-size":"15px",margin:"0 !important"}};function u(e,t,i,o,l,a){const s=(0,n.up)("q-td"),u=(0,n.up)("q-icon"),m=(0,n.up)("q-item-section"),c=(0,n.up)("q-item"),p=(0,n.up)("q-separator"),f=(0,n.up)("q-list"),b=(0,n.up)("q-menu"),h=(0,n.up)("q-btn"),y=(0,n.up)("q-tr"),w=(0,n.up)("q-table"),g=(0,n.up)("modal"),v=(0,n.up)("q-dialog"),I=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(w,{rows:e.inventoryItems,columns:l.columns,"row-key":"id",loading:l.loading,flat:"",class:"bg-secondary q-pt-md"},{body:(0,n.w5)((t=>[(0,n.Wm)(y,{class:(0,r.C_)(t.rowIndex%2!==0&&"bg-white"),props:t},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{key:"name",props:t},{default:(0,n.w5)((()=>[(0,n._)("p",d,(0,r.zw)(t.row.name),1)])),_:2},1032,["props"]),(0,n.Wm)(s,{key:"description",innerHTML:t.row.description,props:t},null,8,["innerHTML","props"]),(0,n.Wm)(s,{key:"unitPrice",props:t},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(t.row.unitPrice),1)])),_:2},1032,["props"]),(0,n.Wm)(s,{key:"qty",props:t},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(t.row.qty),1)])),_:2},1032,["props"]),(0,n.Wm)(s,{key:"purchasedAt",props:t},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(a.dateConversion(t.row.purchasedAt)),1)])),_:2},1032,["props"]),(0,n.Wm)(s,{key:"expireDate",props:t},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(a.dateConversion(t.row.expireDate)),1)])),_:2},1032,["props"]),(0,n.Wm)(s,{key:"supplier",props:t},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(t.row.supplier),1)])),_:2},1032,["props"]),(0,n.Wm)(s,{key:"actions",props:t},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{dense:"",round:"",flat:"",icon:"more_vert"},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{"transition-show":"scale","transition-hide":"scale"},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{style:{"min-width":"75px"}},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(c,{onClick:i=>e.delItem(t.row.id),style:{},clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{class:"flex flex-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{name:"delete",color:"negative",size:"xs"})])),_:1})])),_:2},1032,["onClick"]),[[I]]),(0,n.Wm)(p),(0,n.wy)((0,n.Wm)(c,{onClick:e=>a.edit(t.row),clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{class:"flex flex-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{name:"edit",color:"warning",size:"xs"})])),_:1})])),_:2},1032,["onClick"]),[[I]])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:2},1032,["class","props"])])),_:1},8,["rows","columns","loading"]),(0,n.Wm)(v,{seamless:"",position:"right",modelValue:l.prompt,"onUpdate:modelValue":t[1]||(t[1]=e=>l.prompt=e),persistent:""},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{onCloseDialogue:t[0]||(t[0]=e=>l.prompt=!1),action:l.action,body:l.body},null,8,["action","body"])])),_:1},8,["modelValue"])])}var m=i(3617),c=i(1082);const p=(0,n._)("div",{class:"q-ma-none absolute q-ml-sm text-grey-7",style:{"z-index":"10","font-size":"12px","line-height":"20px","font-weight":"400"}},"Purchase date",-1),f=(0,n._)("div",{class:"q-ma-none absolute q-ml-sm text-grey-7",style:{"z-index":"10","font-size":"12px","line-height":"20px","font-weight":"400"}},"Expire date",-1);function b(e,t,i,o,l,a){const s=(0,n.up)("q-toolbar-title"),d=(0,n.up)("q-btn"),u=(0,n.up)("q-toolbar"),m=(0,n.up)("q-input"),c=(0,n.up)("Datepicker"),b=(0,n.up)("q-editor"),h=(0,n.up)("q-card-section"),y=(0,n.up)("q-card"),w=(0,n.up)("q-layout"),g=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(w,{style:{width:"550px !important"}},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{style:{"max-width":"550px","min-height":"100vh"},flat:"",square:""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{class:"bg-grey-3",style:{position:"sticky !important",top:"0","z-index":"15"}},{default:(0,n.w5)((()=>[(0,n.Wm)(s,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(i.action+" ")+" inventory item ",1)])),_:1}),(0,n.wy)((0,n.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[g]])])),_:1}),(0,n.Wm)(h,{class:"q-gutter-md scroll"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{rules:[e=>e&&0!==e.length||"This field is required"],ref:"nameRef",outlined:"",modelValue:l.inventoryItem.name,"onUpdate:modelValue":t[0]||(t[0]=e=>l.inventoryItem.name=e),label:"Name"},null,8,["rules","modelValue"]),(0,n._)("div",null,[p,(0,n.Wm)(c,{modelValue:l.inventoryItem.purchasedAt,"onUpdate:modelValue":t[1]||(t[1]=e=>l.inventoryItem.purchasedAt=e),showNowButton:""},null,8,["modelValue"])]),(0,n._)("div",null,[f,(0,n.Wm)(c,{class:"q-mt-sm",modelValue:l.inventoryItem.expireDate,"onUpdate:modelValue":t[2]||(t[2]=e=>l.inventoryItem.expireDate=e),showNowButton:""},null,8,["modelValue"])]),(0,n.Wm)(b,{modelValue:l.inventoryItem.description,"onUpdate:modelValue":t[3]||(t[3]=e=>l.inventoryItem.description=e),dense:e.$q.screen.lt.md,toolbar:[[{label:e.$q.lang.editor.align,icon:e.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],["print","fullscreen"],[{label:e.$q.lang.editor.formatting,icon:e.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:e.$q.lang.editor.fontSize,icon:e.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:e.$q.lang.editor.defaultFont,icon:e.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},null,8,["modelValue","dense","toolbar"]),(0,n.Wm)(m,{rules:[e=>e&&e>0||"This field is required"],ref:"numRef",outlined:"",modelValue:l.inventoryItem.unitPrice,"onUpdate:modelValue":t[4]||(t[4]=e=>l.inventoryItem.unitPrice=e),label:"Unit price",type:"number"},null,8,["rules","modelValue"]),(0,n.Wm)(m,{rules:[e=>e&&e>0||"This field is required"],ref:"qtyRef",outlined:"",modelValue:l.inventoryItem.qty,"onUpdate:modelValue":t[5]||(t[5]=e=>l.inventoryItem.qty=e),label:"Quantity",type:"number"},null,8,["rules","modelValue"]),(0,n.Wm)(m,{rules:[e=>e&&0!==e.length||"This field is required"],ref:"supRef",outlined:"",modelValue:l.inventoryItem.supplier,"onUpdate:modelValue":t[6]||(t[6]=e=>l.inventoryItem.supplier=e),label:"Supplier"},null,8,["rules","modelValue"])])),_:1})])),_:1}),(0,n.Wm)(u,{class:"bg-grey-3",style:{position:"sticky !important",bottom:"0","z-index":"5"}},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{loading:l.loading,onClick:a.submit,label:"Submit","no-caps":"",type:"reset",color:"primary",unelevated:"",class:"full-width"},null,8,["loading","onClick"])])),_:1})])),_:1})}var h=i(4789);const y={components:{Datepicker:h.Z},props:["body","action","clientId"],data(){return{loading:!1,id:null,inventoryItem:{name:"",description:"Description",unitPrice:0,expireDate:"",qty:0,supplier:"",status:"",purchasedAt:""}}},methods:{...(0,m.nv)("accountingStore",["addItem","editItem"]),async submit(){this.$refs.nameRef.validate(),this.$refs.numRef.validate(),this.$refs.qtyRef.validate(),this.$refs.supRef.validate(),this.$refs.nameRef.hasError||this.$refs.numRef.hasError||this.$refs.qtyRef.hasError||this.$refs.supRef.hasError||(this.loading=!0,this.inventoryItem.purchasedAt=c.ZP.formatDate(new Date(this.inventoryItem.purchasedAt),"YYYY-MM-DD HH:mm"),this.inventoryItem.expireDate=c.ZP.formatDate(new Date(this.inventoryItem.expireDate),"YYYY-MM-DD HH:mm"),this.inventoryItem.unitPrice=Number(this.inventoryItem.unitPrice),this.inventoryItem.unitPrice=Number(this.inventoryItem.qty),"Add"===this.action?await this.addItem({...this.inventoryItem}):"Edit"===this.action&&await this.editItem({...this.inventoryItem,id:this.id}),this.loading=!1,this.$emit("closeDialogue"))}},mounted(){if("Edit"===this.action){this.id=this.body.id,this.inventoryItem.name=this.body.name,this.inventoryItem.description=this.body.description,this.inventoryItem.unitPrice=this.body.unitPrice;let e=new Date(this.body.expireDate);e.setHours(e.getHours()-3),this.inventoryItem.expireDate=c.ZP.formatDate(e,"YYYY-MM-DD HH:mm"),this.inventoryItem.qty=this.body.qty,this.inventoryItem.supplier=this.body.supplier,this.inventoryItem.status=this.body.status;let t=new Date(this.body.purchasedAt);t.setHours(t.getHours()-3),this.inventoryItem.purchasedAt=c.ZP.formatDate(t,"YYYY-MM-DD HH:mm")}else this.inventoryItem.purchasedAt=c.ZP.formatDate(new Date,"YYYY-MM-DD HH:mm"),this.inventoryItem.expireDate=c.ZP.formatDate(new Date,"YYYY-MM-DD HH:mm")}};var w=i(9214),g=i(151),v=i(9570),I=i(3747),q=i(2165),_=i(5589),W=i(4689),k=i(9989),x=i(677),S=i(7518),Z=i.n(S);y.render=b;const V=y;Z()(y,"components",{QLayout:w.Z,QCard:g.Z,QToolbar:v.Z,QToolbarTitle:I.Z,QBtn:q.Z,QCardSection:_.Z,QInput:W.Z,QEditor:k.Z}),Z()(y,"directives",{ClosePopup:x.Z});const D={data(){return{prompt:!1,loading:!1,action:"",body:{},columns:[{name:"name",align:"left",label:"Name",field:"name"},{name:"description",align:"left",label:"Description",field:"description"},{name:"unitPrice",label:"Unit price",align:"left",field:"unitPrice"},{name:"qty",align:"left",label:"Quantity",field:"qty"},{name:"purchasedAt",align:"left",label:"Purchased at",field:"purchasedAt"},{name:"expireDate",align:"left",label:"Expire date",field:"expireDate"},{name:"supplier",align:"left",label:"Supplier",field:"supplier"},{name:"actions",align:"left",label:"Actions",field:"actions"}]}},components:{modal:V},computed:{...(0,m.rn)("accountingStore",["inventoryItems"])},methods:{...(0,m.nv)("accountingStore",["getInventoryItems","delItem"]),rowColor(e){if(e.rowIndex%2!==0)return"background: #fff;"},dateConversion(e){let t=new Date(e);return t.setHours(t.getHours()-3),c.ZP.formatDate(t,"YYYY-MM-DD HH:mm")},edit(e){this.body=e,this.action="Edit",this.prompt=!0}},async mounted(){await this.getInventoryItems()}};var Q=i(1277),z=i(8186),C=i(3884),P=i(811),$=i(7011),U=i(3414),T=i(2035),R=i(4554),Y=i(5869),H=i(6778);D.render=u;const M=D;Z()(D,"components",{QTable:Q.Z,QTr:z.Z,QTd:C.Z,QBtn:q.Z,QMenu:P.Z,QList:$.Z,QItem:U.Z,QItemSection:T.Z,QIcon:R.Z,QSeparator:Y.Z,QDialog:H.Z}),Z()(D,"directives",{ClosePopup:x.Z});const A={style:{"font-size":"15px",margin:"0 !important"}};function N(e,t,i,o,l,a){const s=(0,n.up)("q-td"),d=(0,n.up)("q-icon"),u=(0,n.up)("q-item-section"),m=(0,n.up)("q-item"),c=(0,n.up)("q-separator"),p=(0,n.up)("q-list"),f=(0,n.up)("q-menu"),b=(0,n.up)("q-btn"),h=(0,n.up)("q-tr"),y=(0,n.up)("q-table"),w=(0,n.up)("modal"),g=(0,n.up)("q-dialog"),v=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(y,{rows:e.nonInventoryItems,columns:l.columns,"row-key":"id",loading:l.loading,flat:"",class:"bg-secondary q-pt-md"},{body:(0,n.w5)((t=>[(0,n.Wm)(h,{class:(0,r.C_)(t.rowIndex%2!==0&&"bg-white"),props:t},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{key:"name",props:t},{default:(0,n.w5)((()=>[(0,n._)("p",A,(0,r.zw)(t.row.name),1)])),_:2},1032,["props"]),(0,n.Wm)(s,{key:"description",innerHTML:t.row.description,props:t},null,8,["innerHTML","props"]),(0,n.Wm)(s,{key:"unitPrice",props:t},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(t.row.unitPrice),1)])),_:2},1032,["props"]),(0,n.Wm)(s,{key:"supplier",props:t},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(t.row.supplier),1)])),_:2},1032,["props"]),(0,n.Wm)(s,{key:"actions",props:t},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{dense:"",round:"",flat:"",icon:"more_vert"},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{"transition-show":"scale","transition-hide":"scale"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{style:{"min-width":"75px"}},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(m,{onClick:i=>e.delNItem(t.row.id),style:{},clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{class:"flex flex-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{name:"delete",color:"negative",size:"xs"})])),_:1})])),_:2},1032,["onClick"]),[[v]]),(0,n.Wm)(c),(0,n.wy)((0,n.Wm)(m,{onClick:e=>a.edit(t.row),clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{class:"flex flex-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{name:"edit",color:"warning",size:"xs"})])),_:1})])),_:2},1032,["onClick"]),[[v]])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:2},1032,["class","props"])])),_:1},8,["rows","columns","loading"]),(0,n.Wm)(g,{seamless:"",position:"right",modelValue:l.prompt,"onUpdate:modelValue":t[1]||(t[1]=e=>l.prompt=e),persistent:""},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{onCloseDialogue:t[0]||(t[0]=e=>l.prompt=!1),action:l.action,body:l.body},null,8,["action","body"])])),_:1},8,["modelValue"])])}function L(e,t,i,o,l,a){const s=(0,n.up)("q-toolbar-title"),d=(0,n.up)("q-btn"),u=(0,n.up)("q-toolbar"),m=(0,n.up)("q-input"),c=(0,n.up)("q-editor"),p=(0,n.up)("q-card-section"),f=(0,n.up)("q-card"),b=(0,n.up)("q-layout"),h=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(b,{style:{width:"550px !important"}},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{style:{"max-width":"550px",height:"100vh !important"},flat:"",square:""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{class:"bg-grey-3",style:{position:"sticky !important",top:"0","z-index":"15"}},{default:(0,n.w5)((()=>[(0,n.Wm)(s,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(i.action+" ")+" non-inventory item ",1)])),_:1}),(0,n.wy)((0,n.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[h]])])),_:1}),(0,n.Wm)(p,{class:"q-gutter-md scroll"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{rules:[e=>e&&0!==e.length||"This field is required"],ref:"nameRef",outlined:"",modelValue:l.nonInventoryItem.name,"onUpdate:modelValue":t[0]||(t[0]=e=>l.nonInventoryItem.name=e),label:"Name"},null,8,["rules","modelValue"]),(0,n.Wm)(c,{modelValue:l.nonInventoryItem.description,"onUpdate:modelValue":t[1]||(t[1]=e=>l.nonInventoryItem.description=e),dense:e.$q.screen.lt.md,toolbar:[[{label:e.$q.lang.editor.align,icon:e.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],["print","fullscreen"],[{label:e.$q.lang.editor.formatting,icon:e.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:e.$q.lang.editor.fontSize,icon:e.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:e.$q.lang.editor.defaultFont,icon:e.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},null,8,["modelValue","dense","toolbar"]),(0,n.Wm)(m,{rules:[e=>e&&e>0||"This field is required"],ref:"numRef",outlined:"",modelValue:l.nonInventoryItem.unitPrice,"onUpdate:modelValue":t[2]||(t[2]=e=>l.nonInventoryItem.unitPrice=e),label:"Unit price",type:"number"},null,8,["rules","modelValue"]),(0,n.Wm)(m,{rules:[e=>e&&0!==e.length||"This field is required"],ref:"supRef",outlined:"",modelValue:l.nonInventoryItem.supplier,"onUpdate:modelValue":t[3]||(t[3]=e=>l.nonInventoryItem.supplier=e),label:"Supplier"},null,8,["rules","modelValue"])])),_:1})])),_:1}),(0,n.Wm)(u,{class:"bg-grey-3",style:{position:"sticky !important",bottom:"0","z-index":"5"}},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(d,{loading:l.loading,onClick:a.submit,label:"Submit","no-caps":"",type:"reset",color:"primary",unelevated:"",class:"full-width"},null,8,["loading","onClick"]),[[h,l.close]])])),_:1})])),_:1})}const E={components:{Datepicker:h.Z},props:["body","action","clientId"],data(){return{loading:!1,id:null,close:!1,nonInventoryItem:{name:"",description:"Description",unitPrice:0,supplier:"",status:""}}},methods:{...(0,m.nv)("accountingStore",["addNItem","editNItem"]),async submit(){this.$refs.nameRef.validate(),this.$refs.numRef.validate(),this.$refs.supRef.validate(),this.$refs.nameRef.hasError||this.$refs.numRef.hasError||this.$refs.supRef.hasError||(this.loading=!0,this.nonInventoryItem.unitPrice=Number(this.nonInventoryItem.unitPrice),"Add"===this.action?await this.addNItem({...this.nonInventoryItem}):"Edit"===this.action&&await this.editNItem({...this.nonInventoryItem,id:this.id}),this.loading=!1,this.$emit("closeDialogue"))}},mounted(){"Edit"===this.action&&(this.id=this.body.id,this.nonInventoryItem.name=this.body.name,this.nonInventoryItem.description=this.body.description,this.nonInventoryItem.unitPrice=this.body.unitPrice,this.nonInventoryItem.supplier=this.body.supplier,this.nonInventoryItem.status=this.body.status)}};E.render=L;const B=E;Z()(E,"components",{QLayout:w.Z,QCard:g.Z,QToolbar:v.Z,QToolbarTitle:I.Z,QBtn:q.Z,QCardSection:_.Z,QInput:W.Z,QEditor:k.Z}),Z()(E,"directives",{ClosePopup:x.Z});const j={data(){return{prompt:!1,loading:!1,action:"",body:{},columns:[{name:"name",align:"left",label:"Name",field:"name"},{name:"description",align:"left",label:"Description",field:"description"},{name:"unitPrice",label:"Unit price",align:"left",field:"unitPrice"},{name:"supplier",align:"left",label:"Supplier",field:"supplier"},{name:"actions",align:"left",label:"Actions",field:"actions"}]}},components:{modal:B},computed:{...(0,m.rn)("accountingStore",["nonInventoryItems"])},methods:{...(0,m.nv)("accountingStore",["getNonInventoryItems","delNItem"]),rowColor(e){if(e.rowIndex%2!==0)return"background: #fff;"},dateConversion(e){let t=new Date(e);return t.setHours(t.getHours()-3),c.ZP.formatDate(t,"YYYY-MM-DD HH:mm")},edit(e){this.body=e,this.action="Edit",this.prompt=!0}},async mounted(){await this.getNonInventoryItems()}};j.render=N;const F=j;Z()(j,"components",{QTable:Q.Z,QTr:z.Z,QTd:C.Z,QBtn:q.Z,QMenu:P.Z,QList:$.Z,QItem:U.Z,QItemSection:T.Z,QIcon:R.Z,QSeparator:Y.Z,QDialog:H.Z}),Z()(j,"directives",{ClosePopup:x.Z});var G=i(8880);const K={style:{"font-size":"15px",margin:"0 !important"}},O={class:"flex"},J={key:0,class:"text-h6"},X={key:0},ee={key:0},te=["onClick"],ie={key:1,class:"q-ml-md"};function ne(e,t,i,o,l,a){const s=(0,n.up)("q-btn"),d=(0,n.up)("q-td"),u=(0,n.up)("q-icon"),m=(0,n.up)("q-item-section"),c=(0,n.up)("q-item"),p=(0,n.up)("q-separator"),f=(0,n.up)("q-list"),b=(0,n.up)("q-menu"),h=(0,n.up)("q-tr"),y=(0,n.up)("q-space"),w=(0,n.up)("q-input"),g=(0,n.up)("q-popup-proxy"),v=(0,n.up)("q-spinner-tail"),I=(0,n.up)("q-table"),q=(0,n.up)("modal"),_=(0,n.up)("q-dialog"),W=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(I,{rows:e.serviceItems,columns:l.columns,"row-key":"id",loading:l.loading,flat:"",class:"bg-secondary q-pt-md"},{body:(0,n.w5)((i=>[(0,n.Wm)(h,{class:(0,r.C_)(i.rowIndex%2!==0&&"bg-white"),props:i},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{"auto-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{size:"sm",color:"primary",round:"",dense:"",onClick:e=>i.expand=!i.expand,icon:i.expand?"remove":"add"},null,8,["onClick","icon"])])),_:2},1024),(0,n.Wm)(d,{key:"name",props:i},{default:(0,n.w5)((()=>[(0,n._)("p",K,(0,r.zw)(i.row.name),1)])),_:2},1032,["props"]),(0,n.Wm)(d,{key:"description",innerHTML:i.row.description,props:i},null,8,["innerHTML","props"]),(0,n.Wm)(d,{key:"unitPrice",props:i},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(i.row.unitPrice),1)])),_:2},1032,["props"]),(0,n.Wm)(d,{key:"supplier",props:i},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(i.row.supplier),1)])),_:2},1032,["props"]),(0,n.Wm)(d,{key:"actions",props:i},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{dense:"",round:"",flat:"",icon:"more_vert"},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{"transition-show":"scale","transition-hide":"scale"},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{style:{"min-width":"75px"}},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(c,{onClick:t=>e.delSItem(i.row.id),style:{},clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{class:"flex flex-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{name:"delete",color:"negative",size:"xs"})])),_:1})])),_:2},1032,["onClick"]),[[W]]),(0,n.Wm)(p),(0,n.wy)((0,n.Wm)(c,{onClick:e=>a.edit(i.row),clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{class:"flex flex-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{name:"edit",color:"warning",size:"xs"})])),_:1})])),_:2},1032,["onClick"]),[[W]])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:2},1032,["class","props"]),(0,n.wy)((0,n.Wm)(h,{props:i},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{colspan:"100%"},{default:(0,n.w5)((()=>[(0,n._)("div",O,[0!==i.row.subServices.length?((0,n.wg)(),(0,n.iD)("p",J,"Sub services")):(0,n.kq)("",!0),(0,n.Wm)(y),(0,n.Wm)(s,{color:"primary",icon:"add","no-caps":"",flat:""},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{breakpoint:0,class:"q-pa-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{modelValue:l.sub,"onUpdate:modelValue":t[0]||(t[0]=e=>l.sub=e)},null,8,["modelValue"]),(0,n.wy)((0,n.Wm)(s,{size:"sm","no-caps":"",label:"Submit",disable:""===l.sub,flat:"",onClick:e=>a.addSub(i.row.id),color:"primary",class:"q-mt-sm"},null,8,["disable","onClick"]),[[W]])])),_:2},1024)])),_:2},1024)]),0===i.row.subServices.length?((0,n.wg)(),(0,n.iD)("div",X,"No sub-services found.")):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.row.subServices,((o,d)=>((0,n.wg)(),(0,n.iD)("div",{key:d,class:"flex items-center"},[(0,n.Wm)(s,{icon:"delete",onClick:t=>e.deleteSubService(i.row.subServices[d].id),color:"negative",flat:"",size:"sm"},null,8,["onClick"]),l.i===d?((0,n.wg)(),(0,n.iD)("div",ee,[(0,n.Wm)(v,{color:"primary",size:"2em"})])):((0,n.wg)(),(0,n.iD)("div",{key:1,onClick:e=>{l.subs=i.row.subServices[d].name},class:"text-left"},[(0,n.Uk)((0,r.zw)(d+1)+"-"+(0,r.zw)(i.row.subServices[d].name)+" ",1),(0,n.Wm)(g,{breakpoint:0,class:"q-pa-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{modelValue:l.subs,"onUpdate:modelValue":t[1]||(t[1]=e=>l.subs=e)},null,8,["modelValue"]),(0,n.wy)((0,n.Wm)(s,{size:"sm",label:"Submit",disable:l.subs===i.row.subServices[d].name,"no-caps":"",flat:"",onClick:e=>{a.editSub(i.row.subServices[d].id,i.row.id),l.i=d},color:"primary",class:"q-mt-sm"},null,8,["disable","onClick"]),[[W]])])),_:2},1024)],8,te))])))),128)),l.subLoading?((0,n.wg)(),(0,n.iD)("div",ie,[(0,n.Wm)(v,{color:"primary",size:"2em"})])):(0,n.kq)("",!0)])),_:2},1024)])),_:2},1032,["props"]),[[G.F8,i.expand]])])),_:1},8,["rows","columns","loading"]),(0,n.Wm)(_,{seamless:"",position:"right",modelValue:l.prompt,"onUpdate:modelValue":t[3]||(t[3]=e=>l.prompt=e),persistent:""},{default:(0,n.w5)((()=>[(0,n.Wm)(q,{onCloseDialogue:t[2]||(t[2]=e=>l.prompt=!1),action:l.action,body:l.body},null,8,["action","body"])])),_:1},8,["modelValue"])])}function oe(e,t,i,o,l,a){const s=(0,n.up)("q-toolbar-title"),d=(0,n.up)("q-btn"),u=(0,n.up)("q-toolbar"),m=(0,n.up)("q-input"),c=(0,n.up)("q-editor"),p=(0,n.up)("q-card-section"),f=(0,n.up)("q-card"),b=(0,n.up)("q-layout"),h=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(b,{style:{width:"550px !important"}},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{style:{"max-width":"550px",height:"100vh"},flat:"",square:""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{class:"bg-grey-3",style:{position:"sticky !important",top:"0","z-index":"15"}},{default:(0,n.w5)((()=>[(0,n.Wm)(s,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(i.action+" ")+" service ",1)])),_:1}),(0,n.wy)((0,n.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[h]])])),_:1}),(0,n.Wm)(p,{class:"q-gutter-md scroll"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{rules:[e=>e&&0!==e.length||"This field is required"],ref:"nameRef",outlined:"",modelValue:l.serviceItem.name,"onUpdate:modelValue":t[0]||(t[0]=e=>l.serviceItem.name=e),label:"Name"},null,8,["rules","modelValue"]),(0,n.Wm)(c,{modelValue:l.serviceItem.description,"onUpdate:modelValue":t[1]||(t[1]=e=>l.serviceItem.description=e),dense:e.$q.screen.lt.md,toolbar:[[{label:e.$q.lang.editor.align,icon:e.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],["print","fullscreen"],[{label:e.$q.lang.editor.formatting,icon:e.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:e.$q.lang.editor.fontSize,icon:e.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:e.$q.lang.editor.defaultFont,icon:e.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},null,8,["modelValue","dense","toolbar"]),(0,n.Wm)(m,{rules:[e=>e&&e>0||"This field is required"],ref:"numRef",outlined:"",modelValue:l.serviceItem.unitPrice,"onUpdate:modelValue":t[2]||(t[2]=e=>l.serviceItem.unitPrice=e),label:"Unit price",type:"number"},null,8,["rules","modelValue"]),(0,n.Wm)(m,{rules:[e=>e&&0!==e.length||"This field is required"],ref:"supRef",outlined:"",modelValue:l.serviceItem.supplier,"onUpdate:modelValue":t[3]||(t[3]=e=>l.serviceItem.supplier=e),label:"Supplier"},null,8,["rules","modelValue"])])),_:1})])),_:1}),(0,n.Wm)(u,{class:"bg-grey-3",style:{position:"sticky !important",bottom:"0","z-index":"5"}},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{loading:l.loading,onClick:a.submit,label:"Submit","no-caps":"",type:"reset",color:"primary",unelevated:"",class:"full-width"},null,8,["loading","onClick"])])),_:1})])),_:1})}const le={components:{Datepicker:h.Z},props:["body","action","clientId"],data(){return{loading:!1,id:null,serviceItem:{name:"",description:"Description",unitPrice:0,supplier:"",status:""}}},methods:{...(0,m.nv)("accountingStore",["addSItem","editSItem"]),async submit(){this.$refs.nameRef.validate(),this.$refs.numRef.validate(),this.$refs.supRef.validate(),this.$refs.nameRef.hasError||this.$refs.numRef.hasError||this.$refs.supRef.hasError||(this.loading=!0,this.serviceItem.unitPrice=Number(this.serviceItem.unitPrice),"Add"===this.action?await this.addSItem({...this.serviceItem}):"Edit"===this.action&&await this.editSItem({...this.serviceItem,id:this.id}),this.loading=!1,this.$emit("closeDialogue"))}},mounted(){"Edit"===this.action&&(this.id=this.body.id,this.serviceItem.name=this.body.name,this.serviceItem.description=this.body.description,this.serviceItem.unitPrice=this.body.unitPrice,this.serviceItem.supplier=this.body.supplier,this.serviceItem.status=this.body.status)}};le.render=oe;const ae=le;Z()(le,"components",{QLayout:w.Z,QCard:g.Z,QToolbar:v.Z,QToolbarTitle:I.Z,QBtn:q.Z,QCardSection:_.Z,QInput:W.Z,QEditor:k.Z}),Z()(le,"directives",{ClosePopup:x.Z});const se={data(){return{prompt:!1,loading:!1,subLoading:!1,subs:"",sub:"",i:null,action:"",body:{},columns:[{name:"#",align:"center",label:"#",field:"#"},{name:"name",align:"left",label:"Name",field:"name"},{name:"description",align:"left",label:"Description",field:"description"},{name:"unitPrice",label:"Unit price",align:"left",field:"unitPrice"},{name:"supplier",align:"left",label:"Supplier",field:"supplier"},{name:"actions",align:"left",label:"Actions",field:"actions"}]}},components:{modal:ae},computed:{...(0,m.rn)("accountingStore",["serviceItems"])},methods:{...(0,m.nv)("accountingStore",["getServiceItems","delSItem","addSubService","deleteSubService","editSubService"]),rowColor(e){if(e.rowIndex%2!==0)return"background: #fff;"},async editSub(e,t){await this.editSubService({id:e,serviceItemId:t,name:this.subs}),this.i=null},async addSub(e){this.subLoading=!0,await this.addSubService({serviceItemId:e,name:this.sub}),this.subLoading=!1},edit(e){this.body=e,this.action="Edit",this.prompt=!0}},async mounted(){await this.getServiceItems()}};var re=i(2025),de=i(3944),ue=i(682);se.render=ne;const me=se;Z()(se,"components",{QTable:Q.Z,QTr:z.Z,QTd:C.Z,QBtn:q.Z,QMenu:P.Z,QList:$.Z,QItem:U.Z,QItemSection:T.Z,QIcon:R.Z,QSeparator:Y.Z,QSpace:re.Z,QPopupProxy:de.Z,QInput:W.Z,QSpinnerTail:ue.Z,QDialog:H.Z}),Z()(se,"directives",{ClosePopup:x.Z});var ce=i(6303);const pe={components:{breadcrumps:ce.Z,itemtbl:M,nitemtbl:F,sitemtbl:me,modalit:V,modalnit:B,modalser:ae},data(){return{dialogueit:!1,dialoguenit:!1,dialogueser:!1}},methods:{openModal(){"inventory item"===this.tab&&(this.dialogueit=!0),"non-inventory item"===this.tab&&(this.dialoguenit=!0),"service"===this.tab&&(this.dialogueser=!0)}},setup(){return{tab:(0,s.iH)("inventory item"),crumps:[{id:1,name:"OneConnect",icon:"home",path:"/"},{id:2,name:"Accounting",icon:"calculate",path:"/accounting"}]}}};var fe=i(4379),be=i(7547),he=i(3269),ye=i(5906),we=i(6602);pe.render=a;const ge=pe;Z()(pe,"components",{QPage:fe.Z,QBtn:q.Z,QTabs:be.Z,QTab:he.Z,QTabPanels:ye.Z,QTabPanel:we.Z,QDialog:H.Z})}}]);