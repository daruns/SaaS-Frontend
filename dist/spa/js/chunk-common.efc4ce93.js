(self["webpackChunkoc_front_end"]=self["webpackChunkoc_front_end"]||[]).push([[3064],{81887:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var l=i(83673);const o=(0,l._)("div",{class:"text-h6"},"Are you sure?",-1);function a(e,t){const i=(0,l.up)("q-card-section"),a=(0,l.up)("q-btn"),s=(0,l.up)("q-card-actions"),n=(0,l.up)("q-card"),d=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(n,{style:{width:"300px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[o])),_:1}),(0,l.Wm)(s,{align:"right"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(a,{flat:"",label:"Cancel",color:"negative"},null,512),[[d]]),(0,l.wy)((0,l.Wm)(a,{flat:"",label:"Delete",onClick:t[0]||(t[0]=t=>e.$emit("confirm")),color:"primary"},null,512),[[d]])])),_:1})])),_:1})}var s=i(10151),n=i(25589),d=i(99367),r=i(2165),c=i(60677),u=i(7518),m=i.n(u);const p={};p.render=a;const h=p;m()(p,"components",{QCard:s.Z,QCardSection:n.Z,QCardActions:d.Z,QBtn:r.Z}),m()(p,"directives",{ClosePopup:c.Z})},6942:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var l=i(83673);function o(e,t,i,o,a,s){const n=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.j4)(n,{loading:a.loading,onClick:s.submit,class:"col",color:"primary",label:"Download As PDF","no-caps":""},null,8,["loading","onClick"])}i(10071);const a={components:{},props:["body"],data(){return{loading:!1,payload:{}}},methods:{downloadPdf(){this.jsPDFInvoiceTemplate=window.jsPDFInvoiceTemplate;const{jsPDF:e,OutputType:t}=window.jsPDFInvoiceTemplate;this.payload.outputType="save",console.log("---- pfCreated: ",e);var i=this.jsPDFInvoiceTemplateCstm(this.payload,e);console.log("---- omwmw: ",i)},jsPDFInvoiceTemplateCstm(e,t){var i,l,o,a,s,n,d,r,c,u,m,p,h,g,b,y,v,f,w,x,q,C,_,V,k,D,I,W,S,z,T,j,Z,U,L,P,Q,N,M,R,E,$,O,H,A,F,Y,B,G,J,K,X,ee,te,ie,le,oe,ae,se;const ne={outputType:e.outputType||"save",returnJsPDFDocObject:e.returnJsPDFDocObject||!1,fileName:e.fileName||"",orientationLandscape:e.orientationLandscape||!1,compress:e.compress||!1,logo:{src:(null===(i=e.logo)||void 0===i?void 0:i.src)||"",type:(null===(l=e.logo)||void 0===l?void 0:l.type)||"",width:(null===(o=e.logo)||void 0===o?void 0:o.width)||"",height:(null===(a=e.logo)||void 0===a?void 0:a.height)||"",margin:{top:(null===(s=e.logo)||void 0===s||null===(n=s.margin)||void 0===n?void 0:n.top)||0,left:(null===(d=e.logo)||void 0===d||null===(r=d.margin)||void 0===r?void 0:r.left)||0}},business:{name:(null===(c=e.business)||void 0===c?void 0:c.name)||"",address:(null===(u=e.business)||void 0===u?void 0:u.address)||"",phone:(null===(m=e.business)||void 0===m?void 0:m.phone)||"",email:(null===(p=e.business)||void 0===p?void 0:p.email)||"",email_1:(null===(h=e.business)||void 0===h?void 0:h.email_1)||"",website:(null===(g=e.business)||void 0===g?void 0:g.website)||""},contact:{label:(null===(b=e.contact)||void 0===b?void 0:b.label)||"",name:(null===(y=e.contact)||void 0===y?void 0:y.name)||"",address:(null===(v=e.contact)||void 0===v?void 0:v.address)||"",phone:(null===(f=e.contact)||void 0===f?void 0:f.phone)||"",email:(null===(w=e.contact)||void 0===w?void 0:w.email)||"",otherInfo:(null===(x=e.contact)||void 0===x?void 0:x.otherInfo)||""},invoice:{label:(null===(q=e.invoice)||void 0===q?void 0:q.label)||"",invTotalLabel:(null===(C=e.invoice)||void 0===C?void 0:C.invTotalLabel)||"",invSubTotalLabel:(null===(_=e.invoice)||void 0===_?void 0:_.invSubTotalLabel)||"",num:(null===(V=e.invoice)||void 0===V?void 0:V.num)||"",invDate:(null===(k=e.invoice)||void 0===k?void 0:k.invDate)||"",invGenDate:(null===(D=e.invoice)||void 0===D?void 0:D.invGenDate)||"",headerBorder:(null===(I=e.invoice)||void 0===I?void 0:I.headerBorder)||!1,tableBodyBorder:(null===(W=e.invoice)||void 0===W?void 0:W.tableBodyBorder)||!1,header:(null===(S=e.invoice)||void 0===S?void 0:S.header)||[],table:(null===(z=e.invoice)||void 0===z?void 0:z.table)||[],invTotal:(null===(T=e.invoice)||void 0===T?void 0:T.invTotal)||"",invSubTotal:(null===(j=e.invoice)||void 0===j?void 0:j.invSubTotal)||"",invCurrency:(null===(Z=e.invoice)||void 0===Z?void 0:Z.invCurrency)||"",invCurrencyLetter:(null===(U=e.invoice)||void 0===U?void 0:U.invCurrencyLetter)||"",invDescLabel:(null===(L=e.invoice)||void 0===L?void 0:L.invDescLabel)||"",invDesc:(null===(P=e.invoice)||void 0===P?void 0:P.invDesc)||"",row1:{col1:(null===(Q=e.invoice)||void 0===Q||null===(N=Q.row1)||void 0===N?void 0:N.col1)||"",col2:(null===(M=e.invoice)||void 0===M||null===(R=M.row1)||void 0===R?void 0:R.col2)||"",col3:(null===(E=e.invoice)||void 0===E||null===($=E.row1)||void 0===$?void 0:$.col3)||"",style:{fontSize:(null===(O=e.invoice)||void 0===O||null===(H=O.row1)||void 0===H||null===(A=H.style)||void 0===A?void 0:A.fontSize)||12}},row2:{col1:(null===(F=e.invoice)||void 0===F||null===(Y=F.row2)||void 0===Y?void 0:Y.col1)||"",col2:(null===(B=e.invoice)||void 0===B||null===(G=B.row2)||void 0===G?void 0:G.col2)||"",col3:(null===(J=e.invoice)||void 0===J||null===(K=J.row2)||void 0===K?void 0:K.col3)||"",style:{fontSize:(null===(X=e.invoice)||void 0===X||null===(ee=X.row2)||void 0===ee||null===(te=ee.style)||void 0===te?void 0:te.fontSize)||12}}},footer:{text:(null===(ie=e.footer)||void 0===ie?void 0:ie.text)||""},pageEnable:e.pageEnable||!1,pageLabel:e.pageLabel||"Page"},de=(e,t)=>{var i=ce.splitTextToSize(e,t);return{text:i,height:ce.getTextDimensions(i).h}};if(ne.invoice.table&&ne.invoice.table.length&&ne.invoice.table[0].length!=ne.invoice.header.length)throw Error("Length of header and table column must be equal.");const re={orientation:ne.orientationLandscape?"landscape":"portrait",compress:ne.compress};var ce=new t(re.orientation,"mm","a4"),ue=ce.internal.pageSize.width,me=ce.internal.pageSize.height,pe="#000000",he="#444444",ge=15,be={headerTextSize:18,labelTextSize:12,fieldTextSize:10,lineHeight:6,subLineHeight:4};if(ce.addFileToVFS("Gilroy-Regular_0.ttf"),ce.setFont("Gilroy-Regular_0"),ce.setFontSize(be.headerTextSize),ce.setTextColor(pe),ce.text(ue-10,ge,(null===(le=ne.invoice)||void 0===le?void 0:le.label)+(null===(oe=ne.invoice)||void 0===oe?void 0:oe.num),"right"),ce.setFontSize(be.fieldTextSize),ce.setTextColor(he),ge+=be.subLineHeight,ge+=be.subLineHeight,ce.text(ue-10,ge,ne.invoice.invDate,"right"),""!==(null===(ae=ne.invoice)||void 0===ae?void 0:ae.invGenDate)&&(ge+=be.subLineHeight,ce.text(ue-10,ge,ne.invoice.invGenDate,"right")),ne.logo.src){ge-=be.subLineHeight,ge-=be.subLineHeight;var ye="";"undefined"===typeof window?ye=ne.logo.src:(ye=new Image,ye.src=ne.logo.src),ne.logo.type?ce.addImage(ye,ne.logo.type,10+ne.logo.margin.left,ge-5+ne.logo.margin.top,ne.logo.width,ne.logo.height):ce.addImage(ye,10+ne.logo.margin.left,ge-5+ne.logo.margin.top,ne.logo.width,ne.logo.height),ge+=ne.logo.height}ge+=be.subLineHeight,ce.text(10,ge,ne.business.name),ce.setFontSize(be.fieldTextSize),ge+=be.subLineHeight,ge+=be.subLineHeight,ce.text(10,ge,ne.business.address),ge+=be.subLineHeight,ce.text(10,ge,ne.business.phone),ce.setFontSize(be.fieldTextSize),ge+=be.subLineHeight,ce.text(10,ge,ne.business.email),ge+=be.subLineHeight,ce.text(10,ge,ne.business.website),ce.text(ue-10,ge,"Currency:  "+(null===(se=ne.invoice)||void 0===se?void 0:se.invCurrency),"right"),ge+=be.subLineHeight,ge+=be.subLineHeight,ge+=be.subLineHeight,ce.setTextColor(pe),ce.setFontSize(be.headerTextSize-5),ge+=be.lineHeight,ne.contact.label&&(ce.text(10,ge,ne.contact.label),ge+=be.lineHeight),ce.setFontSize(be.headerTextSize-5),ne.contact.name&&ce.text(10,ge,ne.contact.name),ne.contact.name&&(ge+=be.subLineHeight),ce.setTextColor(he),ce.setFontSize(be.fieldTextSize-2),ne.contact.address&&(ce.text(10,ge,ne.contact.address),ge+=be.subLineHeight),ne.contact.phone&&(ce.text(10,ge,ne.contact.phone),ge+=be.subLineHeight),ne.contact.email&&(ce.text(10,ge,ne.contact.email),ge+=be.subLineHeight),ne.contact.otherInfo?ce.text(10,ge,ne.contact.otherInfo):ge-=be.subLineHeight,ge+=be.subLineHeight,ge+=be.subLineHeight;var ve=(ce.getPageWidth()-20)/ne.invoice.header.length;if(ne.invoice.header.length>2){const e=ne.invoice.header.map((e=>{var t;return(null===e||void 0===e||null===(t=e.style)||void 0===t?void 0:t.width)||0})).filter((e=>e>0));let t=e.reduce(((e,t)=>e+t),0);ve=(ce.getPageWidth()-20-t)/(ne.invoice.header.length-e.length)}var fe=()=>{ge+=2;const e=10;let t=0;for(let s=0;s<ne.invoice.header.length;s++){var i,l;const n=(null===(i=ne.invoice.header[s])||void 0===i||null===(l=i.style)||void 0===l?void 0:l.width)||ve;if(0===s)ce.rect(10,ge,n,e);else{var o,a;const i=(null===(o=ne.invoice.header[s-1])||void 0===o||null===(a=o.style)||void 0===a?void 0:a.width)||ve,l=n==i?n:i;t+=l,ce.rect(t+10,ge,n,e)}}ge-=2},we=e=>{let t=0;for(let s=0;s<ne.invoice.header.length;s++){var i,l;const n=(null===(i=ne.invoice.header[s])||void 0===i||null===(l=i.style)||void 0===l?void 0:l.width)||ve;if(0===s)ce.rect(10,ge,n,e);else{var o,a;const i=(null===(o=ne.invoice.header[s-1])||void 0===o||null===(a=o.style)||void 0===a?void 0:a.width)||ve,l=n==i?n:i;t+=l,ce.rect(t+10,ge,n,e)}}},xe=()=>{ne.invoice.headerBorder&&fe(),ce.line(10,ge,ue-10,ge),ge+=be.subLineHeight,ce.setTextColor(pe),ce.setFontSize(be.fieldTextSize),ce.setDrawColor(he),ge+=1;let e=0;ne.invoice.header.forEach((function(t,i){if(0==i)ce.text(t.title,11,ge);else{var l,o,a;const s=(null===t||void 0===t||null===(l=t.style)||void 0===l?void 0:l.width)||ve,n=(null===(o=ne.invoice.header[i-1])||void 0===o||null===(a=o.style)||void 0===a?void 0:a.width)||ve,d=s==n?s:n;e+=d,ce.text(t.title,e+11,ge)}})),ge+=be.subLineHeight-1,ce.line(10,ge,ue-10,ge),ce.setTextColor(he)};xe();var qe=ne.invoice.table.length;ne.invoice.table.forEach((function(e,t){ce.line(10,ge,ue-10,ge);var i=function(){let t=[];return e.forEach((function(e,i){var l,o;const a=(null===(l=ne.invoice.header[i])||void 0===l||null===(o=l.style)||void 0===o?void 0:o.width)||ve;let s=de(e.toString(),a-1);t.push(s.height)})),t},l=Math.max(...i());ne.invoice.tableBodyBorder&&we(l+1),ge+=5;let o=0;e.forEach((function(e,t){var i,l;const a=(null===(i=ne.invoice.header[t])||void 0===i||null===(l=i.style)||void 0===l?void 0:l.width)||ve;let s=de(e.toString(),a-1);if(0==t)ce.text(s.text,11,ge+4);else{var n,d,r;const i=(null===e||void 0===e||null===(n=e.style)||void 0===n?void 0:n.width)||ve,l=(null===(d=ne.invoice.header[t-1])||void 0===d||null===(r=d.style)||void 0===r?void 0:r.width)||ve,a=i==l?i:l;o+=a,ce.text(s.text,11+o,ge+4)}})),ge+=l,ge+=5,t+1<qe&&(ge+=l),ne.orientationLandscape&&(ge>185||ge>178&&ce.getNumberOfPages()>1)&&(ce.addPage(),ge=10,t+1<qe&&xe()),!ne.orientationLandscape&&(ge>265||ge>255&&ce.getNumberOfPages()>1)&&(ce.addPage(),ge=10,t+1<qe&&xe()),t+1<qe&&ge>30&&(ge-=l)}));var Ce=de(ne.invoice.invDesc,ue/2).height,_e=function(){!ne.orientationLandscape&&ge+Ce>270&&(ce.addPage(),ge=10)},Ve=function(e=173){ne.orientationLandscape&&ge+Ce>e&&(ce.addPage(),ge=10)};if(Ve(),_e(),ce.setTextColor(pe),ce.setFontSize(be.labelTextSize-4),ge+=be.lineHeight,ne.invoice.header.length&&(ne.invoice.invSubTotal||ne.invoice.invSubTotalLabel||ne.invoice.invCurrency)&&(ge+=be.lineHeight,ge+=be.lineHeight,ge+=be.lineHeight,ge+=be.lineHeight),ce.setFontSize(ne.invoice.row1.style.fontSize),ce.text(ue/1.5,ge,ne.invoice.invSubTotalLabel),ce.text(ue-25,ge,ne.invoice.invSubTotal,"right"),ce.text(ue-10,ge,ne.invoice.invCurrency,"right"),ge+=be.lineHeight-4,ce.line(ue/1.5,ge,ue-10,ge),ne.invoice.row1&&(ne.invoice.row1.col1||ne.invoice.row1.col2||ne.invoice.row1.col3)&&(ge+=be.lineHeight,ce.text(ue/1.5,ge,ne.invoice.row1.col1),ce.text(ue-25,ge,ne.invoice.row1.col2,"right"),ce.text(ue-10,ge,ne.invoice.row1.col3,"right")),ge+=be.lineHeight-4,ce.line(ue/1.5,ge,ue-10,ge),ne.invoice.row2&&(ne.invoice.row2.col1||ne.invoice.row2.col2||ne.invoice.row2.col3)&&(ge+=be.lineHeight,ce.setFontSize(ne.invoice.row2.style.fontSize),ce.text(ue/1.5,ge,ne.invoice.row2.col1),ce.text(ue-25,ge,ne.invoice.row2.col2,"right"),ce.text(ue-10,ge,ne.invoice.row2.col3,"right")),ge+=be.lineHeight-4,ce.line(ue/1.5,ge,ue-10,ge),ne.invoice.header.length&&(ne.invoice.invTotal||ne.invoice.invTotalLabel||ne.invoice.invCurrency)&&(ge+=be.lineHeight),ce.text(ue/1.5,ge,ne.invoice.invTotalLabel),ce.text(ue-25,ge,ne.invoice.invTotal,"right"),ce.text(ue-10,ge,ne.invoice.invCurrency,"right"),Ve(),_e(),ce.setTextColor(pe),ge+=be.subLineHeight,ge+=be.subLineHeight,ce.setFontSize(be.labelTextSize),ce.getNumberOfPages()>1)for(let Ie=1;Ie<=ce.getNumberOfPages();Ie++)ce.setFontSize(be.fieldTextSize-2),ce.setTextColor(he),ne.pageEnable&&(ce.text(ue/2,me-10,ne.footer.text,"center"),ce.setPage(Ie),ce.text(ne.pageLabel+" "+Ie+" / "+ce.getNumberOfPages(),ue-20,ce.internal.pageSize.height-6)),Ve(183),_e();var ke=()=>{ce.setFontSize(be.labelTextSize),ce.setTextColor(pe),ce.text(ne.invoice.invDescLabel,10,ge),ge+=be.subLineHeight,ce.setTextColor(he),ce.setFontSize(be.fieldTextSize-1);var e=ce.splitTextToSize(ne.invoice.invDesc,ue/2);return ce.text(e,10,ge),ge+=ce.getTextDimensions(e).h>5?ce.getTextDimensions(e).h+6:be.lineHeight,ge};ke(),1===ce.getNumberOfPages()&&ne.pageEnable&&(ce.setFontSize(be.fieldTextSize-2),ce.setTextColor(he),ce.text(ue/2,me-10,ne.footer.text,"center"),ce.text(ne.pageLabel+"1 / 1",ue-20,ce.internal.pageSize.height-6));let De={pagesNumber:ce.getNumberOfPages()};if(ne.returnJsPDFDocObject&&(De={...De,jsPDFDocObject:ce}),"save"===ne.outputType)ce.save(ne.fileName);else if("blob"===ne.outputType){const e=ce.output("blob");De={...De,blob:e}}else"datauristring"===ne.outputType?De={...De,dataUriString:ce.output("datauristring",{filename:ne.fileName})}:"arraybuffer"===ne.outputType?De={...De,arrayBuffer:ce.output("arraybuffer")}:ce.output(ne.outputType,{filename:ne.fileName});return De},submit(){this.loading=!0;try{this.downloadPdf()}catch(e){console.log(e)}this.loading=!1}},mounted(){this.payload=this.body}};var s=i(2165),n=i(7518),d=i.n(n);a.render=o;const r=a;d()(a,"components",{QBtn:s.Z})},46303:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var l=i(83673);function o(e,t,i,o,a,s){const n=(0,l.up)("q-breadcrumbs-el"),d=(0,l.up)("q-breadcrumbs");return(0,l.wg)(),(0,l.j4)(d,{separator:"- - -"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.map,((e,t)=>((0,l.wg)(),(0,l.j4)(n,{to:e.path,exact:"",key:e.id,label:e.name,icon:e.icon},null,8,["to","label","icon"])))),128))])),_:1})}const a={props:["map"]};var s=i(31481),n=i(85926),d=i(7518),r=i.n(d);a.render=o;const c=a;r()(a,"components",{QBreadcrumbs:s.Z,QBreadcrumbsEl:n.Z})},85720:(e,t,i)=>{"use strict";i.d(t,{Z:()=>C});i(90246);var l=i(83673),o=i(62323);const a=(0,l._)("div",{class:"q-ma-none absolute q-ml-sm text-grey-7",style:{"z-index":"10","font-size":"12px","line-height":"20px","font-weight":"400"}},"Purchase date",-1),s=(0,l._)("div",{class:"q-ma-none absolute q-ml-sm text-grey-7",style:{"z-index":"10","font-size":"12px","line-height":"20px","font-weight":"400"}},"Expire date",-1);function n(e,t,i,n,d,r){const c=(0,l.up)("q-toolbar-title"),u=(0,l.up)("q-btn"),m=(0,l.up)("q-toolbar"),p=(0,l.up)("q-input"),h=(0,l.up)("Datepicker"),g=(0,l.up)("q-editor"),b=(0,l.up)("q-card-section"),y=(0,l.up)("q-card"),v=(0,l.up)("q-layout"),f=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(v,{style:{width:"550px !important"}},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{style:{"max-width":"550px","min-height":"100vh"},flat:"",square:""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{class:"bg-grey-3",style:{position:"sticky !important",top:"0","z-index":"15"}},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(i.action+" ")+" inventory item ",1)])),_:1}),(0,l.wy)((0,l.Wm)(u,{icon:"close",flat:"",round:"",dense:""},null,512),[[f]])])),_:1}),(0,l.Wm)(b,{class:"q-gutter-md scroll"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{rules:[e=>e&&0!==e.length||"This field is required"],ref:"nameRef",outlined:"",modelValue:d.inventoryItem.name,"onUpdate:modelValue":t[0]||(t[0]=e=>d.inventoryItem.name=e),label:"Name"},null,8,["rules","modelValue"]),(0,l._)("div",null,[a,(0,l.Wm)(h,{modelValue:d.inventoryItem.purchasedAt,"onUpdate:modelValue":t[1]||(t[1]=e=>d.inventoryItem.purchasedAt=e),showNowButton:""},null,8,["modelValue"])]),(0,l._)("div",null,[s,(0,l.Wm)(h,{class:"q-mt-sm",modelValue:d.inventoryItem.expireDate,"onUpdate:modelValue":t[2]||(t[2]=e=>d.inventoryItem.expireDate=e),showNowButton:""},null,8,["modelValue"])]),(0,l.Wm)(p,{rules:[e=>e&&e>0||"This field is required"],ref:"numRef",outlined:"",modelValue:d.inventoryItem.unitPrice,"onUpdate:modelValue":t[3]||(t[3]=e=>d.inventoryItem.unitPrice=e),label:"Unit price",type:"number"},null,8,["rules","modelValue"]),(0,l.Wm)(p,{rules:[e=>e&&e>0||"This field is required"],ref:"qtyRef",outlined:"",modelValue:d.inventoryItem.qty,"onUpdate:modelValue":t[4]||(t[4]=e=>d.inventoryItem.qty=e),label:"Quantity",type:"number"},null,8,["rules","modelValue"]),(0,l.Wm)(g,{modelValue:d.inventoryItem.description,"onUpdate:modelValue":t[5]||(t[5]=e=>d.inventoryItem.description=e),dense:!0,toolbar:[[{label:e.$q.lang.editor.align,icon:e.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],["print","fullscreen"],[{label:e.$q.lang.editor.formatting,icon:e.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:e.$q.lang.editor.fontSize,icon:e.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:e.$q.lang.editor.defaultFont,icon:e.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},null,8,["modelValue","toolbar"]),(0,l.Wm)(p,{outlined:"",modelValue:d.inventoryItem.supplier,"onUpdate:modelValue":t[6]||(t[6]=e=>d.inventoryItem.supplier=e),label:"Supplier"},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(m,{class:"bg-grey-3",style:{position:"sticky !important",bottom:"0","z-index":"5"}},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{loading:d.loading,onClick:r.submit,label:"Submit","no-caps":"",type:"reset",color:"primary",unelevated:"",class:"full-width"},null,8,["loading","onClick"])])),_:1})])),_:1})}var d=i(93617),r=i(25616),c=i(94789);const u={components:{Datepicker:c.Z},props:["body","action","clientId"],data(){return{loading:!1,id:null,inventoryItem:{name:"",description:"Description",unitPrice:0,expireDate:"",qty:0,supplier:"",purchasedAt:""}}},methods:{...(0,d.nv)("accountingStore",["addItem","editItem"]),async submit(){this.$refs.nameRef.validate(),this.$refs.numRef.validate(),this.$refs.qtyRef.validate(),this.$refs.nameRef.hasError||this.$refs.numRef.hasError||this.$refs.qtyRef.hasError||(this.loading=!0,this.inventoryItem.purchasedAt=r.ZP.formatDate(new Date(this.inventoryItem.purchasedAt),"YYYY-MM-DD HH:mm"),this.inventoryItem.expireDate=r.ZP.formatDate(new Date(this.inventoryItem.expireDate),"YYYY-MM-DD HH:mm"),this.inventoryItem.unitPrice=Number(this.inventoryItem.unitPrice),this.inventoryItem.unitPrice=Number(this.inventoryItem.qty),"Add"===this.action?await this.addItem({...this.inventoryItem}):"Edit"===this.action&&await this.editItem({...this.inventoryItem,id:this.id}),this.loading=!1,this.$emit("closeDialogue"))}},mounted(){if("Edit"===this.action){this.id=this.body.id,this.inventoryItem.name=this.body.name,this.inventoryItem.description=this.body.description,this.inventoryItem.unitPrice=this.body.unitPrice;let e=new Date(this.body.expireDate);e.setHours(e.getHours()-3),this.inventoryItem.expireDate=r.ZP.formatDate(e,"YYYY-MM-DD HH:mm"),this.inventoryItem.qty=this.body.qty,this.inventoryItem.supplier=this.body.supplier;let t=new Date(this.body.purchasedAt);t.setHours(t.getHours()-3),this.inventoryItem.purchasedAt=r.ZP.formatDate(t,"YYYY-MM-DD HH:mm")}else this.inventoryItem.purchasedAt=r.ZP.formatDate(new Date,"YYYY-MM-DD HH:mm"),this.inventoryItem.expireDate=r.ZP.formatDate(new Date,"YYYY-MM-DD HH:mm")}};var m=i(19214),p=i(10151),h=i(39570),g=i(13747),b=i(2165),y=i(25589),v=i(64689),f=i(89989),w=i(60677),x=i(7518),q=i.n(x);u.render=n;const C=u;q()(u,"components",{QLayout:m.Z,QCard:p.Z,QToolbar:h.Z,QToolbarTitle:g.Z,QBtn:b.Z,QCardSection:y.Z,QInput:v.Z,QEditor:f.Z}),q()(u,"directives",{ClosePopup:w.Z})},2545:(e,t,i)=>{"use strict";i.d(t,{Z:()=>w});i(90246);var l=i(83673),o=i(62323);function a(e,t,i,a,s,n){const d=(0,l.up)("q-toolbar-title"),r=(0,l.up)("q-btn"),c=(0,l.up)("q-toolbar"),u=(0,l.up)("q-input"),m=(0,l.up)("q-editor"),p=(0,l.up)("q-card-section"),h=(0,l.up)("q-card"),g=(0,l.up)("q-layout"),b=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(g,{style:{width:"550px !important"}},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{style:{"max-width":"550px",height:"100vh !important"},flat:"",square:""},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"bg-grey-3",style:{position:"sticky !important",top:"0","z-index":"15"}},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(i.action+" ")+" non-inventory item ",1)])),_:1}),(0,l.wy)((0,l.Wm)(r,{icon:"close",flat:"",round:"",dense:""},null,512),[[b]])])),_:1}),(0,l.Wm)(p,{class:"q-gutter-md scroll"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{rules:[e=>e&&0!==e.length||"This field is required"],ref:"nameRef",outlined:"",modelValue:s.nonInventoryItem.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.nonInventoryItem.name=e),label:"Name"},null,8,["rules","modelValue"]),(0,l.Wm)(u,{outlined:"",modelValue:s.nonInventoryItem.unitPrice,"onUpdate:modelValue":t[1]||(t[1]=e=>s.nonInventoryItem.unitPrice=e),label:"Unit price",type:"number"},null,8,["modelValue"]),(0,l.Wm)(u,{outlined:"",modelValue:s.nonInventoryItem.supplier,"onUpdate:modelValue":t[2]||(t[2]=e=>s.nonInventoryItem.supplier=e),label:"Supplier"},null,8,["modelValue"]),(0,l.Wm)(m,{modelValue:s.nonInventoryItem.description,"onUpdate:modelValue":t[3]||(t[3]=e=>s.nonInventoryItem.description=e),dense:!0,toolbar:[[{label:e.$q.lang.editor.align,icon:e.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],["print","fullscreen"],[{label:e.$q.lang.editor.formatting,icon:e.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:e.$q.lang.editor.fontSize,icon:e.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:e.$q.lang.editor.defaultFont,icon:e.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},null,8,["modelValue","toolbar"])])),_:1})])),_:1}),(0,l.Wm)(c,{class:"bg-grey-3",style:{position:"sticky !important",bottom:"0","z-index":"5"}},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(r,{loading:s.loading,onClick:n.submit,label:"Submit","no-caps":"",type:"reset",color:"primary",unelevated:"",class:"full-width"},null,8,["loading","onClick"]),[[b,s.close]])])),_:1})])),_:1})}var s=i(93617),n=i(94789);const d={components:{Datepicker:n.Z},props:["body","action","clientId"],data(){return{loading:!1,id:null,close:!1,nonInventoryItem:{name:"",description:"Description",unitPrice:0,supplier:""}}},methods:{...(0,s.nv)("accountingStore",["addNItem","editNItem"]),async submit(){this.$refs.nameRef.validate(),this.$refs.nameRef.hasError||(this.loading=!0,this.nonInventoryItem.unitPrice=Number(this.nonInventoryItem.unitPrice),"Add"===this.action?await this.addNItem({...this.nonInventoryItem}):"Edit"===this.action&&await this.editNItem({...this.nonInventoryItem,id:this.id}),this.loading=!1,this.$emit("closeDialogue"))}},mounted(){"Edit"===this.action&&(this.id=this.body.id,this.nonInventoryItem.name=this.body.name,this.nonInventoryItem.description=this.body.description,this.nonInventoryItem.unitPrice=this.body.unitPrice,this.nonInventoryItem.supplier=this.body.supplier)}};var r=i(19214),c=i(10151),u=i(39570),m=i(13747),p=i(2165),h=i(25589),g=i(64689),b=i(89989),y=i(60677),v=i(7518),f=i.n(v);d.render=a;const w=d;f()(d,"components",{QLayout:r.Z,QCard:c.Z,QToolbar:u.Z,QToolbarTitle:m.Z,QBtn:p.Z,QCardSection:h.Z,QInput:g.Z,QEditor:b.Z}),f()(d,"directives",{ClosePopup:y.Z})},81896:(e,t,i)=>{"use strict";i.d(t,{Z:()=>w});i(90246);var l=i(83673),o=i(62323);function a(e,t,i,a,s,n){const d=(0,l.up)("q-toolbar-title"),r=(0,l.up)("q-btn"),c=(0,l.up)("q-toolbar"),u=(0,l.up)("q-input"),m=(0,l.up)("q-editor"),p=(0,l.up)("q-card-section"),h=(0,l.up)("q-card"),g=(0,l.up)("q-layout"),b=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(g,{style:{width:"550px !important"}},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{style:{"max-width":"550px",height:"100vh"},flat:"",square:""},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"bg-grey-3",style:{position:"sticky !important",top:"0","z-index":"15"}},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(i.action+" ")+" service ",1)])),_:1}),(0,l.wy)((0,l.Wm)(r,{icon:"close",flat:"",round:"",dense:""},null,512),[[b]])])),_:1}),(0,l.Wm)(p,{class:"q-gutter-md scroll"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{rules:[e=>e&&0!==e.length||"This field is required"],ref:"nameRef",outlined:"",modelValue:s.serviceItem.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.serviceItem.name=e),label:"Name"},null,8,["rules","modelValue"]),(0,l.Wm)(u,{outlined:"",modelValue:s.serviceItem.unitPrice,"onUpdate:modelValue":t[1]||(t[1]=e=>s.serviceItem.unitPrice=e),label:"Unit price",type:"number"},null,8,["modelValue"]),(0,l.Wm)(u,{outlined:"",modelValue:s.serviceItem.supplier,"onUpdate:modelValue":t[2]||(t[2]=e=>s.serviceItem.supplier=e),label:"Supplier"},null,8,["modelValue"]),(0,l.Wm)(m,{modelValue:s.serviceItem.description,"onUpdate:modelValue":t[3]||(t[3]=e=>s.serviceItem.description=e),dense:!0,toolbar:[[{label:e.$q.lang.editor.align,icon:e.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],["print","fullscreen"],[{label:e.$q.lang.editor.formatting,icon:e.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:e.$q.lang.editor.fontSize,icon:e.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:e.$q.lang.editor.defaultFont,icon:e.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},null,8,["modelValue","toolbar"])])),_:1})])),_:1}),(0,l.Wm)(c,{class:"bg-grey-3",style:{position:"sticky !important",bottom:"0","z-index":"5"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{loading:s.loading,onClick:n.submit,label:"Submit","no-caps":"",type:"reset",color:"primary",unelevated:"",class:"full-width"},null,8,["loading","onClick"])])),_:1})])),_:1})}var s=i(93617),n=i(94789);const d={components:{Datepicker:n.Z},props:["body","action","clientId"],data(){return{loading:!1,id:null,serviceItem:{name:"",description:"Description",unitPrice:0,supplier:""}}},methods:{...(0,s.nv)("accountingStore",["addSItem","editSItem"]),async submit(){this.$refs.nameRef.validate(),this.$refs.nameRef.hasError||(this.loading=!0,this.serviceItem.unitPrice=Number(this.serviceItem.unitPrice),"Add"===this.action?await this.addSItem({...this.serviceItem}):"Edit"===this.action&&await this.editSItem({...this.serviceItem,id:this.id}),this.loading=!1,this.$emit("closeDialogue"))}},mounted(){"Edit"===this.action&&(this.id=this.body.id,this.serviceItem.name=this.body.name,this.serviceItem.description=this.body.description,this.serviceItem.unitPrice=this.body.unitPrice,this.serviceItem.supplier=this.body.supplier)}};var r=i(19214),c=i(10151),u=i(39570),m=i(13747),p=i(2165),h=i(25589),g=i(64689),b=i(89989),y=i(60677),v=i(7518),f=i.n(v);d.render=a;const w=d;f()(d,"components",{QLayout:r.Z,QCard:c.Z,QToolbar:u.Z,QToolbarTitle:m.Z,QBtn:p.Z,QCardSection:h.Z,QInput:g.Z,QEditor:b.Z}),f()(d,"directives",{ClosePopup:y.Z})},16565:(e,t,i)=>{"use strict";i.d(t,{Z:()=>V});var l=i(83673);const o=(0,l.Uk)(" Choose A Category "),a={class:"flex row fit"},s={class:"q-pa-md col-lg-4 col-xl-4 col-md-4 col-sm-12 col-xs-12",style:{height:"15vh"}},n={class:"q-pa-md col-lg-4 col-xl-4 col-md-4 col-sm-12 col-xs-12",style:{height:"15vh"}},d={class:"q-pa-md col-lg-4 col-xl-4 col-md-4 col-sm-12 col-xs-12",style:{height:"15vh"}};function r(e,t,i,r,c,u){const m=(0,l.up)("q-toolbar-title"),p=(0,l.up)("q-btn"),h=(0,l.up)("q-toolbar"),g=(0,l.up)("q-card-section"),b=(0,l.up)("q-card"),y=(0,l.up)("modalit"),v=(0,l.up)("q-dialog"),f=(0,l.up)("modalnit"),w=(0,l.up)("modalser"),x=(0,l.up)("q-layout"),q=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(x,{style:{width:"550px !important"}},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{style:{"max-width":"550px",height:"100vh !important"},flat:"",square:""},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{class:"bg-grey-3",style:{position:"sticky !important",top:"0","z-index":"15"}},{default:(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[o])),_:1}),(0,l.wy)((0,l.Wm)(p,{icon:"close",flat:"",round:"",dense:""},null,512),[[q]])])),_:1}),(0,l.Wm)(g,{class:"col-12 justify-center scroll"},{default:(0,l.w5)((()=>[(0,l._)("div",a,[(0,l._)("div",s,[(0,l.wy)((0,l.Wm)(p,{class:"rounded bg-primary fit",color:"prymary","text-color":"white",onClick:t[0]||(t[0]=e=>{c.tab="Inventory Item",c.dialogueit=!0}),loading:c.dialogueit,filled:"",icon:"fas fa-warehouse",label:"Inventory Item"},null,8,["loading"]),[[q,!c.dialogueit]])]),(0,l._)("div",n,[(0,l.wy)((0,l.Wm)(p,{class:"rounded bg-primary fit",color:"prymary","text-color":"white",onClick:t[1]||(t[1]=e=>{c.tab="Non Inventory Item",c.dialoguenit=!0}),loading:c.dialoguenit,filled:"",icon:"fas fa-handshake",label:"Non Inventory Item"},null,8,["loading"]),[[q,!c.dialoguenit]])]),(0,l._)("div",d,[(0,l.wy)((0,l.Wm)(p,{class:"rounded bg-primary fit",color:"prymary","text-color":"white",onClick:t[2]||(t[2]=e=>{c.tab="Service",c.dialogueser=!0}),loading:c.dialogueser,filled:"",icon:"fas fa-briefcase",label:"Service"},null,8,["loading"]),[[q,!c.dialogueser]])])])])),_:1})])),_:1}),(0,l.Wm)(v,{seamless:"",position:"right",modelValue:c.dialogueit,"onUpdate:modelValue":t[4]||(t[4]=e=>c.dialogueit=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{onCloseDialogue:t[3]||(t[3]=e=>{c.dialogueit=!1,c.close=!0}),action:"Add",type:c.tab},null,8,["type"])])),_:1},8,["modelValue"]),(0,l.Wm)(v,{eamless:"",position:"right",modelValue:c.dialoguenit,"onUpdate:modelValue":t[6]||(t[6]=e=>c.dialoguenit=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{onCloseDialogue:t[5]||(t[5]=e=>{c.dialoguenit=!1,c.close=!0}),action:"Add",type:c.tab},null,8,["type"])])),_:1},8,["modelValue"]),(0,l.Wm)(v,{eamless:"",position:"right",modelValue:c.dialogueser,"onUpdate:modelValue":t[8]||(t[8]=e=>c.dialogueser=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{onCloseDialogue:t[7]||(t[7]=e=>{c.dialogueser=!1,c.close=!0}),action:"Add",type:c.tab},null,8,["type"])])),_:1},8,["modelValue"])])),_:1})}var c=i(85720),u=i(2545),m=i(81896),p=i(61959);const h={components:{modalit:c.Z,modalnit:u.Z,modalser:m.Z},data(){return{close:(0,p.iH)(!1),dialogueit:!1,dialoguenit:!1,dialogueser:!1,tab:null}},methods:{openModal(){"inventory item"===this.tab&&(this.dialogueit=!0),"non-inventory item"===this.tab&&(this.dialoguenit=!0),"service"===this.tab&&(this.dialogueser=!0)}}};var g=i(19214),b=i(10151),y=i(39570),v=i(13747),f=i(2165),w=i(25589),x=i(46778),q=i(60677),C=i(7518),_=i.n(C);h.render=r;const V=h;_()(h,"components",{QLayout:g.Z,QCard:b.Z,QToolbar:y.Z,QToolbarTitle:v.Z,QBtn:f.Z,QCardSection:w.Z,QDialog:x.Z}),_()(h,"directives",{ClosePopup:q.Z})},94675:(e,t,i)=>{"use strict";i.d(t,{Z:()=>ne});var l=i(83673),o=i(62323),a=i(98880);const s={key:0,class:"flex"},n={key:1,class:"flex"},d={key:0,class:"flex items-center"},r=["src"],c={class:"q-ma-none q-pb-none text-subtitle1 q-ml-sm text-black"},u={key:2,class:"flex"},m={key:0,class:"flex items-center"},p=["src"],h={class:"q-ma-none q-pb-none text-subtitle1 q-ml-sm text-black"},g={key:3,class:"flex"},b={class:"flex"},y=["src"],v={key:4,class:"flex"},f={class:"flex items-center"},w=["src"],x={class:"q-ma-none text-subtitle1 q-ml-sm text-black"},q={key:5,class:"flex"},C={class:"flex items-center"},_=["src"],V={class:"flex"},k={key:0,class:"text-black text-subtitle1 q-mr-none q-mt-none q-mb-none q-ml-sm"},D={key:1,class:"q-ma-none text-black text-subtitle1"},I={key:0,class:"q-ma-none text-black text-subtitle1"},W={key:6,class:"flex"},S={class:"flex items-center"},z={class:"q-ma-none q-pa-none text-subtitle1 q-ml-sm text-grey"},T={class:"q-pr-xl q-pl-xl"},j=["onClick"],Z={key:0},U=["src"],L=["src"];function P(e,t,i,P,Q,N){const M=(0,l.up)("q-btn"),R=(0,l.up)("q-avatar"),E=(0,l.up)("q-toolbar-title"),$=(0,l.up)("q-toolbar"),O=(0,l.up)("q-icon"),H=(0,l.up)("q-chat-message"),A=(0,l.up)("q-spinner-dots"),F=(0,l.up)("q-file"),Y=(0,l.up)("q-banner"),B=(0,l.up)("q-popup-proxy"),G=(0,l.up)("q-input"),J=(0,l.up)("q-page"),K=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(J,{style:(0,o.j5)(i.hght?i.hght:"height:600px !important;")},{default:(0,l.w5)((()=>[(0,l.Wm)($,{class:"text-primary bg-white absolute-top",style:{height:"54px !important","z-index":"5"}},{default:(0,l.w5)((()=>[(0,l.Wm)(E,null,{default:(0,l.w5)((()=>[e.chat?((0,l.wg)(),(0,l.iD)("div",s,[i.popup?((0,l.wg)(),(0,l.j4)(M,{key:0,onClick:t[0]||(t[0]=t=>e.$emit("hideChat")),icon:"chevron_left",ripple:!1,color:"primary",flat:"",round:""})):(0,l.kq)("",!0),"chat"===e.chat.room_type&&2===e.chat.users.length?((0,l.wg)(),(0,l.iD)("div",n,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.chat.users,((t,i)=>((0,l.wg)(),(0,l.iD)("div",{key:t.id},[t.id!==e.user.id?((0,l.wg)(),(0,l.iD)("div",d,[(0,l.wy)((0,l.Wm)(R,{class:(0,o.C_)(1===i&&"q-ml-xs"),size:"35px"},{default:(0,l.w5)((()=>[(0,l._)("img",{src:t.avatar?t.avatar:"https://cdn-icons-png.flaticon.com/512/149/149071.png"},null,8,r)])),_:2},1032,["class"]),[[a.F8,i<2]]),(0,l._)("p",c,(0,o.zw)(t.name),1)])):(0,l.kq)("",!0)])))),128))])):(0,l.kq)("",!0),"chat"===e.chat.room_type&&1===e.chat.users.length?((0,l.wg)(),(0,l.iD)("div",u,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.chat.users,((t,i)=>((0,l.wg)(),(0,l.iD)("div",{key:t.id},[t.id!==e.user.id?((0,l.wg)(),(0,l.iD)("div",m,[(0,l.wy)((0,l.Wm)(R,{class:(0,o.C_)(1===i&&"q-ml-xs"),size:"35px"},{default:(0,l.w5)((()=>[(0,l._)("img",{src:t.avatar?t.avatar:"https://cdn-icons-png.flaticon.com/512/149/149071.png"},null,8,p)])),_:2},1032,["class"]),[[a.F8,i<2]]),(0,l._)("p",h,(0,o.zw)(t.name),1)])):(0,l.kq)("",!0)])))),128))])):"channel"!==e.chat.room_type||e.chat.avatar||e.chat.name?"channel"===e.chat.room_type&&e.chat.avatar&&e.chat.name?((0,l.wg)(),(0,l.iD)("div",v,[(0,l._)("div",f,[(0,l.Wm)(R,{size:"35px"},{default:(0,l.w5)((()=>[(0,l._)("img",{src:e.chat.avatar},null,8,w)])),_:1}),(0,l._)("p",x,(0,o.zw)(e.chat.name),1)])])):"channel"===e.chat.room_type&&e.chat.avatar&&!e.chat.name?((0,l.wg)(),(0,l.iD)("div",q,[(0,l._)("div",C,[(0,l.Wm)(R,{size:"35px"},{default:(0,l.w5)((()=>[(0,l._)("img",{src:e.chat.avatar},null,8,_)])),_:1}),(0,l._)("div",V,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.chat.users,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"flex",key:e.id},[t<2?((0,l.wg)(),(0,l.iD)("p",k,(0,o.zw)(e.name),1)):(0,l.kq)("",!0),t<1?((0,l.wg)(),(0,l.iD)("p",D,",")):(0,l.kq)("",!0)])))),128)),e.chat.users.length>2?((0,l.wg)(),(0,l.iD)("p",I,"...")):(0,l.kq)("",!0)])])])):"channel"===e.chat.room_type&&e.chat.name&&!e.chat.avatar?((0,l.wg)(),(0,l.iD)("div",W,[(0,l._)("div",S,[(0,l._)("p",z,(0,o.zw)(e.chat.name),1)])])):(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",g,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.chat.users,((t,i)=>((0,l.wg)(),(0,l.iD)("div",{key:t.id},[(0,l._)("div",b,[(0,l.wy)((0,l.Wm)(R,{class:(0,o.C_)(1===i&&"q-ml-xs"),size:"35px"},{default:(0,l.w5)((()=>[(0,l._)("img",{src:t.avatar?t.avatar:"https://cdn-icons-png.flaticon.com/512/149/149071.png"},null,8,y)])),_:2},1032,["class"]),[[a.F8,i<2]]),(0,l.wy)((0,l.Wm)(R,{class:"q-ml-xs bg-grey-3 text-grey",size:"35px"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)("+"+(e.chat.users.length-2)),1)])),_:2},1536),[[a.F8,2===i&&e.chat.users.length>2]])])])))),128))]))])):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(M,{flat:"",round:"",dense:"",icon:"videocam"}),(0,l.Wm)(M,{flat:"",round:"",dense:"",icon:"call"})])),_:1}),(0,l._)("div",null,[e.chat?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,o.C_)(i.popup&&"bg-blue-1"),id:"room-container",style:(0,o.j5)([i.hght?i.hght:"height:100vh;",{width:"100% !important","overflow-y":"scroll !important","padding-top":"54px !important",position:"relative !important"}])},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.chat.messages,((t,a)=>((0,l.wg)(),(0,l.iD)("div",{key:t.id},[(0,l._)("div",T,[(0,l.Wm)(H,{name:t.user.name,avatar:e.user.id===t.user_id?e.user.avatar:t.user.avatar,size:"35",class:(0,o.C_)([a!==e.chat.messages.length-1&&"q-pb-md","text-grey"]),"bg-color":e.user.id!==t.user_id?"primary":"grey-4","text-color":e.user.id===t.user_id?"black":"white",sent:e.user.id===t.user_id,style:{"max-width":"100% !important","text-overflow":"break !important"},stamp:N.format(t.created_at)},{default:(0,l.w5)((()=>[(0,l._)("div",{onClick:e=>t.attachments[0]&&N.download(t.attachments[0]),class:(0,o.C_)([t.attachments[0]&&"text-grey","flex flex-center column"])},[(0,l.Uk)((0,o.zw)(0===t.attachments.length?t.text:"")+" ",1),t.attachments[0]?((0,l.wg)(),(0,l.iD)("div",Z,[t.attachments[0].content_type.includes("image")?((0,l.wg)(),(0,l.iD)("img",{key:0,class:"q-mt-sm",height:"150",width:"150",src:t.attachments[0].url},null,8,U)):((0,l.wg)(),(0,l.j4)(R,{key:1,square:"",size:"100px"},{default:(0,l.w5)((()=>[(0,l.Wm)(O,{color:"grey",name:"attach_file"})])),_:1}))])):(0,l.kq)("",!0)],10,j)])),_:2},1032,["name","avatar","class","bg-color","text-color","sent","stamp"]),a===e.chat.messages.length-1?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,o.C_)(!i.popup&&"q-mb-xl"),style:(0,o.j5)(a!==e.chat.messages.length-1||i.popup?"padding-bottom:20px;":"padding-bottom:60px;")},[(0,l._)("div",{class:(0,o.C_)(["q-ma-none flex",e.user.id!==t.user_id?"q-ml-xl":"q-mr-xl justify-end"])},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.messageRecipients,(i=>((0,l.wg)(),(0,l.iD)("div",{key:i.user.id},["seen"===i.status&&i.user_id!==e.user.id&&t.user.id!==i.user_id?((0,l.wg)(),(0,l.j4)(R,{key:0,class:"q-ml-xs",size:"15px"},{default:(0,l.w5)((()=>[(0,l._)("img",{src:i.user.avatar?i.user.avatar:"https://cdn-icons-png.flaticon.com/512/149/149071.png"},null,8,L)])),_:2},1024)):(0,l.kq)("",!0)])))),128))],2),Q.isTyping&&Q.room_id===this.chat.id?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,o.C_)(!i.popup&&"q-pb-xl")},[(0,l.Wm)(H,{name:t.user.name,avatar:Q.avatar?Q.avatar:"https://cdn-icons-png.flaticon.com/512/149/149071.png",size:"35",class:"text-grey","bg-color":"primary",style:{"max-width":"100% !important","text-overflow":"break !important"}},{default:(0,l.w5)((()=>[(0,l.Wm)(A,{class:"text-white",size:"2rem"})])),_:2},1032,["name","avatar"])],2)):(0,l.kq)("",!0)],6)):(0,l.kq)("",!0)])])))),128))],6)):(0,l.kq)("",!0)]),(0,l._)("div",{class:(0,o.C_)(!i.popup&&"absolute-bottom")},[(0,l.Wm)(G,{onInputCapture:N.typing,onKeydown:(0,a.D2)(N.send,["enter"]),outlined:"",square:"","bg-color":"white",modelValue:Q.message,"onUpdate:modelValue":t[2]||(t[2]=e=>Q.message=e),label:"Message"},{append:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(M,{color:"primary",onClick:N.send,round:"",dense:"",flat:"",icon:"send"},null,8,["onClick"]),[[a.F8,""!==Q.message]])])),prepend:(0,l.w5)((()=>[(0,l.Wm)(M,{color:"primary",round:"",dense:"",flat:"",icon:"attachment"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Y,null,{default:(0,l.w5)((()=>[(0,l.Wm)(F,{clearable:"",label:"File",outlined:"",modelValue:Q.file,"onUpdate:modelValue":t[1]||(t[1]=e=>Q.file=e)},{prepend:(0,l.w5)((()=>[(0,l.Wm)(O,{name:"attach_file"})])),_:1},8,["modelValue"]),(0,l.wy)((0,l.Wm)(M,{label:"Send",onClick:N.addMsgFile,"no-caps":"",disable:!Q.file,flat:"",color:"primary",class:"q-mt-sm",size:"md"},null,8,["onClick","disable"]),[[K]])])),_:1})])),_:1})])),_:1})])),_:1},8,["onInputCapture","onKeydown","modelValue"])],2)])),_:1},8,["style"])}var Q=i(46303),N=i(25616),M=i(93617),R=i(30052),E=i.n(R);const $=new WebSocket("ws://localhost:4001"),O={props:["hght","popup","sckt"],data(){return{init:1,message:"",file:null,isTyping:!1,avatar:null,room_id:null,socket:$}},components:{breadcrmps:Q.Z},computed:{...(0,M.rn)("chatStore",["chat"]),...(0,M.rn)("example",["user"])},methods:{...(0,M.nv)("example",["getUser"]),...(0,M.nv)("chatStore",["getChat","getMessage"]),format(e){return N.ZP.formatDate(e,"HH:mm")},async typing(){this.socket.send(JSON.stringify({typing:{room_id:Number(this.chat.id)}}))},download(e){window.open(e.url)},async addMsgFile(){let e=new FormData;e.append("files",this.file);let t=await E().post("http://localhost:5050/api/v1/chats/addFiles/",e,{headers:{Authorization:localStorage.getItem("accessToken")}});t.data.success&&this.socket.send(JSON.stringify({createMessage:{room_id:Number(this.chat.id),text:this.file.name,files:[t.data.data[0].id]}}))},setScrollPos(){},updateScroll(){var e=document.getElementById("room-container");e&&(e.scrollTop=e.scrollHeight)},send(){if(""===this.message)return;let e=this;this.socket.send(JSON.stringify({createMessage:{room_id:Number(this.chat.id),text:this.message}})),e.message="",setTimeout((()=>{e.updateScroll()}),100)},receive(){setTimeout((()=>{self.updateScroll()}),100)}},async mounted(){await this.getUser()},async mounted(){let e=this;this.socket.addEventListener("open",(async function(e){this.socket.send(JSON.stringify({accessToken:localStorage.getItem("accessToken").substring(7,localStorage.getItem("accessToken").length)}))})),this.socket.addEventListener("message",(async function(t){1===e.init?e.init=2:JSON.parse(t.data).messagePerRoom?JSON.parse(t.data).messagePerRoom.messfinal.room_id===Number(e.chat.id)&&(await e.getMessage(JSON.parse(t.data).messagePerRoom.messfinal),e.updateScroll()):JSON.parse(t.data).userTyping&&(e.room_id=JSON.parse(t.data).userTyping.room_id,e.isTyping=JSON.parse(t.data).userTyping,e.avatar=JSON.parse(t.data).userTyping.avatar,setTimeout((()=>{e.isTyping=!1,e.avatar=null}),2e3)),JSON.parse(t.data).onlineUsers||e.updateScroll()}))},setup(){return{crumps:[{id:1,name:"OneConnect",icon:"home",path:"/"},{id:2,name:"Chat",icon:"chat",path:"/chat"}]}}};var H=i(24379),A=i(39570),F=i(13747),Y=i(2165),B=i(75096),G=i(47704),J=i(40629),K=i(24554),X=i(34765),ee=i(64689),te=i(83944),ie=i(15607),le=i(81052),oe=i(60677),ae=i(7518),se=i.n(ae);O.render=P;const ne=O;se()(O,"components",{QPage:H.Z,QToolbar:A.Z,QToolbarTitle:F.Z,QBtn:Y.Z,QAvatar:B.Z,QScrollArea:G.Z,QChatMessage:J.Z,QIcon:K.Z,QSpinnerDots:X.Z,QInput:ee.Z,QPopupProxy:te.Z,QBanner:ie.Z,QFile:le.Z}),se()(O,"directives",{ClosePopup:oe.Z})},99834:(e,t,i)=>{"use strict";i.d(t,{Z:()=>j});var l=i(83673),o=i(62323),a=i(98880);const s={class:"col-12 flex flex-center q-py-lg tems-center row"},n={class:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-xs-12"},d={class:"flex items-center"},r=(0,l._)("p",{style:{padding:"0 !important","font-size":"1rem"}},"Rate: ",-1);function c(e,t,i,c,u,m){const p=(0,l.up)("q-toolbar-title"),h=(0,l.up)("q-btn"),g=(0,l.up)("q-toolbar"),b=(0,l.up)("q-img"),y=(0,l.up)("q-icon"),v=(0,l.up)("q-badge"),f=(0,l.up)("q-avatar"),w=(0,l.up)("cropableUpload"),x=(0,l.up)("q-input"),q=(0,l.up)("q-uploader"),C=(0,l.up)("q-select"),_=(0,l.up)("q-btn-toggle"),V=(0,l.up)("vue-tel-input"),k=(0,l.up)("q-rating"),D=(0,l.up)("q-card-section"),I=(0,l.up)("q-card"),W=(0,l.up)("q-layout"),S=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(W,{style:{width:"500px !important"}},{default:(0,l.w5)((()=>[(0,l.Wm)(I,{style:{"max-width":"500px","min-height":"100vh"},flat:"",square:""},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{class:"q-pa-md bg-grey-3",style:{position:"sticky !important",top:"0","z-index":"15",height:"63px !important"}},{default:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(i.actionType)+" "+(0,o.zw)(i.type[0].toUpperCase()+i.type.substr(1,i.type.length)),1)])),_:1}),(0,l.wy)((0,l.Wm)(h,{icon:"close",flat:"",round:"",dense:""},null,512),[[S]])])),_:1}),(0,l.Wm)(D,{class:"q-gutter-sm scroll"},{default:(0,l.w5)((()=>[(0,l._)("div",s,[(0,l.wy)((0,l.Wm)(f,{clickable:"",color:u.credentials.logo?"white":"grey",size:"120px",onClick:m.toggleShow,class:"cursor-pointer",style:{border:"0.2px solid grey"}},{default:(0,l.w5)((()=>[u.credentials.logo?((0,l.wg)(),(0,l.j4)(b,{key:0,round:"",style:{"border-radius":"50% !important"},src:u.credentials.logo},null,8,["src"])):((0,l.wg)(),(0,l.j4)(y,{key:1,color:"white",name:"person"})),(0,l.Wm)(v,{floating:"",color:"grey"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{color:"white",circle:"",name:"edit",size:"xs"})])),_:1})])),_:1},8,["color","onClick"]),[[a.F8,"Edit"===i.actionType]])]),(0,l.wy)((0,l.Wm)(w,{field:"logo","lang-type":"en",url:u.imgUrl,params:u.imgParams,headers:u.imgHeaders,value:u.show,modelValue:u.show,"onUpdate:modelValue":t[0]||(t[0]=e=>u.show=e)},null,8,["url","params","headers","value","modelValue"]),[[a.F8,"Edit"===i.actionType]]),(0,l.Wm)(x,{ref:"companyRef",outlined:"",modelValue:u.credentials.name,"onUpdate:modelValue":t[1]||(t[1]=e=>u.credentials.name=e),label:"Name","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type the company name"]},null,8,["modelValue","rules"]),(0,l.wy)((0,l._)("div",n,[(0,l.wy)((0,l.Wm)(q,{"max-files":"1","max-file-size":"1048576",class:"q-pb-sm fit","max-total-size":"1048576",label:"Client logo",onRemoved:t[2]||(t[2]=e=>{u.credentials.logo=e[0]}),"hide-upload-btn":"",onAdded:t[3]||(t[3]=e=>{u.credentials.logo=e[0]}),multiple:!1},null,512),[[a.F8,"Add"===i.actionType]])],512),[[a.F8,"Add"===i.actionType]]),(0,l.Wm)(C,{modelValue:u.credentials.businessType,"onUpdate:modelValue":t[4]||(t[4]=e=>u.credentials.businessType=e),class:"my-custom-toggle","no-caps":"",outlined:"","option-label":"label","option-value":"value",options:[{label:"Company",value:"Company"},{label:"Individual",value:"Individual"},{label:"NGO",value:"NGO"},{label:"Organization",value:"Organization"},{label:"Government",value:"Government"},{label:"Startup",value:"Startup"},{label:"Small Business",value:"SmallBusiness"}]},null,8,["modelValue"]),"Edit"===i.actionType?((0,l.wg)(),(0,l.j4)(_,{key:0,modelValue:u.credentials.clientType,"onUpdate:modelValue":t[5]||(t[5]=e=>u.credentials.clientType=e),class:"my-custom-toggle","no-caps":"",rounded:"","toggle-color":"primary",color:"white","text-color":"primary",options:[{label:"Client",value:"client"},{label:"Lead",value:"lead"},{label:"Blacklist",value:"blacklist"}]},null,8,["modelValue"])):(0,l.kq)("",!0),(0,l.Wm)(V,{required:"",onCountryChanged:m.countryChange,class:"phone-input q-mt-lg",defaultCountry:"iq",customValidate:!1,onOnInput:m.valid,onInput:m.phoneValidate,modelValue:u.phone,"onUpdate:modelValue":t[6]||(t[6]=e=>u.phone=e)},null,8,["onCountryChanged","onOnInput","onInput","modelValue"]),(0,l.Wm)(x,{class:"q-mt-lg",ref:"emailRef",outlined:"",type:"email",modelValue:u.credentials.email,"onUpdate:modelValue":t[7]||(t[7]=e=>u.credentials.email=e),label:"E-mail","lazy-rules":"",rules:[e=>!e||e.length>0?!e||!0!==m.checkEmailExistence("email",e)||"This E-mail already exist":"Please type a valid E-mail"]},null,8,["modelValue","rules"]),(0,l._)("div",d,[r,(0,l.Wm)(k,{modelValue:u.credentials.rate,"onUpdate:modelValue":t[8]||(t[8]=e=>u.credentials.rate=e),size:"2em",class:"q-mb-md q-ml-sm",max:5,color:"primary"},null,8,["modelValue"])]),(0,l.Wm)(x,{outlined:"",modelValue:u.credentials.website,"onUpdate:modelValue":t[9]||(t[9]=e=>u.credentials.website=e),label:"Website","lazy-rules":""},null,8,["modelValue"]),(0,l.Wm)(x,{outlined:"",modelValue:u.credentials.address,"onUpdate:modelValue":t[10]||(t[10]=e=>u.credentials.address=e),label:"Address","lazy-rules":""},null,8,["modelValue"]),(0,l.Wm)(x,{outlined:"",modelValue:u.credentials.zipCode,"onUpdate:modelValue":t[11]||(t[11]=e=>u.credentials.zipCode=e),label:"Zipcode","lazy-rules":""},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(g,{class:"bg-grey-3 submitBtnClass",style:{position:"sticky !important",bottom:"0","z-index":"5"}},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{loading:u.loading,onClick:m.submit,class:"full-width",color:"primary",label:"Submit","no-caps":""},null,8,["loading","onClick"])])),_:1})])),_:1})}var u=i(93617),m=i(49549),p=i(81022);const h={components:{VueTelInput:m.VueTelInput,cropableUpload:p.Z},props:["actionType","type","inProfile","body"],data(){return{imgUrl:"http://localhost:5050/api/v1/brands/update",imgHeaders:{Authorization:localStorage.getItem("accessToken")},imgDataUrl:null,imgParams:{id:null},show:!0,id:null,phone:"",loading:!1,credentials:{name:"",avatar:null,businessType:"Company",email:"",website:"",address:"",zipCode:"",logo:null,rate:0,clientType:""}}},computed:{...(0,u.rn)("userStore",["users"]),...(0,u.rn)("crmStore",["clients"])},methods:{toggleShow(){this.show=!this.show},checkEmailExistence(e,t){var i=!1;if("email"===e){var l,o;let a=null===(l=this.users)||void 0===l?void 0:l.find((e=>{e.email})),s=null===(o=this.clients)||void 0===o?void 0:o.find((e=>{e.email}));(s||a)&&(i=!0),console.log("keyvalue: ",e,t,a)}else if("username"===e){var a,s;let e=null===(a=this.clients)||void 0===a?void 0:a.find((e=>{e.username})),t=null===(s=this.clients)||void 0===s?void 0:s.find((e=>{e.username}));(e||t)&&(i=!0)}return!!i},phoneValidate(e){isNaN(Number(e.data))&&(this.phone=this.phone.substring(0,this.phone.length-1))},valid(e,t){t.valid?document.querySelector(".vue-tel-input").removeAttribute("style"):document.querySelector(".vue-tel-input").setAttribute("style","border-color:#cc444b !important;")},countryChange(e){let t=0;this.dialCode="+"+e.dialCode,this.phone=this.phone.substring(this.dialCode.length,this.phone.length),0===t&&this.valid("",{valid:!0}),t+=1},...(0,u.nv)("crmStore",["createClient","updateClient","getClients","getOneClient"]),...(0,u.nv)("userStore",["getUsers"]),async submit(){if(this.$refs.companyRef.validate(),this.$refs.emailRef.validate(),!this.$refs.companyRef.hasError&&!this.$refs.emailRef.hasError){var e;this.loading=!0;let t=new FormData;t.append("name",this.credentials.name),t.append("logo",this.credentials.logo),t.append("businessType",null===(e=this.credentials.businessType)||void 0===e?void 0:e.value),t.append("email",this.credentials.email),t.append("website",this.credentials.website),t.append("address",this.credentials.address),t.append("zipCode",this.credentials.zipCode),t.append("rate",this.credentials.rate),"Add"===this.actionType?t.append("clientType",this.type):t.append("clientType",this.credentials.clientType),t.append("phoneNumbers",this.dialCode+this.phone),"Add"===this.actionType?(await this.createClient(t),await this.$emit("updateForInvoice"),this.$q.notify({type:"positive",message:"Client created",color:"positive",position:"top",timeout:"500"})):(t.append("id",Number(this.id)),console.log(t),await this.updateClient(t),this.getClients("Client"),this.$route.params.id&&await this.getOneClient(this.$route.params.id),this.$q.notify({type:"positive",message:"Client updated",color:"positive",position:"top",timeout:"500"})),this.loading=!1,this.$emit("closeDialogue")}}},async mounted(){this.show=!1,await this.getUsers(),"Edit"===this.actionType&&(this.imgParams.id=this.body.id,this.id=this.body.id,this.credentials.name=this.body.name,this.credentials.website=this.body.website,this.credentials.businessType=this.body.businessType,this.phone=this.body.phoneNumbers,this.credentials.email=this.body.email,this.credentials.website=this.body.website,this.credentials.address=this.body.address,this.credentials.zipCode=this.body.zipCode,this.credentials.logo=this.body.logo,this.credentials.rate=this.body.rate,this.credentials.clientType=this.body.clientType)}};var g=i(19214),b=i(10151),y=i(39570),v=i(13747),f=i(2165),w=i(25589),x=i(75096),q=i(24027),C=i(24554),_=i(69721),V=i(64689),k=i(568),D=i(63314),I=i(30201),W=i(98833),S=i(60677),z=i(7518),T=i.n(z);h.render=c;const j=h;T()(h,"components",{QLayout:g.Z,QCard:b.Z,QToolbar:y.Z,QToolbarTitle:v.Z,QBtn:f.Z,QCardSection:w.Z,QAvatar:x.Z,QImg:q.Z,QIcon:C.Z,QBadge:_.Z,QInput:V.Z,QUploader:k.Z,QSelect:D.Z,QBtnToggle:I.Z,QRating:W.Z}),T()(h,"directives",{ClosePopup:S.Z})},65745:(e,t,i)=>{"use strict";i.d(t,{Z:()=>C});i(90246);var l=i(83673),o=i(62323);function a(e,t,i,a,s,n){const d=(0,l.up)("q-toolbar-title"),r=(0,l.up)("q-btn"),c=(0,l.up)("q-toolbar"),u=(0,l.up)("q-input"),m=(0,l.up)("vue-tel-input"),p=(0,l.up)("q-editor"),h=(0,l.up)("q-card-section"),g=(0,l.up)("q-card"),b=(0,l.up)("q-layout"),y=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(b,{style:{width:"500px !important"}},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{style:{"max-width":"500px","min-height":"100vh"},flat:"",square:""},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"q-pa-md bg-grey-3",style:{position:"sticky !important",top:"0","z-index":"15",height:"63px !important"}},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(i.actionType+" ")+"Contact ",1)])),_:1}),(0,l.wy)((0,l.Wm)(r,{icon:"close",flat:"",round:"",dense:""},null,512),[[y]])])),_:1}),(0,l.Wm)(h,{class:"q-gutter-sm scroll"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{ref:"nameRef",outlined:"",modelValue:s.contact.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.contact.name=e),label:"Name","lazy-rules":"",rules:[e=>e&&e.length>0||"Please write the name"]},null,8,["modelValue","rules"]),(0,l.Wm)(m,{required:"",onCountryChanged:n.countryChange1,class:"phone-input q-mt-lg",defaultCountry:"iq",onOnInput:n.valid1,onInput:n.phoneValidate1,modelValue:s.phone1,"onUpdate:modelValue":t[1]||(t[1]=e=>s.phone1=e)},null,8,["onCountryChanged","onOnInput","onInput","modelValue"]),(0,l.Wm)(m,{required:"",onCountryChanged:n.countryChange2,class:"phone-input q-mt-lg",defaultCountry:"iq",onOnInput:n.valid2,onInput:n.phoneValidate2,modelValue:s.phone2,"onUpdate:modelValue":t[2]||(t[2]=e=>s.phone2=e)},null,8,["onCountryChanged","onOnInput","onInput","modelValue"]),(0,l.Wm)(u,{class:"q-mt-lg",ref:"emailRef",outlined:"",type:"email",modelValue:s.contact.email,"onUpdate:modelValue":t[3]||(t[3]=e=>s.contact.email=e),label:"E-mail","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type your E-mail"]},null,8,["modelValue","rules"]),(0,l.Wm)(u,{outlined:"",modelValue:s.contact.position,"onUpdate:modelValue":t[4]||(t[4]=e=>s.contact.position=e),label:"Position"},null,8,["modelValue"]),(0,l.Wm)(u,{ref:"deptRef",outlined:"",modelValue:s.contact.department,"onUpdate:modelValue":t[5]||(t[5]=e=>s.contact.department=e),label:"Department","lazy-rules":"",rules:[e=>e&&e.length>0||"Please write the department"]},null,8,["modelValue","rules"]),(0,l.Wm)(p,{modelValue:s.contact.description,"onUpdate:modelValue":t[6]||(t[6]=e=>s.contact.description=e),dense:"",toolbar:[[{label:e.$q.lang.editor.align,icon:e.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],["print","fullscreen"],[{label:e.$q.lang.editor.formatting,icon:e.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:e.$q.lang.editor.fontSize,icon:e.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:e.$q.lang.editor.defaultFont,icon:e.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},null,8,["modelValue","toolbar"])])),_:1})])),_:1}),(0,l.Wm)(c,{class:"bg-grey-3 submitBtnClass",style:{position:"sticky !important",bottom:"0","z-index":"5"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{loading:s.loading,onClick:n.submit,label:"Submit","no-caps":"",type:"reset",color:"primary",unelevated:"",class:"full-width"},null,8,["loading","onClick"])])),_:1})])),_:1})}var s=i(30052),n=i.n(s),d=i(93617),r=i(72179),c=i(49549);const u={props:["ccid","clId","actionType","body"],data(){return{error1:!1,error2:!1,phone1:"",phone2:"",dialCode1:"",dialCode2:"",contact:{name:"",description:"description",businessPhoneNumber1:null,businessPhoneNumber2:null,position:"",email:"",department:""},clientId:Number(this.clId),id:Number(this.ccid),loading:!1}},components:{phone:r.Z,VueTelInput:c.VueTelInput},methods:{phoneValidate1(e){isNaN(Number(e.data))&&(this.phone1=this.phone1.substring(0,this.phone1.length-1))},phoneValidate2(e){isNaN(Number(e.data))&&(this.phone2=this.phone2.substring(0,this.phone2.length-1))},countryChange1(e){let t=0;this.dialCode1="+"+e.dialCode,this.phone1=this.phone1.substring(this.dialCode1.length,this.phone1.length),0===t&&this.valid1("",{valid:!0}),t+=1},countryChange2(e){let t=0;this.dialCode2="+"+e.dialCode,this.phone2=this.phone2.substring(this.dialCode2.length,this.phone2.length),0===t&&this.valid2("",{valid:!0}),t+=1},valid1(e,t){t.valid?document.querySelectorAll(".vue-tel-input")[0].removeAttribute("style"):document.querySelectorAll(".vue-tel-input")[0].setAttribute("style","border-color:#cc444b !important;")},valid2(e,t){t.valid?document.querySelectorAll(".vue-tel-input")[1].removeAttribute("style"):document.querySelectorAll(".vue-tel-input")[1].setAttribute("style","border-color:#cc444b !important;")},...(0,d.nv)("crmStore",["getOneClient"]),async submit(){this.$refs.nameRef.validate(),this.$refs.emailRef.validate(),this.$refs.nameRef.hasError||this.$refs.emailRef.hasError||(this.error1=!1,this.error2=!1,this.loading=!0,this.contact.businessPhoneNumber1=""!==this.phone1&&null!==this.phone1?this.dialCode1+this.phone1:null,this.contact.businessPhoneNumber2=""!==this.phone2&&null!==this.phone2?this.dialCode2+this.phone2:null,"Add"===this.actionType?await this.create():await this.update(),await this.getOneClient(this.clId),this.loading=!1,this.$emit("closeDialogue"))},async create(){await n().post("http://localhost:5050/api/v1/clientContacts/create",{...this.contact,clientId:Number(this.clientId)},{headers:{Authorization:localStorage.getItem("accessToken")}}).catch((e=>{this.loading=!1}));await this.$emit("updateForInvoice"),this.$q.notify({type:"positive",message:"Contact created",color:"positive",position:"top",timeout:"500"})},async update(){await n().post("http://localhost:5050/api/v1/clientContacts/update",{...this.contact,id:this.id},{headers:{Authorization:localStorage.getItem("accessToken")}});this.loading=!1,this.$q.notify({type:"positive",message:"Contact updated",color:"positive",position:"top",timeout:"500"})}},async mounted(){"Edit"===this.actionType?(this.contact.name=this.body.name,this.contact.description=this.body.description,this.phone1=this.body.businessPhoneNumber1,this.phone2=this.body.businessPhoneNumber2,this.contact.position=this.body.position,this.contact.email=this.body.email,this.contact.department=this.body.department):(this.phone1="1",this.phone2="1",this.phone1="",this.phone2="")}};var m=i(19214),p=i(10151),h=i(39570),g=i(13747),b=i(2165),y=i(25589),v=i(64689),f=i(89989),w=i(60677),x=i(7518),q=i.n(x);u.render=a,u.__scopeId="data-v-7efa8d8a";const C=u;q()(u,"components",{QLayout:m.Z,QCard:p.Z,QToolbar:h.Z,QToolbarTitle:g.Z,QBtn:b.Z,QCardSection:y.Z,QInput:v.Z,QEditor:f.Z}),q()(u,"directives",{ClosePopup:w.Z})},11966:(e,t,i)=>{"use strict";i.d(t,{Z:()=>w});i(90246);var l=i(83673),o=i(62323);function a(e,t,i,a,s,n){const d=(0,l.up)("q-toolbar-title"),r=(0,l.up)("q-btn"),c=(0,l.up)("q-toolbar"),u=(0,l.up)("q-input"),m=(0,l.up)("q-editor"),p=(0,l.up)("q-card-section"),h=(0,l.up)("q-card"),g=(0,l.up)("q-layout"),b=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(g,{style:{width:"550px !important"}},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{style:{"max-width":"550px","min-height":"100vh"},flat:"",square:""},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"bg-grey-3 header-height-standard",style:{position:"sticky !important",top:"0","z-index":"15"}},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(i.actionType+" ")+"Category ",1)])),_:1}),(0,l.wy)((0,l.Wm)(r,{icon:"close",flat:"",round:"",dense:""},null,512),[[b]])])),_:1}),(0,l.Wm)(p,{class:"q-gutter-md scroll"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{ref:"nameRef",outlined:"",modelValue:s.expenseCategory.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.expenseCategory.name=e),label:"Name","lazy-rules":"",rules:[e=>e&&e.length>0||"Please write the name"]},null,8,["modelValue","rules"]),(0,l.Wm)(m,{modelValue:s.expenseCategory.description,"onUpdate:modelValue":t[1]||(t[1]=e=>s.expenseCategory.description=e),dense:"",toolbar:[[{label:e.$q.lang.editor.align,icon:e.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],["print","fullscreen"],[{label:e.$q.lang.editor.formatting,icon:e.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:e.$q.lang.editor.fontSize,icon:e.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:e.$q.lang.editor.defaultFont,icon:e.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},null,8,["modelValue","toolbar"])])),_:1})])),_:1}),(0,l.Wm)(c,{class:"bg-grey-3",style:{position:"sticky !important",bottom:"0","z-index":"5"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{loading:s.loading,onClick:n.submit,label:"Submit","no-caps":"",type:"reset",color:"primary",unelevated:"",class:"full-width"},null,8,["loading","onClick"])])),_:1})])),_:1})}var s=i(30052),n=i.n(s);const d={props:["actionType","body"],data(){return{expenseCategory:{name:"",description:"Description"},loading:!1}},methods:{async submit(){this.$refs.nameRef.validate(),this.$refs.nameRef.hasError||(this.loading=!0,"Add"===this.actionType?await this.create():await this.update(),this.loading=!1,this.$emit("closeDialogue"))},async create(){await n().post("http://localhost:5050/api/v1/expenseCategories/create",this.expenseCategory,{headers:{Authorization:localStorage.getItem("accessToken")}});this.loading=!1,this.$q.notify({type:"positive",message:"Tax created",color:"positive",position:"top",timeout:"500"})},async update(){await n().post("http://localhost:5050/api/v1/expenseCategories/update",{...this.expenseCategory,id:this.body.id},{headers:{Authorization:localStorage.getItem("accessToken")}});this.loading=!1,this.$q.notify({type:"positive",message:"Tax updated",color:"positive",position:"top",timeout:"500"})}},async mounted(){"Edit"===this.actionType&&(this.expenseCategory.name=this.body.name,this.expenseCategory.description=this.body.description)}};var r=i(19214),c=i(10151),u=i(39570),m=i(13747),p=i(2165),h=i(25589),g=i(64689),b=i(89989),y=i(60677),v=i(7518),f=i.n(v);d.render=a,d.__scopeId="data-v-bf8fa5a4";const w=d;f()(d,"components",{QLayout:r.Z,QCard:c.Z,QToolbar:u.Z,QToolbarTitle:m.Z,QBtn:p.Z,QCardSection:h.Z,QInput:g.Z,QEditor:b.Z}),f()(d,"directives",{ClosePopup:y.Z})},80395:(e,t,i)=>{"use strict";i.d(t,{Z:()=>ne});i(90246);var l=i(83673),o=i(62323);const a={class:"col-12 row q-pa-sm"},s={class:"col-lg-3 col-md-4 col-sm-6 col-xs-12 q-pa-sm"},n={class:"col-lg-3 col-md-4 col-sm-6 col-xs-12 q-pa-sm"},d={class:"col-lg-3 col-md-4 col-sm-6 col-xs-12 q-pa-sm"},r={class:"col-lg-3 col-md-4 col-sm-6 col-xs-12 q-pa-sm"},c={class:"col-lg-3 col-md-4 col-sm-6 col-xs-12 q-pa-sm"},u=(0,l._)("div",{class:"q-ma-none absolute q-ml-sm text-grey-7",style:{"z-index":"10","font-size":"12px","line-height":"20px","font-weight":"400"}},"Expense date",-1),m={class:"col-lg-3 col-md-4 col-sm-6 col-xs-12 q-pa-sm"},p=(0,l._)("div",{class:"q-ma-none absolute q-ml-sm text-grey-7",style:{"z-index":"10","font-size":"12px","line-height":"20px","font-weight":"400"}},"Due date",-1),h={class:"col-lg-3 col-md-4 col-sm-6 col-xs-12 q-pa-sm"},g={class:"col-lg-3 col-md-4 col-sm-6 col-xs-12 q-pa-sm"},b={class:"col-lg-3 col-md-4 col-sm-6 col-xs-12 q-pa-sm"},y={class:"col-lg-3 col-md-4 col-sm-6 col-xs-12 q-pa-sm"},v={class:"col-lg-3 col-md-4 col-sm-6 col-xs-12 q-pa-sm"},f={class:"col-lg-3 col-md-4 col-sm-6 col-xs-12 q-pa-sm"},w={class:"col-12 q-pa-sm"},x=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"text-left"},"#"),(0,l._)("th",{class:"text-left"},"Item"),(0,l._)("th",{class:"text-left"},"Description"),(0,l._)("th",{class:"text-left"},"Unit price"),(0,l._)("th",{class:"text-left"},"Quantity"),(0,l._)("th",{class:"text-left"},"Amount"),(0,l._)("th")])],-1),q={style:{"min-width":"20rem !important"}},C={style:{width:"7rem !important"}},_={style:{width:"5rem !important"}},V={style:{width:"7rem !important"}},k={style:{width:"2rem !important"}},D={class:"q-pa-sm col-12"},I={class:"row bg-white q-pa-lg",style:{"border-radius":"4px"}},W=(0,l._)("div",{class:"col-9"},null,-1),S={class:"col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pb-md column q-gutter-sm"},z={class:"q-pa-sm col-12"};function T(e,t,i,T,j,Z){const U=(0,l.up)("q-toolbar-title"),L=(0,l.up)("q-btn"),P=(0,l.up)("q-toolbar"),Q=(0,l.up)("q-item-label"),N=(0,l.up)("q-item-section"),M=(0,l.up)("q-item"),R=(0,l.up)("q-select"),E=(0,l.up)("q-input"),$=(0,l.up)("Datepicker"),O=(0,l.up)("q-badge"),H=(0,l.up)("q-markup-table"),A=(0,l.up)("q-editor"),F=(0,l.up)("q-card-section"),Y=(0,l.up)("q-card"),B=(0,l.up)("modal"),G=(0,l.up)("q-dialog"),J=(0,l.up)("modalc"),K=(0,l.up)("taxModal"),X=(0,l.up)("paymentTypeModal"),ee=(0,l.up)("q-layout"),te=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(ee,{style:{width:"80vw !important"}},{default:(0,l.w5)((()=>[(0,l.Wm)(Y,{class:"bg-secondary",style:{"max-width":"80vw","min-height":"100vh"},flat:"",square:""},{default:(0,l.w5)((()=>[(0,l.Wm)(P,{class:"bg-grey-3 header-height-standard",style:{position:"sticky !important",top:"0","z-index":"15"}},{default:(0,l.w5)((()=>[(0,l.Wm)(U,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(i.action+" ")+" Invoice ",1)])),_:1}),(0,l.wy)((0,l.Wm)(L,{icon:"close",flat:"",round:"",dense:""},null,512),[[te]])])),_:1}),(0,l.Wm)(F,{class:"row q-pa-md"},{default:(0,l.w5)((()=>[(0,l._)("div",a,[(0,l._)("div",s,[(0,l.Wm)(R,{ref:"clientRef",rules:[e=>null!==e||"This field is required"],"bg-color":"white",outlined:"",clearable:"",modelValue:j.client,"onUpdate:modelValue":t[1]||(t[1]=e=>j.client=e),options:j.clientOptions,"use-input":"",label:"Choose Client","input-debounce":"10",onFilter:Z.filterClients,loading:j.clientsLoading,"bottom-slots":""},{hint:(0,l.w5)((()=>[(0,l.Wm)(L,{size:"sm",dense:"","no-caps":"",flat:"",color:"primary",label:"Add Client",onClick:t[0]||(t[0]=e=>j.clientDialogue=!0)})])),option:(0,l.w5)((e=>[(0,l.Wm)(M,(0,l.dG)({onClick:t=>Z.retrievClientContacts(e.opt.id,!1)},e.itemProps),{default:(0,l.w5)((()=>[(0,l.Wm)(N,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Q,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.opt.label),1)])),_:2},1024)])),_:2},1024)])),_:2},1040,["onClick"])])),_:1},8,["rules","modelValue","options","onFilter","loading"])]),(0,l._)("div",n,[(0,l.Wm)(R,{ref:"clientCRef",rules:[e=>null!==e||"This field is required"],"bg-color":"white",outlined:"",clearable:"",disable:0===j.clientContactsOptions.length,modelValue:j.clientContacts,"onUpdate:modelValue":t[3]||(t[3]=e=>j.clientContacts=e),options:j.clientContactsOptions,label:"Client Contact","use-input":"","input-debounce":"10",onFilter:Z.filterClients,loading:j.clientsLoading,"bottom-slots":""},{hint:(0,l.w5)((()=>[(0,l.Wm)(L,{size:"sm",disable:!j.client,ripple:!1,dense:"","no-caps":"",flat:"",color:"primary",label:"Add Contact Person",onClick:t[2]||(t[2]=e=>j.clientContactDialogue=!0)},null,8,["disable"])])),option:(0,l.w5)((e=>[(0,l.Wm)(M,(0,l.dG)({onClick:t=>Z.clientEmail(e.opt.id)},e.itemProps),{default:(0,l.w5)((()=>[(0,l.Wm)(N,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Q,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.opt.label),1)])),_:2},1024)])),_:2},1024)])),_:2},1040,["onClick"])])),_:1},8,["rules","disable","modelValue","options","onFilter","loading"])]),(0,l._)("div",d,[(0,l.Wm)(E,{ref:"cEmailRef","bg-color":"white",outlined:"",disable:j.disableContactEmail,modelValue:j.clientEMAIL,"onUpdate:modelValue":t[4]||(t[4]=e=>j.clientEMAIL=e),label:"Contact E-mail"},null,8,["disable","modelValue"])]),(0,l._)("div",r,[(0,l.Wm)(E,{ref:"billingRef","bg-color":"white",outlined:"",modelValue:j.invoice.billingAddress,"onUpdate:modelValue":t[5]||(t[5]=e=>j.invoice.billingAddress=e),label:"Billing address"},null,8,["modelValue"])]),(0,l._)("div",c,[u,(0,l.Wm)($,{autoApply:"",modelValue:j.invoice.date,"onUpdate:modelValue":t[6]||(t[6]=e=>j.invoice.date=e),showNowButton:""},null,8,["modelValue"])]),(0,l._)("div",m,[p,(0,l.Wm)($,{autoApply:"",modelValue:j.invoice.dueDate,"onUpdate:modelValue":t[7]||(t[7]=e=>j.invoice.dueDate=e),showNowButton:""},null,8,["modelValue"])]),(0,l._)("div",h,[(0,l.Wm)(R,{"bg-color":"white",outlined:"",modelValue:j.tax,"onUpdate:modelValue":[t[9]||(t[9]=e=>j.tax=e),Z.updateTaxRateValue],options:j.taxOptions,loading:j.taxLoading,clearable:"",label:"Choose Tax","bottom-slots":""},{hint:(0,l.w5)((()=>[(0,l.Wm)(L,{size:"sm",dense:"","no-caps":"",flat:"",color:"primary",label:"Add Tax",onClick:t[8]||(t[8]=e=>j.taxDialogue=!0)})])),_:1},8,["modelValue","options","loading","onUpdate:modelValue"])]),(0,l._)("div",g,[(0,l.Wm)(R,{ref:"paymentRef","bg-color":"white",outlined:"",modelValue:j.invoice.paymentMethodId,"onUpdate:modelValue":t[11]||(t[11]=e=>j.invoice.paymentMethodId=e),options:j.paymentOptions,loading:j.paymentLoading,label:"Choose Payment Method","bottom-slots":""},{hint:(0,l.w5)((()=>[(0,l.Wm)(L,{size:"sm",dense:"","no-caps":"",flat:"",color:"primary",label:"Add Payment Type",onClick:t[10]||(t[10]=e=>j.paymentDialogue=!0)})])),_:1},8,["modelValue","options","loading"])]),(0,l._)("div",b,[(0,l.Wm)(R,{ref:"statusRef",rules:[e=>e&&e.length>0||"This field is required"],"bg-color":"white",outlined:"",modelValue:j.invoice.status,"onUpdate:modelValue":t[12]||(t[12]=e=>j.invoice.status=e),options:["Paid","Not paid","Sent"],label:"Status"},null,8,["rules","modelValue"])]),(0,l._)("div",y,[(0,l.Wm)(R,{"bg-color":"white",outlined:"",modelValue:j.invoice.currencyCode,"onUpdate:modelValue":[t[13]||(t[13]=e=>j.invoice.currencyCode=e),Z.updateCurrencyCode],"option-value":"value","option-label":"label",options:j.currencyOptions,label:"Currency code",ref:"currencyCodeRef",rules:[e=>e&&e.length>0||"This field is required"]},null,8,["modelValue","options","rules","onUpdate:modelValue"])]),(0,l._)("div",v,[(0,l.Wm)(E,{"bg-color":"white",disable:j.invoice.currencyCode===j.defaultCurrency,mask:"#.##","fill-mask":"0","reverse-fill-mask":"",outlined:"",modelValue:j.invoice.exchangeRate,"onUpdate:modelValue":t[14]||(t[14]=e=>j.invoice.exchangeRate=e),label:"Exchange rate"},null,8,["disable","modelValue"])]),(0,l._)("div",f,[(0,l.Wm)(E,{"bg-color":"white",mask:"#.##","fill-mask":"0","reverse-fill-mask":"",outlined:"",modelValue:j.bankFee,"onUpdate:modelValue":t[15]||(t[15]=e=>j.bankFee=e),label:"Bank Fee"},null,8,["modelValue"])])]),(0,l._)("div",w,[(0,l.Wm)(H,{flat:"",bordered:"",class:"q-mt-xl"},{default:(0,l.w5)((()=>[x,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(j.invoice.items,((e,i)=>((0,l.wg)(),(0,l.iD)("tr",{key:i},[(0,l._)("td",null,(0,o.zw)(i+1),1),(0,l._)("td",null,[(0,l.Wm)(R,{"use-input":"","input-debounce":"0",style:{"min-width":"10rem !important"},outlined:"",modelValue:j.invoice.items[i].label,"onUpdate:modelValue":[e=>j.invoice.items[i].label=e,e=>Z.updateItem(e,i)],options:j.itemOptions,loading:j.joinedItemsLoading,"bg-color":"white","hide-selected":"","fill-input":"",label:"Item",onFilter:(e,t,l)=>Z.filterItems(e,i,t,l)},{option:(0,l.w5)((e=>[(0,l.Wm)(M,(0,o.vs)((0,l.F4)(e.itemProps)),{default:(0,l.w5)((()=>[(0,l.Wm)(N,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{innerHTML:e.opt.label},null,8,["innerHTML"])])),_:2},1024),(0,l.Wm)(N,{side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(O,{dense:"",innerHTML:e.opt.category},null,8,["innerHTML"])])),_:2},1024)])),_:2},1040)])),_:2},1032,["modelValue","onUpdate:modelValue","options","loading","onFilter"])]),(0,l._)("td",q,[(0,l.Wm)(E,{"bg-color":"white",outlined:"",modelValue:j.invoice.items[i].description,"onUpdate:modelValue":e=>j.invoice.items[i].description=e},null,8,["modelValue","onUpdate:modelValue"])]),(0,l._)("td",C,[(0,l.Wm)(E,{style:{width:"7rem !important"},"bg-color":"white",onInputCapture:()=>Z.evaluate(i),outlined:"",modelValue:j.invoice.items[i].unitPrice,"onUpdate:modelValue":e=>j.invoice.items[i].unitPrice=e},null,8,["onInputCapture","modelValue","onUpdate:modelValue"])]),(0,l._)("td",_,[(0,l.Wm)(E,{style:{width:"5rem !important"},"bg-color":"white",onInputCapture:e=>Z.evaluate(i),outlined:"",modelValue:j.invoice.items[i].qty,"onUpdate:modelValue":e=>j.invoice.items[i].qty=e},null,8,["onInputCapture","modelValue","onUpdate:modelValue"])]),(0,l._)("td",V,[(0,l.Wm)(E,{mask:"#.##","fill-mask":"0","reverse-fill-mask":"",style:{width:"7rem !important"},"bg-color":"white",readonly:"",outlined:"",modelValue:j.invoice.items[i].amount,"onUpdate:modelValue":e=>j.invoice.items[i].amount=e},null,8,["modelValue","onUpdate:modelValue"])]),(0,l._)("td",k,[(0,l.Wm)(L,{"no-caps":"",icon:"add",flat:"",color:"primary",onClick:t[16]||(t[16]=e=>Z.addItemToInvoiceTable())}),0!==i?((0,l.wg)(),(0,l.j4)(L,{key:0,flat:"",icon:"delete",size:"md",color:"negative",onClick:e=>{j.invoice.items.splice(i,1),Z.findTotal()}},null,8,["onClick"])):(0,l.kq)("",!0)])])))),128))])])),_:1})]),(0,l._)("div",D,[(0,l._)("div",I,[W,(0,l._)("div",S,[(0,l.Wm)(E,{label:"Subtotal","fill-mask":"0.00",readonly:"",modelValue:j.subtotal,"onUpdate:modelValue":t[17]||(t[17]=e=>j.subtotal=e)},null,8,["modelValue"]),(0,l.Wm)(E,{label:"Tax Rate%",mask:"##.##","fill-mask":"0",onInputCapture:Z.updateValues,modelValue:j.invoice.taxRate,"onUpdate:modelValue":t[18]||(t[18]=e=>j.invoice.taxRate=e)},null,8,["onInputCapture","modelValue"]),(0,l.Wm)(E,{label:"Discount%",mask:"##.##","fill-mask":"0",onInputCapture:Z.updateValues,modelValue:j.invoice.discount,"onUpdate:modelValue":t[19]||(t[19]=e=>j.invoice.discount=e)},null,8,["onInputCapture","modelValue"]),(0,l.Wm)(E,{label:"Grand total","fill-mask":"0.00",readonly:"",modelValue:j.total,"onUpdate:modelValue":t[20]||(t[20]=e=>j.total=e)},null,8,["modelValue"])])])]),(0,l._)("div",z,[(0,l.Wm)(A,{modelValue:j.invoice.description,"onUpdate:modelValue":t[21]||(t[21]=e=>j.invoice.description=e),dense:!0,toolbar:[[{label:e.$q.lang.editor.align,icon:e.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],["print","fullscreen"],[{label:e.$q.lang.editor.formatting,icon:e.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:e.$q.lang.editor.fontSize,icon:e.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:e.$q.lang.editor.defaultFont,icon:e.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},null,8,["modelValue","toolbar"])])])),_:1})])),_:1}),(0,l.Wm)(P,{style:{position:"sticky !important",bottom:"0","z-index":"5"},class:"bg-grey-3"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(L,{loading:j.loading,onClick:Z.submit,label:"Submit","no-caps":"",type:"reset",color:"primary",unelevated:"",class:"full-width"},null,8,["loading","onClick"]),[[te,j.close]])])),_:1}),(0,l.Wm)(G,{seamless:"",position:"right",modelValue:j.clientDialogue,"onUpdate:modelValue":t[24]||(t[24]=e=>j.clientDialogue=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{onCloseDialogue:t[22]||(t[22]=e=>j.clientDialogue=!1),onUpdateForInvoice:t[23]||(t[23]=e=>Z.mountClients()),actionType:"Add",type:"client"})])),_:1},8,["modelValue"]),(0,l.Wm)(G,{seamless:"",position:"right",modelValue:j.clientContactDialogue,"onUpdate:modelValue":t[26]||(t[26]=e=>j.clientContactDialogue=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(J,{onCloseDialogue:t[25]||(t[25]=e=>j.clientContactDialogue=!1),onUpdateForInvoice:Z.updateContacts,actionType:"Add",clId:Number(j.client.id)},null,8,["onUpdateForInvoice","clId"])])),_:1},8,["modelValue"]),(0,l.Wm)(G,{seamless:"",position:"right",modelValue:j.taxDialogue,"onUpdate:modelValue":t[29]||(t[29]=e=>j.taxDialogue=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(K,{onCloseDialogue:t[27]||(t[27]=e=>{j.taxDialogue=!1,Z.mountTaxes()}),onUpdateForInvoice:t[28]||(t[28]=e=>Z.mountTaxes()),actionType:"Add"})])),_:1},8,["modelValue"]),(0,l.Wm)(G,{seamless:"",position:"right",modelValue:j.paymentDialogue,"onUpdate:modelValue":t[32]||(t[32]=e=>j.paymentDialogue=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(X,{onCloseDialogue:t[30]||(t[30]=e=>{j.paymentDialogue=!1,Z.mountPaymentTypes()}),onUpdateForInvoice:t[31]||(t[31]=e=>Z.mountPaymentTypes()),action:"Add"})])),_:1},8,["modelValue"])])),_:1})}var j=i(93617),Z=i(99834),U=i(65745),L=i(9906),P=i(68716),Q=i(25616),N=i(94789);const M={itemId:null,qty:1,category:null,label:"",unitPrice:0,amount:0},R="USD",E={props:["action","body","invoiceType"],data(){return{defaultCurrency:R,scndEmpty:M,joinedItemsLoading:!1,taxLoading:!1,clientsLoading:!1,taxesLoading:!1,currencyCodesLoading:!1,loading:!1,paymentLoading:!1,close:!1,disableContactEmail:!1,isLoaded:!1,taxDialogue:!1,bankFee:null,paymentDialogue:!1,currencyCode:null,currencyOptions:[R,"IQD"],taxOptions:[],clientDialogue:!1,clientContactDialogue:!1,id:null,subtotal:0,total:0,tax:null,clientContacts:null,clientOptions:[],itemOptions:[],paymentMethod:null,paymentOptions:[],clientContactsOptions:[],options:[],options1:[],clientEMAIL:"",client:null,invoice:{currencyCode:R,paymentMethodId:null,taxId:null,bankFee:null,description:"Description",clientId:null,date:"",exchangeRate:null,taxRate:null,discount:null,billingAddress:"",clientContactId:null,status:"Sent",dueDate:"",items:[]}}},computed:{...(0,j.rn)("crmStore",["allClients"]),...(0,j.rn)("accountingStore",["joinedItems"]),...(0,j.rn)("financeStore",["joinedCategories","taxes","paymentMethods","currencyCodes"])},components:{modal:Z.Z,modalc:U.Z,taxModal:L.Z,paymentTypeModal:P.Z,Datepicker:N.Z},methods:{updateCurrencyCode(e){e===this.defaultCurrency&&(this.invoice.exchangeRate=0)},updateTaxRateValue(e){this.invoice.taxRate=null===e||void 0===e?void 0:e.rate,this.updateValues()},addItemToInvoiceTable(){this.scndEmpty.itemId=null,this.scndEmpty.qty=1,this.scndEmpty.category=null,this.scndEmpty.label="",this.scndEmpty.unitPrice=0,this.scndEmpty.amount=0,this.invoice.items.push({...this.scndEmpty}),this.scndEmpty=M},updateItem(e,t){const i=e;console.log("updateitems: ------ ",e),"object"===typeof i&&(this.invoice.items[t]=i),this.updateOptions(),this.evaluate(t)},filterItems(e,t,i,l){this.updateOptions();let o=this.itemOptions.filter((t=>t.label.indexOf(e)>-1));i((i=>{o.length>0&&(this.itemOptions=o),this.invoice.items[t].label=e}))},filterClients(e,t,i){t((()=>{const t=e.toLowerCase();this.options=this.clientOptions.filter((e=>{if(e.label.toLowerCase().indexOf(t)>-1)return e}))}))},async findTotal(){this.total=0;for(let e=0;e<this.invoice.items.length;e++)this.total+=Number(this.invoice.items[e].amount);this.subtotal=Number(this.total.toFixed(2))},async retrievClientContacts(e,t){this.clientContactsOptions=[],this.clientContacts=[],this.clientEMAIL="";for(let i=0;i<this.allClients.length;i++)if(Number(this.allClients[i].id)===Number(e))for(let e=0;e<this.allClients[i].clientContacts.length;e++)this.clientContactsOptions.push({label:this.allClients[i].clientContacts[e].name,id:Number(this.allClients[i].clientContacts[e].id)});t&&(this.clientContacts={label:this.clientContactsOptions[this.clientContactsOptions.length-1].label,id:this.clientContactsOptions[this.clientContactsOptions.length-1].id},await this.clientEmail(this.clientContacts.id))},clientEmail(e){setTimeout((()=>{for(let t=0;t<this.allClients.length;t++)if(Number(this.client.id)===Number(this.allClients[t].id))for(let i=0;i<this.allClients[t].clientContacts.length;i++)Number(this.allClients[t].clientContacts[i].id)===Number(e)&&(this.clientEMAIL=this.allClients[t].clientContacts[i].email,this.disableContactEmail=!0)}),200)},async updateValues(){setTimeout((async()=>{await this.findTotal();let e=Number(this.invoice.discount)/100*Number(this.total),t=Number(this.invoice.taxRate)/100*Number(this.total);this.total=this.total+Number(t),this.total=this.total-Number(e),this.total=Number(this.total.toFixed(2))}),100)},async evaluate(e){setTimeout((async()=>{var t,i,l;0===Number(this.invoice.items[e].qty)&&"inventoryItem"!==this.invoice.items[e].category?this.invoice.items[e].amount=1*(null===(i=Number(this.invoice.items[e].unitPrice))||void 0===i?void 0:i.toFixed(2)):this.invoice.items[e].amount=(null===(l=Number(this.invoice.items[e].unitPrice))||void 0===l?void 0:l.toFixed(2))*Number(this.invoice.items[e].qty);this.invoice.items[e].unitPrice=Number(this.invoice.items[e].unitPrice)||0,this.invoice.items[e].qty=Number(this.invoice.items[e].qty)||1,this.invoice.items[e].amount=(null===(t=Number(this.invoice.items[e].amount))||void 0===t?void 0:t.toFixed(2))||0}),100),this.updateValues()},...(0,j.nv)("financeStore",["getTaxes","addInvoice","editInvoice","deleteInvoice","getCurrencyCodes","getPaymentMethods"]),...(0,j.nv)("accountingStore",["getJoinedItems"]),...(0,j.nv)("crmStore",["getClients"]),async submit(){var e,t;if(this.$refs.clientRef.validate(),this.$refs.paymentRef.validate(),this.$refs.statusRef.validate(),this.$refs.currencyCodeRef.validate(),!(this.$refs.clientRef.hasError||this.$refs.paymentRef.hasError||this.$refs.statusRef.hasError||this.$refs.currencyCodeRef.hasError))if(""!==this.invoice.items[0].label){this.loading=!0,this.invoice.discount=Number(this.invoice.discount)/100,this.invoice.taxRate=Number(this.invoice.taxRate)/100,this.invoice.bankFee=Number(this.bankFee),this.invoice.taxId=this.tax?Number(null===(e=this.tax)||void 0===e?void 0:e.id):null,this.invoice.paymentMethodId=this.paymentMethod?Number(null===(t=this.paymentMethod)||void 0===t?void 0:t.id):null,this.invoice.date=Q.ZP.formatDate(new Date(this.invoice.date),"YYYY-MM-DD HH:mm"),this.invoice.dueDate=Q.ZP.formatDate(new Date(this.invoice.dueDate),"YYYY-MM-DD HH:mm"),this.invoice.exchangeRate=Number(this.invoice.exchangeRate),this.invoice.clientId=Number(this.client.id),this.invoice.currencyCode=this.invoice.currencyCode,this.invoice.billingAddress=this.invoice.billingAddress,this.invoice.status=this.invoice.status,this.invoice.description=this.invoice.description,this.invoice.clientContactId=this.clientContacts?Number(this.clientContacts.id):null;for(let e=0;e<this.invoice.items.length;e++){var i;this.invoice.items[e]={itemId:this.invoice.items[e].itemId,name:"Edit"===this.action?null===(i=this.invoice.items[e].label)||void 0===i?void 0:i.label:this.invoice.items[e].label,category:this.invoice.items[e].category,qty:Number(this.invoice.items[e].qty)||1,unitPrice:Number(this.invoice.items[e].unitPrice),description:this.invoice.items[e].description}}try{let e;e="Edit"===this.action?await this.editInvoice({...this.invoice,id:this.body.id}):await this.addInvoice(this.invoice),this.$q.notify({type:"positive",message:"Invoice created",color:"positive",position:"top",timeout:"500"})}catch(l){this.$q.notify({type:"negative",message:"something went wrong"+l,color:"negative",position:"top",timeout:"1000"})}this.loading=!1,this.$emit("closeDialogue")}else alert("Please choose at least one item !")},async delInvoice(e){this.deleteInvoice(e)},updateOptions(){var e,t,i;this.itemOptions.length=0,this.options=[],this.itemOptions=[],this.taxOptions=[],this.paymentOptions=[],null!==(e=this.currencyCodes)&&void 0!==e&&e.currencyCodes&&(this.currencyOptions=[]),this.clientOptions=[],this.clientContactsOptions=[],this.joinedItems.forEach((e=>{this.itemOptions.push({label:e.name,itemId:e.id,category:e.category,description:e.description,qty:e.qty,unitPrice:e.unitPrice})})),this.taxes.forEach((e=>{this.taxOptions.push({label:e.name,id:e.id,rate:Number(e.rate).toFixed(2)})})),this.paymentMethods.forEach((e=>{this.paymentOptions.push({label:e.name,id:e.id})})),!this.paymentOptions.length>0&&this.paymentOptions.push({label:"",id:0}),null===(t=this.currencyCodes)||void 0===t||null===(i=t.currencyCodes)||void 0===i||i.forEach(((e,t)=>{this.currencyOptions.push(e)})),this.allClients.forEach((e=>{this.clientOptions.push({label:e.name,id:e.id})}))},mountSuppliers(){this.supplierLoading=!0,this.options=[];let e=this;this.getSuppliers().then((()=>{e.supplierLoading=!1,e.updateOptions()}))},mountTaxes(){this.taxLoading=!0,this.taxOptions=[];let e=this;this.getTaxes().then((()=>{e.taxLoading=!1,e.updateOptions()}))},mountPaymentTypes(){this.paymentLoading=!0,this.paymentOptions=[];let e=this;this.getPaymentMethods().then((()=>{e.paymentLoading=!1,e.updateOptions()}))},mountClients(){this.clientsLoading=!0,this.clientOptions=[];let e=this;this.getClients().then((()=>{e.clientsLoading=!1,e.updateOptions()}))},async updateContacts(){await this.getClients(),await this.retrievClientContacts(Number(this.client.id),!0)},dateConversion(e){let t=new Date(e);return t.setHours(t.getHours()-3),Q.ZP.formatDate(t,"YYYY-MM-DD HH:mm")}},async mounted(){this.invoice.items.push({...this.scndEmpty}),this.isLoaded=!0,this.clientsLoading=!0,this.currencyCodesLoading=!0,this.paymentLoading=!0,this.taxLoading=!0,this.joinedItemsLoading=!0,this.taxesLoading=!0,this.isLoaded=!0;let e=this;if(this.getClients().then((()=>{e.clientsLoading=!1,e.updateOptions()})),this.getCurrencyCodes().then((()=>{e.currencyCodesLoading=!1,e.updateOptions()})),this.getTaxes().then((()=>{e.updateOptions(),e.taxLoading=!1})),this.getJoinedItems().then((()=>{this.joinedItemsLoading=!1,this.updateOptions()})),this.getPaymentMethods().then((()=>{e.paymentLoading=!1,e.updateOptions()})),this.getTaxes().then((()=>{this.taxesLoading=!1,e.updateOptions()})),"Edit"===this.action){var t,i;this.invoice.clientId=this.body.clientId,this.invoice.billingAddress=this.body.billingAddress,this.invoice.taxId={id:this.body.taxId},this.invoice.description=this.body.description,this.invoice.currencyCode=this.body.currencyCode,this.invoice.status=this.body.status,this.client={label:null===(t=this.body.client)||void 0===t?void 0:t.name,id:null===(i=this.body)||void 0===i?void 0:i.client.id},this.bankFee=Number(this.body.bankFee),this.invoice.taxRate=Number(this.body.taxRate),this.invoice.exchangeRate=Number(this.body.exchangeRate),this.invoice.discount=Number(this.body.discount),this.invoice.date=this.dateConversion(this.body.date),this.invoice.paymentMethodId=this.body.paymentMethodId,await this.updateValues(),await this.retrievClientContacts(Number(this.body.clientId),!1),this.body.clientContact&&(this.clientContacts={label:this.body.clientContact.name,id:this.body.clientContact.id},this.clientEMAIL=this.body.clientContact.email);for(let e=0;e<this.body.invoiceItems.length;e++)e+1!==this.body.invoiceItems.length&&this.invoice.items.push({itemId:null,qty:null,category:null,label:{label:"",itemId:null,category:null,description:""},unitPrice:null,amount:0}),this.invoice.items[e].label={label:"",itemId:null,category:null,description:""},this.invoice.items[e].label.itemId=this.body.invoiceItems[e].itemId,this.invoice.items[e].qty=Number(this.body.invoiceItems[e].qty),this.invoice.items[e].label.category=this.body.invoiceItems[e].category,this.invoice.items[e].label.label=this.body.invoiceItems[e].name,this.invoice.items[e].unitPrice=Number(this.body.invoiceItems[e].unitPrice),this.invoice.items[e].amount=Number(this.invoice.items[e].qty*this.invoice.items[e].unitPrice).toFixed(2),this.invoice.items[e].description=this.body.invoiceItems[e].description;this.invoice.date=Q.ZP.formatDate(new Date(this.body.date),"YYYY-MM-DD HH:mm"),this.invoice.dueDate=Q.ZP.formatDate(new Date(this.body.dueDate),"YYYY-MM-DD HH:mm"),await this.updateValues()}else this.invoice.date=Q.ZP.formatDate(new Date,"YYYY-MM-DD HH:mm"),this.invoice.dueDate=Q.ZP.formatDate(new Date,"YYYY-MM-DD HH:mm");this.isLoaded=!1}};var $=i(19214),O=i(10151),H=i(39570),A=i(13747),F=i(2165),Y=i(25589),B=i(63314),G=i(83414),J=i(52035),K=i(2350),X=i(64689),ee=i(30481),te=i(69721),ie=i(89989),le=i(46778),oe=i(60677),ae=i(7518),se=i.n(ae);E.render=T;const ne=E;se()(E,"components",{QLayout:$.Z,QCard:O.Z,QToolbar:H.Z,QToolbarTitle:A.Z,QBtn:F.Z,QCardSection:Y.Z,QSelect:B.Z,QItem:G.Z,QItemSection:J.Z,QItemLabel:K.Z,QInput:X.Z,QMarkupTable:ee.Z,QBadge:te.Z,QEditor:ie.Z,QDialog:le.Z}),se()(E,"directives",{ClosePopup:oe.Z})},68716:(e,t,i)=>{"use strict";i.d(t,{Z:()=>x});i(90246);var l=i(83673),o=i(62323);function a(e,t,i,a,s,n){const d=(0,l.up)("q-toolbar-title"),r=(0,l.up)("q-btn"),c=(0,l.up)("q-toolbar"),u=(0,l.up)("q-input"),m=(0,l.up)("q-editor"),p=(0,l.up)("q-card-section"),h=(0,l.up)("q-card"),g=(0,l.up)("q-layout"),b=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(g,{style:{width:"550px !important"}},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{style:{"max-width":"550px","min-height":"100vh"},flat:"",square:""},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"bg-grey-3 header-height-standard",style:{position:"sticky !important",top:"0","z-index":"15"}},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(i.action+" ")+" Payment Type ",1)])),_:1}),(0,l.wy)((0,l.Wm)(r,{icon:"close",flat:"",round:"",dense:""},null,512),[[b]])])),_:1}),(0,l.Wm)(p,{class:"q-gutter-md scroll"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{rules:[e=>e&&0!==e.length||"This field is required"],ref:"nameRef",outlined:"",modelValue:s.paymentMethod.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.paymentMethod.name=e),label:"Name"},null,8,["rules","modelValue"]),(0,l.Wm)(m,{modelValue:s.paymentMethod.description,"onUpdate:modelValue":t[1]||(t[1]=e=>s.paymentMethod.description=e),dense:!0,toolbar:[[{label:e.$q.lang.editor.align,icon:e.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],["print","fullscreen"],[{label:e.$q.lang.editor.formatting,icon:e.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:e.$q.lang.editor.fontSize,icon:e.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:e.$q.lang.editor.defaultFont,icon:e.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},null,8,["modelValue","toolbar"])])),_:1})])),_:1}),(0,l.Wm)(c,{class:"bg-grey-3",style:{position:"sticky !important",bottom:"0","z-index":"5"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{loading:s.loading,onClick:n.submit,label:"Submit","no-caps":"",type:"reset",color:"primary",unelevated:"",class:"full-width"},null,8,["loading","onClick"])])),_:1})])),_:1})}var s=i(93617),n=i(25616),d=i(94789);const r={components:{Datepicker:d.Z},props:["body","action"],data(){return{loading:!1,id:null,paymentMethod:{name:"",description:"Description",expireDate:"",pin:"",cvs:""}}},methods:{...(0,s.nv)("financeStore",["addPaymentMethod","updatePaymentMethod"]),async submit(){this.$refs.nameRef.validate(),this.$refs.nameRef.hasError||(this.paymentMethod.expireDate=n.ZP.formatDate(new Date(this.paymentMethod.expireDate),"YYYY-MM-DD HH:mm"),this.loading=!0,"Add"===this.action?await this.addPaymentMethod({...this.paymentMethod}):"Edit"===this.action&&await this.updatePaymentMethod({...this.paymentMethod,id:this.body.id}),this.loading=!1,this.$emit("closeDialogue"))}},mounted(){if("Edit"===this.action){this.id=this.body.id,this.paymentMethod.name=this.body.name,this.paymentMethod.description=this.body.description;let e=new Date(this.body.expireDate);return e.setHours(e.getHours()-3),this.paymentMethod.expireDate=n.ZP.formatDate(e,"YYYY-MM-DD HH:mm"),this.paymentMethod.cvs=this.body.cvs,void(this.paymentMethod.pin=this.body.pin)}this.paymentMethod.expireDate=n.ZP.formatDate(new Date,"YYYY-MM-DD HH:mm")}};var c=i(19214),u=i(10151),m=i(39570),p=i(13747),h=i(2165),g=i(25589),b=i(64689),y=i(89989),v=i(60677),f=i(7518),w=i.n(f);r.render=a;const x=r;w()(r,"components",{QLayout:c.Z,QCard:u.Z,QToolbar:m.Z,QToolbarTitle:p.Z,QBtn:h.Z,QCardSection:g.Z,QInput:b.Z,QEditor:y.Z}),w()(r,"directives",{ClosePopup:v.Z})},30112:(e,t,i)=>{"use strict";i.d(t,{Z:()=>de});i(90246);var l=i(83673),o=i(62323);const a={class:"col-12 row q-pa-sm"},s={class:"col-lg-3 col-md-4 col-sm-6 col-xs-12 q-pa-sm"},n={class:"col-lg-3 col-md-4 col-sm-6 col-xs-12 q-pa-sm"},d={class:"col-lg-3 col-md-4 col-sm-6 col-xs-12 q-pa-sm"},r={class:"col-lg-3 col-md-4 col-sm-6 col-xs-12 q-pa-sm"},c={class:"col-lg-3 col-md-4 col-sm-6 col-xs-12 q-pa-sm"},u=(0,l._)("div",{class:"q-ma-none absolute q-ml-sm text-grey-7",style:{"z-index":"10","font-size":"12px","line-height":"20px","font-weight":"400"}},"Expense date",-1),m={class:"col-lg-3 col-md-4 col-sm-6 col-xs-12 q-pa-sm"},p=(0,l._)("div",{class:"q-ma-none absolute q-ml-sm text-grey-7",style:{"z-index":"10","font-size":"12px","line-height":"20px","font-weight":"400"}},"Due date",-1),h={class:"col-lg-3 col-md-4 col-sm-6 col-xs-12 q-pa-sm"},g={class:"col-lg-3 col-md-4 col-sm-6 col-xs-12 q-pa-sm"},b={class:"col-lg-3 col-md-4 col-sm-6 col-xs-12 q-pa-sm"},y={class:"col-lg-3 col-md-4 col-sm-6 col-xs-12 q-pa-sm"},v={class:"col-lg-3 col-md-4 col-sm-6 col-xs-12 q-pa-sm"},f={class:"col-lg-3 col-md-4 col-sm-6 col-xs-12 q-pa-sm"},w={class:"col-12 q-pa-sm"},x=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"text-left"},"#"),(0,l._)("th",{class:"text-left"},"Item"),(0,l._)("th",{class:"text-left"},"Description"),(0,l._)("th",{class:"text-left"},"Unit price"),(0,l._)("th",{class:"text-left"},"Quantity"),(0,l._)("th",{class:"text-left"},"Amount"),(0,l._)("th")])],-1),q={style:{"min-width":"20rem !important"}},C={style:{width:"7rem !important"}},_={style:{width:"5rem !important"}},V={style:{width:"7rem !important"}},k={style:{width:"2rem !important"}},D=(0,l._)("div",null,[(0,l._)("div",{class:"q-pa-sm"})],-1),I={class:"q-pa-sm col-12"},W={class:"row bg-white q-pa-lg",style:{"border-radius":"4px"}},S=(0,l._)("div",{class:"col-9"},null,-1),z={class:"col-lg-3 col-md-3 col-sm-6 col-xs-12 q-pb-md column q-gutter-sm"},T={class:"q-pa-sm col-12"};function j(e,t,i,j,Z,U){const L=(0,l.up)("q-toolbar-title"),P=(0,l.up)("q-btn"),Q=(0,l.up)("q-toolbar"),N=(0,l.up)("q-item-label"),M=(0,l.up)("q-item-section"),R=(0,l.up)("q-item"),E=(0,l.up)("q-select"),$=(0,l.up)("q-input"),O=(0,l.up)("Datepicker"),H=(0,l.up)("q-badge"),A=(0,l.up)("q-markup-table"),F=(0,l.up)("q-editor"),Y=(0,l.up)("q-card-section"),B=(0,l.up)("q-card"),G=(0,l.up)("modal"),J=(0,l.up)("q-dialog"),K=(0,l.up)("modalc"),X=(0,l.up)("taxModal"),ee=(0,l.up)("paymentTypeModal"),te=(0,l.up)("q-layout"),ie=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(te,{style:{width:"80vw !important"}},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{class:"bg-secondary",style:{"max-width":"80vw","min-height":"100vh"},flat:"",square:""},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{class:"bg-grey-3 header-height-standard",style:{position:"sticky !important",top:"0","z-index":"15"}},{default:(0,l.w5)((()=>[(0,l.Wm)(L,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(i.action+" ")+" Quote ",1)])),_:1}),(0,l.wy)((0,l.Wm)(P,{icon:"close",flat:"",round:"",dense:""},null,512),[[ie]])])),_:1}),(0,l.Wm)(Y,{class:"row q-pa-md"},{default:(0,l.w5)((()=>[(0,l._)("div",a,[(0,l._)("div",s,[(0,l.Wm)(E,{ref:"clientRef",rules:[e=>null!==e||"This field is required"],"bg-color":"white",outlined:"",clearable:"",modelValue:Z.client,"onUpdate:modelValue":t[1]||(t[1]=e=>Z.client=e),options:Z.clientOptions,"use-input":"",label:"Choose Client","input-debounce":"10",onFilter:U.filterClients,loading:Z.clientsLoading,"bottom-slots":""},{hint:(0,l.w5)((()=>[(0,l.Wm)(P,{size:"sm",dense:"","no-caps":"",flat:"",color:"primary",label:"Add Client",onClick:t[0]||(t[0]=e=>Z.clientDialogue=!0)})])),option:(0,l.w5)((e=>[(0,l.Wm)(R,(0,l.dG)({onClick:t=>U.retrievClientContacts(e.opt.id,!1)},e.itemProps),{default:(0,l.w5)((()=>[(0,l.Wm)(M,null,{default:(0,l.w5)((()=>[(0,l.Wm)(N,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.opt.label),1)])),_:2},1024)])),_:2},1024)])),_:2},1040,["onClick"])])),_:1},8,["rules","modelValue","options","onFilter","loading"])]),(0,l._)("div",n,[(0,l.Wm)(E,{ref:"clientCRef",rules:[e=>null!==e||"This field is required"],"bg-color":"white",outlined:"",clearable:"",disable:0===Z.clientContactsOptions.length,modelValue:Z.clientContacts,"onUpdate:modelValue":t[3]||(t[3]=e=>Z.clientContacts=e),options:Z.clientContactsOptions,label:"Client Contact","use-input":"","input-debounce":"10",onFilter:U.filterClients,loading:Z.clientsLoading,"bottom-slots":""},{hint:(0,l.w5)((()=>[(0,l.Wm)(P,{size:"sm",disable:!Z.client,ripple:!1,dense:"","no-caps":"",flat:"",color:"primary",label:"Add Contact Person",onClick:t[2]||(t[2]=e=>Z.clientContactDialogue=!0)},null,8,["disable"])])),option:(0,l.w5)((e=>[(0,l.Wm)(R,(0,l.dG)({onClick:t=>U.clientEmail(e.opt.id)},e.itemProps),{default:(0,l.w5)((()=>[(0,l.Wm)(M,null,{default:(0,l.w5)((()=>[(0,l.Wm)(N,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.opt.label),1)])),_:2},1024)])),_:2},1024)])),_:2},1040,["onClick"])])),_:1},8,["rules","disable","modelValue","options","onFilter","loading"])]),(0,l._)("div",d,[(0,l.Wm)($,{ref:"cEmailRef","bg-color":"white",outlined:"",disable:Z.disableContactEmail,modelValue:Z.clientEMAIL,"onUpdate:modelValue":t[4]||(t[4]=e=>Z.clientEMAIL=e),label:"Contact E-mail"},null,8,["disable","modelValue"])]),(0,l._)("div",r,[(0,l.Wm)($,{ref:"billingRef","bg-color":"white",outlined:"",modelValue:Z.quote.billingAddress,"onUpdate:modelValue":t[5]||(t[5]=e=>Z.quote.billingAddress=e),label:"Billing address"},null,8,["modelValue"])]),(0,l._)("div",c,[u,(0,l.Wm)(O,{autoApply:"",modelValue:Z.quote.date,"onUpdate:modelValue":t[6]||(t[6]=e=>Z.quote.date=e),showNowButton:""},null,8,["modelValue"])]),(0,l._)("div",m,[p,(0,l.Wm)(O,{autoApply:"",modelValue:Z.quote.dueDate,"onUpdate:modelValue":t[7]||(t[7]=e=>Z.quote.dueDate=e),showNowButton:""},null,8,["modelValue"])]),(0,l._)("div",h,[(0,l.Wm)(E,{"bg-color":"white",outlined:"",modelValue:Z.tax,"onUpdate:modelValue":[t[9]||(t[9]=e=>Z.tax=e),U.updateTaxRateValue],options:Z.taxOptions,loading:Z.taxLoading,clearable:"",label:"Choose Tax","bottom-slots":""},{hint:(0,l.w5)((()=>[(0,l.Wm)(P,{size:"sm",dense:"","no-caps":"",flat:"",color:"primary",label:"Add Tax",onClick:t[8]||(t[8]=e=>Z.taxDialogue=!0)})])),_:1},8,["modelValue","options","loading","onUpdate:modelValue"])]),(0,l._)("div",g,[(0,l.Wm)(E,{ref:"paymentRef","bg-color":"white",outlined:"",modelValue:Z.quote.paymentMethodId,"onUpdate:modelValue":t[11]||(t[11]=e=>Z.quote.paymentMethodId=e),options:Z.paymentOptions,loading:Z.paymentLoading,label:"Choose Payment Method","bottom-slots":""},{hint:(0,l.w5)((()=>[(0,l.Wm)(P,{size:"sm",dense:"","no-caps":"",flat:"",color:"primary",label:"Add Payment Type",onClick:t[10]||(t[10]=e=>Z.paymentDialogue=!0)})])),_:1},8,["modelValue","options","loading"])]),(0,l._)("div",b,[(0,l.Wm)(E,{ref:"statusRef",rules:[e=>e&&e.length>0||"This field is required"],"bg-color":"white",outlined:"",modelValue:Z.quote.status,"onUpdate:modelValue":t[12]||(t[12]=e=>Z.quote.status=e),options:["Paid","Not paid","Sent"],label:"Status"},null,8,["rules","modelValue"])]),(0,l._)("div",y,[(0,l.Wm)(E,{"bg-color":"white",outlined:"",modelValue:Z.quote.currencyCode,"onUpdate:modelValue":[t[13]||(t[13]=e=>Z.quote.currencyCode=e),U.updateCurrencyCode],"option-value":"value","option-label":"label",options:Z.currencyOptions,label:"Currency code",ref:"currencyCodeRef",rules:[e=>e&&e.length>0||"This field is required"]},null,8,["modelValue","options","rules","onUpdate:modelValue"])]),(0,l._)("div",v,[(0,l.Wm)($,{"bg-color":"white",mask:"#",disable:Z.quote.currencyCode===Z.defaultCurrency,"fill-mask":"0","reverse-fill-mask":"","model-value":"Number",outlined:"",modelValue:Z.quote.exchangeRate,"onUpdate:modelValue":t[14]||(t[14]=e=>Z.quote.exchangeRate=e),label:"Exchange rate"},null,8,["disable","modelValue"])]),(0,l._)("div",f,[(0,l.Wm)($,{"bg-color":"white",mask:"#","fill-mask":"0","reverse-fill-mask":"","model-value":"Number",outlined:"",modelValue:Z.bankFee,"onUpdate:modelValue":t[15]||(t[15]=e=>Z.bankFee=e),label:"Bank Fee"},null,8,["modelValue"])])]),(0,l._)("div",w,[(0,l.Wm)(A,{flat:"",bordered:"",class:"q-mt-xl"},{default:(0,l.w5)((()=>[x,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Z.quote.items,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:t},[(0,l._)("td",null,(0,o.zw)(t+1),1),(0,l._)("td",null,[(0,l.Wm)(E,{"use-input":"","input-debounce":"0",style:{"min-width":"10rem !important"},outlined:"",modelValue:Z.quote.items[t].label,"onUpdate:modelValue":[e=>Z.quote.items[t].label=e,e=>U.updateItem(e,t)],options:Z.itemOptions,loading:Z.joinedItemsLoading,"bg-color":"white","hide-selected":"","fill-input":"",label:"Item",onFilter:(e,i,l)=>U.filterItems(e,t,i,l)},{option:(0,l.w5)((e=>[(0,l.Wm)(R,(0,o.vs)((0,l.F4)(e.itemProps)),{default:(0,l.w5)((()=>[(0,l.Wm)(M,null,{default:(0,l.w5)((()=>[(0,l.Wm)(N,{innerHTML:e.opt.label},null,8,["innerHTML"])])),_:2},1024),(0,l.Wm)(M,{side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(H,{dense:"",innerHTML:e.opt.category},null,8,["innerHTML"])])),_:2},1024)])),_:2},1040)])),_:2},1032,["modelValue","onUpdate:modelValue","options","loading","onFilter"])]),(0,l._)("td",q,[(0,l.Wm)($,{"bg-color":"white",outlined:"",modelValue:Z.quote.items[t].description,"onUpdate:modelValue":e=>Z.quote.items[t].description=e},null,8,["modelValue","onUpdate:modelValue"])]),(0,l._)("td",C,[(0,l.Wm)($,{style:{width:"7rem !important"},mask:"#","fill-mask":"0","reverse-fill-mask":"","model-value":"Number","bg-color":"white",onInputCapture:e=>U.evaluate(t),outlined:"",modelValue:Z.quote.items[t].unitPrice,"onUpdate:modelValue":e=>Z.quote.items[t].unitPrice=e},null,8,["onInputCapture","modelValue","onUpdate:modelValue"])]),(0,l._)("td",_,[(0,l.Wm)($,{style:{width:"5rem !important"},"bg-color":"white",mask:"#","fill-mask":"0","reverse-fill-mask":"","model-value":"Number",onInputCapture:e=>U.evaluate(t),outlined:"",modelValue:Z.quote.items[t].qty,"onUpdate:modelValue":e=>Z.quote.items[t].qty=e},null,8,["onInputCapture","modelValue","onUpdate:modelValue"])]),(0,l._)("td",V,[(0,l.Wm)($,{style:{width:"7rem !important"},"bg-color":"white",readonly:"",outlined:"",modelValue:Z.quote.items[t].amount,"onUpdate:modelValue":e=>Z.quote.items[t].amount=e,type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),(0,l._)("td",k,[(0,l.Wm)(P,{"no-caps":"",icon:"add",flat:"",color:"primary",onClick:e=>U.addItemToQuoteTable(t)},null,8,["onClick"]),0!==t?((0,l.wg)(),(0,l.j4)(P,{key:0,flat:"",icon:"delete",size:"md",color:"negative",onClick:e=>{Z.quote.items.splice(t,1),U.findTotal()}},null,8,["onClick"])):(0,l.kq)("",!0)])])))),128))])])),_:1})]),D,(0,l._)("div",I,[(0,l._)("div",W,[S,(0,l._)("div",z,[(0,l.Wm)($,{mask:"#",type:"number","model-value":"Number","fill-mask":"0","reverse-fill-mask":"",readonly:"",modelValue:Z.subtotal,"onUpdate:modelValue":t[16]||(t[16]=e=>Z.subtotal=e),label:"Subtotal"},null,8,["modelValue"]),(0,l.Wm)($,{mask:"#","model-value":"Number","fill-mask":"0","reverse-fill-mask":"",onInputCapture:U.updateValues,modelValue:Z.quote.taxRate,"onUpdate:modelValue":t[17]||(t[17]=e=>Z.quote.taxRate=e),label:"Tax Rate%"},null,8,["onInputCapture","modelValue"]),(0,l.Wm)($,{mask:"#","model-value":"Number","fill-mask":"0","reverse-fill-mask":"",label:"Discount%",onInputCapture:U.updateValues,modelValue:Z.quote.discount,"onUpdate:modelValue":t[18]||(t[18]=e=>Z.quote.discount=e)},null,8,["onInputCapture","modelValue"]),(0,l.Wm)($,{mask:"#",type:"number","model-value":"Number","fill-mask":"0","reverse-fill-mask":"",readonly:"",modelValue:Z.total,"onUpdate:modelValue":t[19]||(t[19]=e=>Z.total=e),label:"Grand total"},null,8,["modelValue"])])])]),(0,l._)("div",T,[(0,l.Wm)(F,{modelValue:Z.quote.description,"onUpdate:modelValue":t[20]||(t[20]=e=>Z.quote.description=e),dense:!0,toolbar:[[{label:e.$q.lang.editor.align,icon:e.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],["print","fullscreen"],[{label:e.$q.lang.editor.formatting,icon:e.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:e.$q.lang.editor.fontSize,icon:e.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:e.$q.lang.editor.defaultFont,icon:e.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},null,8,["modelValue","toolbar"])])])),_:1})])),_:1}),(0,l.Wm)(Q,{style:{position:"sticky !important",bottom:"0","z-index":"5"},class:"bg-grey-3"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(P,{loading:Z.loading,onClick:U.submit,label:"Submit","no-caps":"",type:"reset",color:"primary",unelevated:"",class:"full-width"},null,8,["loading","onClick"]),[[ie,Z.close]])])),_:1}),(0,l.Wm)(J,{seamless:"",position:"right",modelValue:Z.clientDialogue,"onUpdate:modelValue":t[23]||(t[23]=e=>Z.clientDialogue=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(G,{onCloseDialogue:t[21]||(t[21]=e=>Z.clientDialogue=!1),onUpdateForQuote:t[22]||(t[22]=e=>U.mountClients()),actionType:"Add",type:"client"})])),_:1},8,["modelValue"]),(0,l.Wm)(J,{seamless:"",position:"right",modelValue:Z.clientContactDialogue,"onUpdate:modelValue":t[25]||(t[25]=e=>Z.clientContactDialogue=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(K,{onCloseDialogue:t[24]||(t[24]=e=>Z.clientContactDialogue=!1),onUpdateForQuote:U.updateContacts,actionType:"Add",clId:Number(Z.client.id)},null,8,["onUpdateForQuote","clId"])])),_:1},8,["modelValue"]),(0,l.Wm)(J,{seamless:"",position:"right",modelValue:Z.taxDialogue,"onUpdate:modelValue":t[28]||(t[28]=e=>Z.taxDialogue=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(X,{onCloseDialogue:t[26]||(t[26]=e=>{Z.taxDialogue=!1,U.mountTaxes()}),onUpdateForQuote:t[27]||(t[27]=e=>U.mountTaxes()),actionType:"Add"})])),_:1},8,["modelValue"]),(0,l.Wm)(J,{seamless:"",position:"right",modelValue:Z.paymentDialogue,"onUpdate:modelValue":t[31]||(t[31]=e=>Z.paymentDialogue=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(ee,{onCloseDialogue:t[29]||(t[29]=e=>{Z.paymentDialogue=!1,U.mountPaymentTypes()}),onUpdateForQuote:t[30]||(t[30]=e=>U.mountPaymentTypes()),action:"Add"})])),_:1},8,["modelValue"])])),_:1})}i(10071);var Z=i(93617),U=i(99834),L=i(65745),P=i(9906),Q=i(68716),N=i(25616),M=i(94789);const R={itemId:null,qty:0,category:null,label:"",unitPrice:0,amount:0},E="USD",$={props:["action","body","quoteType"],data(){return{defaultCurrency:E,scndEmpty:R,joinedItemsLoading:!1,taxLoading:!1,clientsLoading:!1,taxesLoading:!1,currencyCodesLoading:!1,loading:!1,paymentLoading:!1,close:!1,disableContactEmail:!1,isLoaded:!1,taxDialogue:!1,bankFee:null,paymentDialogue:!1,currencyCode:null,currencyOptions:[E,"IQD"],taxOptions:[],clientDialogue:!1,clientContactDialogue:!1,id:null,subtotal:0,total:0,tax:null,clientContacts:null,clientOptions:[],itemOptions:[],paymentMethod:null,paymentOptions:[],clientContactsOptions:[],options:[],options1:[],clientEMAIL:"",client:null,quote:{currencyCode:E,paymentMethodId:null,taxId:null,bankFee:null,description:"Description",clientId:null,date:"",exchangeRate:null,taxRate:null,discount:null,billingAddress:"",clientContactId:null,status:"Sent",dueDate:"",items:[]}}},computed:{...(0,Z.rn)("crmStore",["allClients"]),...(0,Z.rn)("accountingStore",["joinedItems"]),...(0,Z.rn)("financeStore",["joinedCategories","taxes","paymentMethods","currencyCodes"])},components:{modal:U.Z,modalc:L.Z,taxModal:P.Z,paymentTypeModal:Q.Z,Datepicker:M.Z},methods:{updateCurrencyCode(e){e===this.defaultCurrency&&(this.quote.exchangeRate=0)},updateTaxRateValue(e){this.quote.taxRate=null===e||void 0===e?void 0:e.rate,this.updateValues()},addItemToQuoteTable(e){this.scndEmpty.itemId=null,this.scndEmpty.qty=0,this.scndEmpty.category=null,this.scndEmpty.label="",this.scndEmpty.unitPrice=0,this.scndEmpty.amount=0,this.quote.items.push(...this.scndEmpty)},updateItem(e,t){const i=e;console.log("updateitems: ------ ",e),"object"===typeof i&&(this.quote.items[t]=i),this.updateOptions(),this.evaluate(t)},filterItems(e,t,i,l){this.updateOptions();let o=this.itemOptions.filter((t=>t.label.indexOf(e)>-1));i((i=>{o.length>0&&(this.itemOptions=o),this.quote.items[t].label=e}))},filterClients(e,t,i){t((()=>{const t=e.toLowerCase();this.options=this.clientOptions.filter((e=>{if(e.label.toLowerCase().indexOf(t)>-1)return e}))}))},async findTotal(){this.total=0;for(let e=0;e<this.quote.items.length;e++)this.total+=this.quote.items[e].amount;this.subtotal=this.total},async retrievClientContacts(e,t){this.clientContactsOptions=[],this.clientContacts=[],this.clientEMAIL="";for(let i=0;i<this.allClients.length;i++)if(Number(this.allClients[i].id)===Number(e))for(let e=0;e<this.allClients[i].clientContacts.length;e++)this.clientContactsOptions.push({label:this.allClients[i].clientContacts[e].name,id:Number(this.allClients[i].clientContacts[e].id)});t&&(this.clientContacts={label:this.clientContactsOptions[this.clientContactsOptions.length-1].label,id:this.clientContactsOptions[this.clientContactsOptions.length-1].id},await this.clientEmail(this.clientContacts.id))},clientEmail(e){setTimeout((()=>{for(let t=0;t<this.allClients.length;t++)if(Number(this.client.id)===Number(this.allClients[t].id))for(let i=0;i<this.allClients[t].clientContacts.length;i++)Number(this.allClients[t].clientContacts[i].id)===Number(e)&&(this.clientEMAIL=this.allClients[t].clientContacts[i].email,this.disableContactEmail=!0)}),200)},async updateValues(){setTimeout((async()=>{await this.findTotal();let e=Number(this.quote.discount)/100*this.total,t=Number(this.quote.taxRate)/100*this.total;this.total=this.total+Number(t),this.total=this.total-Number(e)}),100)},async evaluate(e){setTimeout((async()=>{0===Number(this.quote.items[e].qty)&&"inventoryItem"!==this.quote.items[e].category?this.quote.items[e].amount=1*Number(this.quote.items[e].unitPrice):this.quote.items[e].amount=Number(this.quote.items[e].unitPrice)*Number(this.quote.items[e].qty)}),100),this.updateValues()},...(0,Z.nv)("financeStore",["getTaxes","addQuote","editQuote","deleteQuote","getCurrencyCodes","getPaymentMethods"]),...(0,Z.nv)("accountingStore",["getJoinedItems"]),...(0,Z.nv)("crmStore",["getClients"]),async submit(){var e,t;if(this.$refs.clientRef.validate(),this.$refs.paymentRef.validate(),this.$refs.statusRef.validate(),this.$refs.currencyCodeRef.validate(),!(this.$refs.clientRef.hasError||this.$refs.paymentRef.hasError||this.$refs.statusRef.hasError||this.$refs.currencyCodeRef.hasError))if(""!==this.quote.items[0].label){this.loading=!0,this.quote.discount=Number(this.quote.discount)/100,this.quote.taxRate=Number(this.quote.taxRate)/100,this.quote.bankFee=Number(this.bankFee),this.quote.taxId=this.tax?Number(null===(e=this.tax)||void 0===e?void 0:e.id):null,this.quote.paymentMethodId=this.paymentMethod?Number(null===(t=this.paymentMethod)||void 0===t?void 0:t.id):null,this.quote.date=N.ZP.formatDate(new Date(this.quote.date),"YYYY-MM-DD HH:mm"),this.quote.dueDate=N.ZP.formatDate(new Date(this.quote.dueDate),"YYYY-MM-DD HH:mm"),this.quote.exchangeRate=Number(this.quote.exchangeRate),this.quote.clientId=Number(this.client.id),this.quote.currencyCode=this.quote.currencyCode,this.quote.billingAddress=this.quote.billingAddress,this.quote.status=this.quote.status,this.quote.description=this.quote.description,this.quote.clientContactId=this.clientContacts?Number(this.clientContacts.id):null;for(let e=0;e<this.quote.items.length;e++){var i;this.quote.items[e]={itemId:this.quote.items[e].itemId,name:"Edit"===this.action?null===(i=this.quote.items[e].label)||void 0===i?void 0:i.label:this.quote.items[e].label,category:this.quote.items[e].category,qty:Number(this.quote.items[e].qty)||1,unitPrice:Number(this.quote.items[e].unitPrice),description:this.quote.items[e].description}}try{var l;let e;e="Edit"===this.action?await this.editQuote({...this.quote,id:this.body.id}):await this.addQuote(this.quote),null!==(l=e.data)&&void 0!==l&&l.success||this.$q.notify({type:"negative",message:"something went wrong, Please try again or Check the table",color:"negative",position:"top",timeout:"500"})}catch(o){this.$q.notify({type:"negative",message:"something went wrong"+o,color:"negative",position:"top",timeout:"500"})}this.loading=!1,this.$emit("closeDialogue")}else alert("Please choose at least one item !")},async delQuote(e){this.deleteQuote(e)},updateOptions(){var e,t,i;this.itemOptions.length=0,this.options=[],this.itemOptions=[],this.taxOptions=[],this.paymentOptions=[],null!==(e=this.currencyCodes)&&void 0!==e&&e.currencyCodes&&(this.currencyOptions=[]),this.clientOptions=[],this.clientContactsOptions=[],this.joinedItems.forEach((e=>{this.itemOptions.push({label:e.name,itemId:e.id,category:e.category,description:e.description,qty:e.qty,unitPrice:e.unitPrice})})),this.taxes.forEach((e=>{this.taxOptions.push({label:e.name,id:e.id,rate:parseFloat(e.rate).toFixed(2)})})),this.paymentMethods.forEach((e=>{this.paymentOptions.push({label:e.name,id:e.id})})),!this.paymentOptions.length>0&&this.paymentOptions.push({label:"",id:0}),null===(t=this.currencyCodes)||void 0===t||null===(i=t.currencyCodes)||void 0===i||i.forEach(((e,t)=>{this.currencyOptions.push(e)})),this.allClients.forEach((e=>{this.clientOptions.push({label:e.name,id:e.id})}))},mountSuppliers(){this.supplierLoading=!0,this.options=[];let e=this;this.getSuppliers().then((()=>{e.supplierLoading=!1,e.updateOptions()}))},mountTaxes(){this.taxLoading=!0,this.taxOptions=[];let e=this;this.getTaxes().then((()=>{e.taxLoading=!1,e.updateOptions()}))},mountPaymentTypes(){this.paymentLoading=!0,this.paymentOptions=[];let e=this;this.getPaymentMethods().then((()=>{e.paymentLoading=!1,e.updateOptions()}))},mountClients(){this.clientsLoading=!0,this.clientOptions=[];let e=this;this.getClients().then((()=>{e.clientsLoading=!1,e.updateOptions()}))},async updateContacts(){await this.getClients(),await this.retrievClientContacts(Number(this.client.id),!0)},dateConversion(e){let t=new Date(e);return t.setHours(t.getHours()-3),N.ZP.formatDate(t,"YYYY-MM-DD HH:mm")}},async mounted(){this.quote.items.push(this.scndEmpty),this.isLoaded=!0,this.clientsLoading=!0,this.currencyCodesLoading=!0,this.paymentLoading=!0,this.taxLoading=!0,this.joinedItemsLoading=!0,this.taxesLoading=!0,this.isLoaded=!0;let e=this;if(this.getClients().then((()=>{e.clientsLoading=!1,e.updateOptions()})),this.getCurrencyCodes().then((()=>{e.currencyCodesLoading=!1,e.updateOptions()})),this.getTaxes().then((()=>{e.updateOptions(),e.taxLoading=!1})),this.getJoinedItems().then((()=>{this.joinedItemsLoading=!1,this.updateOptions()})),this.getPaymentMethods().then((()=>{e.paymentLoading=!1,e.updateOptions()})),this.getTaxes().then((()=>{this.taxesLoading=!1,e.updateOptions()})),"Edit"===this.action){var t,i;this.quote.clientId=this.body.clientId,this.quote.billingAddress=this.body.billingAddress,this.quote.taxId={id:this.body.taxId},this.quote.description=this.body.description,this.quote.currencyCode=this.body.currencyCode,this.quote.status=this.body.status,this.client={label:null===(t=this.body.client)||void 0===t?void 0:t.name,id:null===(i=this.body)||void 0===i?void 0:i.client.id},this.bankFee=Number(this.body.bankFee),this.quote.taxRate=Number(this.body.taxRate),this.quote.exchangeRate=Number(this.body.exchangeRate),this.quote.discount=Number(this.body.discount),this.quote.date=this.dateConversion(this.body.date),this.quote.paymentMethodId=this.body.paymentMethodId,await this.updateValues(),await this.retrievClientContacts(Number(this.body.clientId),!1),this.body.clientContact&&(this.clientContacts={label:this.body.clientContact.name,id:this.body.clientContact.id},this.clientEMAIL=this.body.clientContact.email);for(let e=0;e<this.body.quoteItems.length;e++)e+1!==this.body.quoteItems.length&&this.quote.items.push({itemId:null,qty:null,category:null,label:{label:"",itemId:null,category:null,description:""},unitPrice:null,amount:0}),this.quote.items[e].label={label:"",itemId:null,category:null,description:""},this.quote.items[e].label.itemId=this.body.quoteItems[e].itemId,this.quote.items[e].qty=Number(this.body.quoteItems[e].qty),this.quote.items[e].label.category=this.body.quoteItems[e].category,this.quote.items[e].label.label=this.body.quoteItems[e].name,this.quote.items[e].unitPrice=Number(this.body.quoteItems[e].unitPrice),this.quote.items[e].amount=this.quote.items[e].qty*this.quote.items[e].unitPrice,this.quote.items[e].description=this.body.quoteItems[e].description;this.quote.date=N.ZP.formatDate(new Date(this.body.date),"YYYY-MM-DD HH:mm"),this.quote.dueDate=N.ZP.formatDate(new Date(this.body.dueDate),"YYYY-MM-DD HH:mm"),await this.updateValues()}else this.quote.date=N.ZP.formatDate(new Date,"YYYY-MM-DD HH:mm"),this.quote.dueDate=N.ZP.formatDate(new Date,"YYYY-MM-DD HH:mm");this.isLoaded=!1}};var O=i(19214),H=i(10151),A=i(39570),F=i(13747),Y=i(2165),B=i(25589),G=i(63314),J=i(83414),K=i(52035),X=i(2350),ee=i(64689),te=i(30481),ie=i(69721),le=i(89989),oe=i(46778),ae=i(60677),se=i(7518),ne=i.n(se);$.render=j;const de=$;ne()($,"components",{QLayout:O.Z,QCard:H.Z,QToolbar:A.Z,QToolbarTitle:F.Z,QBtn:Y.Z,QCardSection:B.Z,QSelect:G.Z,QItem:J.Z,QItemSection:K.Z,QItemLabel:X.Z,QInput:ee.Z,QMarkupTable:te.Z,QBadge:ie.Z,QEditor:le.Z,QDialog:oe.Z}),ne()($,"directives",{ClosePopup:ae.Z})},14093:(e,t,i)=>{"use strict";i.d(t,{Z:()=>q});var l=i(83673),o=i(62323);const a={class:"flex items-center"},s=(0,l._)("p",{style:{padding:"0 !important","font-size":"1rem"}},"Rate: ",-1);function n(e,t,i,n,d,r){const c=(0,l.up)("q-toolbar-title"),u=(0,l.up)("q-btn"),m=(0,l.up)("q-toolbar"),p=(0,l.up)("q-input"),h=(0,l.up)("vue-tel-input"),g=(0,l.up)("q-rating"),b=(0,l.up)("q-card-section"),y=(0,l.up)("q-card"),v=(0,l.up)("q-layout"),f=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(v,{style:{width:"550px !important"}},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{style:{"max-width":"550px","min-height":"100vh"},flat:"",square:""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{class:"bg-grey-3 header-height-standard",style:{position:"sticky !important",top:"0","z-index":"15"}},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(i.actionType)+" Supplier ",1)])),_:1}),(0,l.wy)((0,l.Wm)(u,{icon:"close",flat:"",round:"",dense:""},null,512),[[f]])])),_:1}),(0,l.Wm)(b,{class:"q-gutter-md scroll"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{ref:"companyRef",outlined:"",modelValue:d.credentials.name,"onUpdate:modelValue":t[0]||(t[0]=e=>d.credentials.name=e),label:"Company","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type the company name"]},null,8,["modelValue","rules"]),(0,l.Wm)(p,{outlined:"",type:"email",modelValue:d.credentials.email,"onUpdate:modelValue":t[1]||(t[1]=e=>d.credentials.email=e),label:"E-mail"},null,8,["modelValue"]),(0,l.Wm)(h,{required:"",onCountryChanged:r.countryChange,class:"phone-input q-mt-sm",defaultCountry:"iq",customValidate:!1,onInput:r.phoneValidate,modelValue:d.phone,"onUpdate:modelValue":t[2]||(t[2]=e=>d.phone=e)},null,8,["onCountryChanged","onInput","modelValue"]),(0,l._)("div",a,[s,(0,l.Wm)(g,{modelValue:d.credentials.rate,"onUpdate:modelValue":t[3]||(t[3]=e=>d.credentials.rate=e),size:"2em",class:"q-mb-md q-ml-sm",max:5,color:"primary"},null,8,["modelValue"])]),(0,l.Wm)(p,{outlined:"",modelValue:d.credentials.website,"onUpdate:modelValue":t[4]||(t[4]=e=>d.credentials.website=e),label:"Website"},null,8,["modelValue"]),(0,l.Wm)(p,{outlined:"",modelValue:d.credentials.address,"onUpdate:modelValue":t[5]||(t[5]=e=>d.credentials.address=e),label:"Address"},null,8,["modelValue"]),(0,l.Wm)(p,{outlined:"",modelValue:d.credentials.zipCode,"onUpdate:modelValue":t[6]||(t[6]=e=>d.credentials.zipCode=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(m,{class:"bg-grey-3",style:{position:"sticky !important",bottom:"0","z-index":"5"}},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{loading:d.loading,onClick:r.submit,class:"full-width",color:"primary",label:"Submit","no-caps":""},null,8,["loading","onClick"])])),_:1})])),_:1})}var d=i(93617),r=i(49549);const c={props:["actionType","body"],data(){return{phone:"",dialCode:"",loading:!1,phoneNumbers:null,credentials:{name:"",email:"",website:"",address:"",zipCode:"",logo:null,rate:0}}},components:{VueTelInput:r.VueTelInput},methods:{...(0,d.nv)("financeStore",["createSupplier","updateSupplier","getClients","getOneClient"]),phoneValidate(e){isNaN(Number(e.data))&&(this.phone=this.phone.substring(0,this.phone.length-1))},valid(e,t){t.valid?document.querySelector(".vue-tel-input").removeAttribute("style"):document.querySelector(".vue-tel-input").setAttribute("style","border-color:#cc444b !important;")},countryChange(e){let t=0;this.dialCode="+"+e.dialCode,this.phone=this.phone.substring(this.dialCode.length,this.phone.length),0===t&&this.valid("",{valid:!0}),t+=1},async submit(){this.$refs.companyRef.validate(),this.$refs.companyRef.hasError||(this.loading=!0,"Add"===this.actionType?(await this.createSupplier({...this.credentials,phoneNumbers:this.dialCode+this.phone}),this.$q.notify({type:"positive",message:"Supplier created",color:"positive",position:"top",timeout:"500"})):(await this.updateSupplier({...this.credentials,phoneNumbers:this.dialCode+this.phone,id:Number(this.body.id)}),this.$q.notify({type:"positive",message:"Supplier updated",color:"positive",position:"top",timeout:"500"})),this.loading=!1,this.$emit("closeDialogue"))}},async mounted(){"Edit"===this.actionType&&(this.loading=!0,this.credentials.name=this.body.name,this.credentials.website=this.body.website,this.phone=this.body.phoneNumbers,this.credentials.email=this.body.email,this.credentials.website=this.body.website,this.credentials.address=this.body.address,this.credentials.zipCode=this.body.zipCode,this.credentials.rate=this.body.rate,this.loading=!1)}};var u=i(19214),m=i(10151),p=i(39570),h=i(13747),g=i(2165),b=i(25589),y=i(64689),v=i(98833),f=i(60677),w=i(7518),x=i.n(w);c.render=n;const q=c;x()(c,"components",{QLayout:u.Z,QCard:m.Z,QToolbar:p.Z,QToolbarTitle:h.Z,QBtn:g.Z,QCardSection:b.Z,QInput:y.Z,QRating:v.Z}),x()(c,"directives",{ClosePopup:f.Z})},9906:(e,t,i)=>{"use strict";i.d(t,{Z:()=>x});i(90246);var l=i(83673),o=i(62323);const a={class:"absolute-bottom q-pa-sm",style:{"z-index":"5"}};function s(e,t,i,s,n,d){const r=(0,l.up)("q-toolbar-title"),c=(0,l.up)("q-btn"),u=(0,l.up)("q-toolbar"),m=(0,l.up)("q-input"),p=(0,l.up)("q-editor"),h=(0,l.up)("q-card-section"),g=(0,l.up)("q-card"),b=(0,l.up)("q-layout"),y=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(b,{style:{width:"550px !important"}},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{style:{"max-width":"550px","min-height":"100vh"},flat:"",square:""},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"bg-grey-3 header-height-standard",style:{position:"sticky !important",top:"0","z-index":"15"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(i.actionType+" ")+"Tax ",1)])),_:1}),(0,l.wy)((0,l.Wm)(c,{icon:"close",flat:"",round:"",dense:""},null,512),[[y]])])),_:1}),(0,l.Wm)(h,{class:"q-gutter-md scroll"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{ref:"nameRef",outlined:"",modelValue:n.tax.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.tax.name=e),label:"Name","lazy-rules":"",rules:[e=>e&&e.length>0||"Please write the name"]},null,8,["modelValue","rules"]),(0,l.Wm)(p,{modelValue:n.tax.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.tax.description=e),dense:"",toolbar:[[{label:e.$q.lang.editor.align,icon:e.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],["print","fullscreen"],[{label:e.$q.lang.editor.formatting,icon:e.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:e.$q.lang.editor.fontSize,icon:e.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:e.$q.lang.editor.defaultFont,icon:e.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},null,8,["modelValue","toolbar"]),(0,l.Wm)(m,{outlined:"",modelValue:n.tax.type,"onUpdate:modelValue":t[2]||(t[2]=e=>n.tax.type=e),label:"Type"},null,8,["modelValue"]),(0,l.Wm)(m,{"bg-color":"white",class:"col-lg-3 col-md-4 col-sm-6 col-xs-12",mask:"#","fill-mask":"0","reverse-fill-mask":"","model-value":"Number",outlined:"",modelValue:n.tax.rate,"onUpdate:modelValue":t[3]||(t[3]=e=>n.tax.rate=e),label:"Rate%"},null,8,["modelValue"])])),_:1})])),_:1}),(0,l._)("div",a,[(0,l.Wm)(c,{loading:n.loading,onClick:d.submit,label:"Submit","no-caps":"",type:"reset",color:"primary",unelevated:"",class:"full-width"},null,8,["loading","onClick"])])])),_:1})}var n=i(30052),d=i.n(n);const r={props:["actionType","body"],data(){return{tax:{name:"",description:"Description",rate:null,type:""},loading:!1}},methods:{async submit(){this.$refs.nameRef.validate(),this.$refs.nameRef.hasError||(this.loading=!0,"Add"===this.actionType?await this.create():await this.update(),this.loading=!1,this.$emit("closeDialogue"))},async create(){let e=this.tax;e.rate=Number(e.rate)/100;await d().post("http://localhost:5050/api/v1/taxes/create",e,{headers:{Authorization:localStorage.getItem("accessToken")}});this.loading=!1,this.$q.notify({type:"positive",message:"Tax created",color:"positive",position:"top",timeout:"500"})},async update(){let e=this.tax;e.rate=Number(e.rate)/100,e.rate=Number(e.rate);await d().post("http://localhost:5050/api/v1/taxes/update",{...e,id:Number(this.body.id)},{headers:{Authorization:localStorage.getItem("accessToken")}});this.loading=!1,this.$q.notify({type:"positive",message:"Tax updated",color:"positive",position:"top",timeout:"500"})}},async mounted(){"Edit"===this.actionType&&(this.tax.name=this.body.name,this.tax.description=this.body.description,this.tax.type=this.body.type,this.tax.rate=100*Number(this.body.rate))}};var c=i(19214),u=i(10151),m=i(39570),p=i(13747),h=i(2165),g=i(25589),b=i(64689),y=i(89989),v=i(60677),f=i(7518),w=i.n(f);r.render=s,r.__scopeId="data-v-0311c0f2";const x=r;w()(r,"components",{QLayout:c.Z,QCard:u.Z,QToolbar:m.Z,QToolbarTitle:p.Z,QBtn:h.Z,QCardSection:g.Z,QInput:b.Z,QEditor:y.Z}),w()(r,"directives",{ClosePopup:v.Z})},36673:(e,t,i)=>{"use strict";i.d(t,{Z:()=>x});var l=i(83673),o=i(62323);function a(e,t,i,a,s,n){const d=(0,l.up)("q-toolbar-title"),r=(0,l.up)("q-btn"),c=(0,l.up)("q-toolbar"),u=(0,l.up)("q-input"),m=(0,l.up)("q-select"),p=(0,l.up)("q-checkbox"),h=(0,l.up)("q-card-section"),g=(0,l.up)("q-card"),b=(0,l.up)("q-layout"),y=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(b,{style:{width:"500px !important"}},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{style:{"max-width":"500px","min-height":"100vh"},flat:"",square:""},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"q-pa-md bg-grey-3",style:{position:"sticky !important",top:"0","z-index":"15",height:"63px !important"}},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(i.actionType)+" Employee ",1)])),_:1}),(0,l.wy)((0,l.Wm)(r,{icon:"close",flat:"",round:"",dense:""},null,512),[[y]])])),_:1}),(0,l.Wm)(h,{class:"q-gutter-sm scroll"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{ref:"nameRef",outlined:"",modelValue:s.credentials.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.credentials.name=e),label:"Name","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type the name"]},null,8,["modelValue","rules"]),"Add"===i.actionType?((0,l.wg)(),(0,l.j4)(u,{key:0,ref:"emailRef",outlined:"",modelValue:s.credentials.email,"onUpdate:modelValue":t[1]||(t[1]=e=>s.credentials.email=e),label:"Email","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type the Email"]},null,8,["modelValue","rules"])):(0,l.kq)("",!0),"Add"===i.actionType?((0,l.wg)(),(0,l.j4)(u,{key:1,ref:"usernameRef",outlined:"",modelValue:s.credentials.username,"onUpdate:modelValue":t[2]||(t[2]=e=>s.credentials.username=e),label:"Username","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type the username"]},null,8,["modelValue","rules"])):(0,l.kq)("",!0),"Add"===i.actionType?((0,l.wg)(),(0,l.j4)(u,{key:2,ref:"passwordRef",outlined:"",modelValue:s.credentials.password,"onUpdate:modelValue":t[3]||(t[3]=e=>s.credentials.password=e),label:"Password",type:"password","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type the password"]},null,8,["modelValue","rules"])):(0,l.kq)("",!0),"Add"===i.actionType?((0,l.wg)(),(0,l.j4)(u,{key:3,ref:"passwordMatchRef",outlined:"",modelValue:s.passwordMatch,"onUpdate:modelValue":t[4]||(t[4]=e=>s.passwordMatch=e),label:"Repeat Password",type:"password","lazy-rules":"",rules:[e=>e&&e.length>0&&s.passwordMatch===s.credentials.password||"Password Mismatch!"]},null,8,["modelValue","rules"])):(0,l.kq)("",!0),(0,l.Wm)(u,{ref:"salaryRef",outlined:"",modelValue:s.credentials.salary,"onUpdate:modelValue":t[5]||(t[5]=e=>s.credentials.salary=e),modelModifiers:{number:!0},label:"Salary",type:"number","lazy-rules":"",rules:[e=>e&&e>0||"Please type the salary"]},null,8,["modelValue","rules"]),(0,l.Wm)(u,{ref:"leaveBalanceRef",outlined:"",modelValue:s.credentials.leaveBalance,"onUpdate:modelValue":t[6]||(t[6]=e=>s.credentials.leaveBalance=e),modelModifiers:{number:!0},label:"Leave Balance (in days)",type:"number","lazy-rules":"",rules:[e=>e&&e>0||0===e||"Please type the leave balance"]},null,8,["modelValue","rules"]),(0,l.Wm)(u,{ref:"overtimeBalanceRef",outlined:"",modelValue:s.credentials.overtimeBalance,"onUpdate:modelValue":t[7]||(t[7]=e=>s.credentials.overtimeBalance=e),modelModifiers:{number:!0},label:"Overtime Balance (in hours)",type:"number","lazy-rules":"",rules:[e=>e&&e>=0||"Please type the overtime balance"]},null,8,["modelValue","rules"]),(0,l.Wm)(u,{ref:"workingHoursRef",outlined:"",modelValue:s.credentials.workingHours,"onUpdate:modelValue":t[8]||(t[8]=e=>s.credentials.workingHours=e),modelModifiers:{number:!0},label:"Working Hours (in hours - max 24)",type:"number","lazy-rules":"",rules:[e=>e&&e>=1||"Please type the working hours from 1 to 24 hours"]},null,8,["modelValue","rules"]),(0,l.Wm)(m,{modelValue:s.designation,"onUpdate:modelValue":t[9]||(t[9]=e=>s.designation=e),ref:"designationRef","no-caps":"",label:"Designation (position)",loading:s.designationLoading,outlined:"",options:s.designationOptions},null,8,["modelValue","loading","options"]),(0,l.Wm)(m,{modelValue:s.manager,"onUpdate:modelValue":t[10]||(t[10]=e=>s.manager=e),"no-caps":"",clearable:"",label:"Reports to (manager)",loading:s.managerLoading,outlined:"",options:s.managerOptions},null,8,["modelValue","loading","options"]),(0,l.Wm)(p,{ref:"hrMemberRef",outlined:"",modelValue:s.credentials.hrMember,"onUpdate:modelValue":t[11]||(t[11]=e=>s.credentials.hrMember=e),label:"HR Member"},null,8,["modelValue"]),(0,l.Wm)(p,{ref:"isManagerRef",outlined:"",modelValue:s.credentials.isManager,"onUpdate:modelValue":t[12]||(t[12]=e=>s.credentials.isManager=e),label:"Manager"},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(c,{class:"bg-grey-3 submitBtnClass",style:{position:"sticky !important",bottom:"0","z-index":"5"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{loading:s.loading,onClick:n.submit,class:"full-width",color:"primary",label:"Submit","no-caps":""},null,8,["loading","onClick"])])),_:1})])),_:1})}i(10071);var s=i(93617),n=i(49549);const d={components:{VueTelInput:n.VueTelInput},props:["actionType","body"],data(){return{show:!0,id:null,loading:!1,manager:null,designation:null,managerOptions:[],designationOptions:[],designationLoading:!1,managerLoading:!1,passwordMatch:null,credentials:{leaveBalance:0,overtimeBalance:0,workingHours:0,salary:0,managerId:null,name:null,hrMember:!1,isManager:!1,username:null,email:null,password:null,designationId:null}}},computed:{...(0,s.rn)("hrmStore",["designations","allEmployees"])},methods:{toggleShow(){this.show=!this.show},...(0,s.nv)("hrmStore",["getEmployees","createEmployee","updateEmployee","getDesignations"]),async submit(){if(this.$refs.nameRef.validate(),this.$refs.salaryRef.validate(),this.$refs.leaveBalanceRef.validate(),this.$refs.workingHoursRef.validate(),this.$refs.overtimeBalanceRef.validate(),this.$refs.designationRef.validate(),!("Add"===this.actionType&&(this.$refs.emailRef.validate(),this.$refs.usernameRef.validate(),this.$refs.passwordMatchRef.validate(),this.$refs.usernameRef.hasError||this.$refs.emailRef.hasError||this.$refs.passwordMatchRef.hasError))&&!(this.$refs.nameRef.hasError||this.$refs.salaryRef.hasError||this.$refs.leaveBalanceRef.hasError||this.$refs.workingHoursRef.hasError||this.$refs.overtimeBalanceRef.hasError||this.$refs.designationRef.hasError)){this.loading=!0;let e={name:this.credentials.name,designationId:Number(this.designation.id),leaveBalance:this.credentials.leaveBalance,overtimeBalance:this.credentials.overtimeBalance/8,workingHours:this.credentials.workingHours/8,salary:this.credentials.salary,managerId:this.credentials.managerId,hrMember:this.credentials.hrMember};"Add"===this.actionType&&(e["isManager"]=this.credentials.isManager,e["username"]=this.credentials.username,e["email"]=this.credentials.email,e["password"]=this.credentials.password),this.manager&&(e["managerId"]=Number(this.manager.id)),this.designation&&(e["designationId"]=Number(this.designation.id)),"Add"===this.actionType?(await this.createEmployee(e).catch((()=>{this.$q.notify({type:"negative",message:"something went wrong! creating employee failed",color:"negative",position:"top",timeout:"500"}),this.$emit("closeDialogue"),this.loading=!1})),this.$q.notify({type:"positive",message:"Employee created",color:"positive",position:"top",timeout:"500"})):(e["id"]=Number(this.id),console.log(e),await this.updateEmployee(e).catch((()=>{this.$q.notify({type:"negative",message:"something went wrong! updating employee failed",color:"negative",position:"top",timeout:"500"}),this.$emit("closeDialogue"),this.loading=!1})),this.$q.notify({type:"positive",message:"Employee updated",color:"positive",position:"top",timeout:"500"})),this.loading=!1,this.$emit("closeDialogue")}},getValuesFromApiAsync(e){return new Promise((async t=>{t(await e)}))}},async mounted(){var e;(this.show=!1,this.designationLoading=!0,this.getValuesFromApiAsync(this.getDesignations()).then((e=>{for(let i of this.designations)this.designationOptions.push({label:`${null===i||void 0===i?void 0:i.department.name} - ${i.name}`,id:i.id});var t;"Edit"===this.actionType&&(this.designation={label:`${null===(t=this.body.designation)||void 0===t?void 0:t.department.name} - ${this.body.designation.name}`,id:this.body.designation.id});this.designationLoading=!1})),this.managerLoading=!0,this.getValuesFromApiAsync(this.getEmployees()).then((e=>{for(let l of this.allEmployees)this.managerOptions.push({label:l.name,id:l.id});var t,i;"Edit"===this.actionType&&(this.manager={label:null===(t=this.body.manager)||void 0===t?void 0:t.name,id:null===(i=this.body.manager)||void 0===i?void 0:i.id});this.managerLoading=!1})),"Edit"===this.actionType)&&(console.log("body:    ",this.body),this.credentials.isManager=this.body.user&&"admin"===(null===(e=this.body.user)||void 0===e?void 0:e.userType),this.id=this.body.id,this.credentials.name=this.body.name,this.credentials.hrMember=1===this.body.hrMember||!1,this.credentials.salary=this.body.salary,this.credentials.leaveBalance=this.body.leaveBalance,this.credentials.overtimeBalance=this.body.overtimeBalance,this.credentials.workingHours=this.body.workingHours,this.credentials.email=this.body.user.email,this.credentials.username=this.body.user.username)}};var r=i(19214),c=i(10151),u=i(39570),m=i(13747),p=i(2165),h=i(25589),g=i(64689),b=i(63314),y=i(66271),v=i(60677),f=i(7518),w=i.n(f);d.render=a;const x=d;w()(d,"components",{QLayout:r.Z,QCard:c.Z,QToolbar:u.Z,QToolbarTitle:m.Z,QBtn:p.Z,QCardSection:h.Z,QInput:g.Z,QSelect:b.Z,QCheckbox:y.Z}),w()(d,"directives",{ClosePopup:v.Z})},42374:(e,t,i)=>{"use strict";i.d(t,{Z:()=>z});i(90246);var l=i(83673),o=i(62323),a=i(98880);const s=e=>((0,l.dD)("data-v-b1bf776c"),e=e(),(0,l.Cn)(),e),n={class:"col-xl-4 col-lg-4 col-md-4 col-sm-4 col-xs-12 q-pa-md"},d=s((()=>(0,l._)("div",{class:"q-ma-none absolute q-ml-sm text-grey-7",style:{"z-index":"10","font-size":"12px","line-height":"20px","font-weight":"400"}},"Projects date",-1))),r=s((()=>(0,l._)("div",{class:"q-ma-none absolute q-ml-sm text-grey-7",style:{"z-index":"10","font-size":"12px","line-height":"20px","font-weight":"400"}},"Project deadline",-1))),c={class:"flex items-center"},u=s((()=>(0,l._)("p",{style:{padding:"0 !important","font-size":"1rem"}},"Rate: ",-1)));function m(e,t,i,s,m,p){const h=(0,l.up)("q-toolbar-title"),g=(0,l.up)("q-btn"),b=(0,l.up)("q-toolbar"),y=(0,l.up)("q-input"),v=(0,l.up)("q-select"),f=(0,l.up)("q-uploader"),w=(0,l.up)("Datepicker"),x=(0,l.up)("q-editor"),q=(0,l.up)("q-rating"),C=(0,l.up)("q-card-section"),_=(0,l.up)("q-card"),V=(0,l.up)("q-layout"),k=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(V,{style:{width:"550px !important"}},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{style:{"max-width":"550px","min-height":"100vh"},flat:"",square:""},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{class:"bg-grey-3",style:{position:"sticky !important",top:"0","z-index":"15"}},{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(this.actionType+" ")+"Project ",1)])),_:1}),(0,l.wy)((0,l.Wm)(g,{icon:"close",flat:"",round:"",dense:""},null,512),[[k]])])),_:1}),(0,l.Wm)(C,{class:"q-gutter-md scroll"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{ref:"nameRef",rules:[e=>e&&e.length>0||"This field is required"],outlined:"",modelValue:m.project.name,"onUpdate:modelValue":t[0]||(t[0]=e=>m.project.name=e),label:"Name","lazy-rules":""},null,8,["rules","modelValue"]),(0,l.Wm)(v,{"bg-color":"white",outlined:"",ref:"clientRef",rules:[e=>null!==e||"This field is required"],modelValue:m.client,"onUpdate:modelValue":t[1]||(t[1]=e=>m.client=e),options:m.clientOptions,label:"Choose client",loading:m.isLoaded},null,8,["rules","modelValue","options","loading"]),(0,l.Wm)(v,{ref:"leaderRef",rules:[e=>e&&e.length>0||"This field is required"],"use-chips":"",outlined:"",modelValue:m.leaders,"onUpdate:modelValue":t[2]||(t[2]=e=>m.leaders=e),multiple:"",options:m.leaderOptions,counter:"",hint:"Leaders",label:"Choose leaders",loading:m.isLoaded},null,8,["rules","modelValue","options","loading"]),(0,l.Wm)(v,{ref:"memberRef",rules:[e=>e&&e.length>0||"This field is required"],"use-chips":"",outlined:"",modelValue:m.members,"onUpdate:modelValue":t[3]||(t[3]=e=>m.members=e),multiple:"",options:m.memberOptions,counter:"",hint:"Members",label:"Choose members",loading:m.isLoaded},null,8,["rules","modelValue","options","loading"]),(0,l.wy)((0,l._)("div",n,[(0,l.wy)((0,l.Wm)(f,{"max-files":"10","max-file-size":"1048576",class:"col-12 fit","max-total-size":"1048576",label:"Add Images",onRemoved:t[4]||(t[4]=e=>{p.saveFiles(e)}),"hide-upload-btn":"",onAdded:t[5]||(t[5]=e=>{p.saveFiles(e)}),multiple:!1},null,512),[[a.F8,"Add"===e.action]])],512),[[a.F8,"Add"===e.action]]),(0,l._)("div",null,[d,(0,l.Wm)(w,{modelValue:m.project.plannedStartDate,"onUpdate:modelValue":t[6]||(t[6]=e=>m.project.plannedStartDate=e),showNowButton:""},null,8,["modelValue"])]),(0,l._)("div",null,[r,(0,l.Wm)(w,{class:"q-mt-sm",modelValue:m.project.plannedEndDate,"onUpdate:modelValue":t[7]||(t[7]=e=>m.project.plannedEndDate=e),showNowButton:""},null,8,["modelValue"])]),(0,l.Wm)(x,{modelValue:m.project.description,"onUpdate:modelValue":t[8]||(t[8]=e=>m.project.description=e),dense:!0,toolbar:[[{label:e.$q.lang.editor.align,icon:e.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],["print","fullscreen"],[{label:e.$q.lang.editor.formatting,icon:e.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:e.$q.lang.editor.fontSize,icon:e.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:e.$q.lang.editor.defaultFont,icon:e.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},null,8,["modelValue","toolbar"]),(0,l.Wm)(v,{ref:"priorityRef",rules:[e=>e&&e.length>0||"This field is required"],outlined:"",modelValue:m.project.priority,"onUpdate:modelValue":t[9]||(t[9]=e=>m.project.priority=e),options:m.priorityOptions,hint:"Priority",label:"Priority"},null,8,["rules","modelValue","options"]),(0,l._)("div",c,[u,(0,l.Wm)(q,{modelValue:m.project.rate,"onUpdate:modelValue":t[10]||(t[10]=e=>m.project.rate=e),size:"2em",class:"q-mb-md q-ml-sm",max:5,color:"primary"},null,8,["modelValue"])])])),_:1})])),_:1}),(0,l.Wm)(b,{class:"bg-grey-3",style:{position:"sticky !important",bottom:"0","z-index":"5"}},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{loading:m.loading,onClick:p.submit,label:"Submit","no-caps":"",type:"reset",color:"primary",unelevated:"",class:"full-width"},null,8,["loading","onClick"])])),_:1})])),_:1})}var p=i(93617),h=i(25616),g=i(94789);const b={components:{Datepicker:g.Z},props:["actionType","body"],data(){return{isLoaded:!1,loading:!1,clientOptions:[],client:null,leaders:[],leaderOptions:[],priorityOptions:["High","Medium","Low"],members:[],memberOptions:[],files:null,project:{name:"",rate:0,priority:"Low",description:"Description",plannedStartDate:"",plannedEndDate:"",clientId:null,leaders:[],members:[]},id:null}},computed:{...(0,p.rn)("crmStore",["allClients"]),...(0,p.rn)("userStore",["users"])},methods:{...(0,p.nv)("projectStore",["addProject","editProject","getProjects","addFiles"]),...(0,p.nv)("crmStore",["getClients"]),...(0,p.nv)("userStore",["getUsers"]),saveFiles(e){this.file=e[0]},dateConversion(e){let t=new Date(e);return t.setHours(t.getHours()-3),h.ZP.formatDate(t,"YYYY-MM-DD HH:mm")},async submit(){if(this.$refs.leaderRef.validate(),this.$refs.memberRef.validate(),this.$refs.nameRef.validate(),this.$refs.priorityRef.validate(),this.$refs.clientRef.validate(),!(this.$refs.leaderRef.hasError||this.$refs.memberRef.hasError||this.$refs.nameRef.hasError||this.$refs.priorityRef.hasError||this.$refs.clientRef.hasError)){for(let e=0;e<this.leaders.length;e++)this.project.leaders.push(Number(this.leaders[e].id));for(let e=0;e<this.members.length;e++)this.project.members.push(Number(this.members[e].id));this.project.clientId=Number(this.client.id),this.project.plannedStartDate=h.ZP.formatDate(this.project.plannedStartDate,"YYYY-MM-DD HH:mm"),this.project.plannedEndDate=h.ZP.formatDate(this.project.plannedEndDate,"YYYY-MM-DD HH:mm"),this.loading=!0,"Add"===this.actionType?await this.create():await this.update(),this.loading=!1,this.$emit("closeDialogue")}},async create(){await this.addProject({data:this.project,files:this.files})},async update(){await this.editProject({data:{...this.project,id:Number(this.body.id)}})}},async mounted(){this.isLoaded=!0,await this.getClients(),await this.getUsers();for(let e=0;e<this.allClients.length;e++)"Blacklist"!==this.allClients[e].clientType&&this.clientOptions.push({label:this.allClients[e].name,id:this.allClients[e].id});for(let e=0;e<this.users.length;e++)this.memberOptions.push({label:this.users[e].name,id:this.users[e].id}),this.leaderOptions.push({label:this.users[e].name,id:this.users[e].id});if(this.isLoaded=!1,"Edit"===this.actionType){this.project.name=this.body.name,this.project.description=this.body.description,this.project.priority=this.body.priority,this.project.rate=this.body.rate,this.project.plannedStartDate=this.dateConversion(this.body.plannedStartDate),this.project.plannedEndDate=this.dateConversion(this.body.plannedEndDate),this.client={label:this.body.client.name,id:this.body.client.id};for(let e=0;e<this.body.memberUsers.length;e++)this.members.push({label:this.body.memberUsers[e].name,id:this.body.memberUsers[e].userId});for(let e=0;e<this.body.leaderUsers.length;e++)this.leaders.push({label:this.body.leaderUsers[e].name,id:this.body.leaderUsers[e].userId})}else this.project.plannedStartDate=h.ZP.formatDate(new Date,"YYYY-MM-DD HH:mm"),this.project.plannedEndDate=h.ZP.formatDate(new Date,"YYYY-MM-DD HH:mm")}};var y=i(19214),v=i(10151),f=i(39570),w=i(13747),x=i(2165),q=i(25589),C=i(64689),_=i(63314),V=i(568),k=i(89989),D=i(98833),I=i(60677),W=i(7518),S=i.n(W);b.render=m,b.__scopeId="data-v-b1bf776c";const z=b;S()(b,"components",{QLayout:y.Z,QCard:v.Z,QToolbar:f.Z,QToolbarTitle:w.Z,QBtn:x.Z,QCardSection:q.Z,QInput:C.Z,QSelect:_.Z,QUploader:V.Z,QEditor:k.Z,QRating:D.Z}),S()(b,"directives",{ClosePopup:I.Z})},45094:(e,t,i)=>{"use strict";i.d(t,{Z:()=>K});i(90246);var l=i(83673),o=i(62323);const a={class:"col-lg-12 col-md-12 row col-sm-12 col-xs-12"},s={class:"col-lg-4 col-md-4 col-sm-6 col-xs-12 column"},n=(0,l.Uk)("+3"),d={class:"col-lg-12 col-md-12 col-sm-12 col-xs-12 flex justify-strech row q-pb-md"},r={class:"col-lg-6 col-md-6 col-sm-6 col-xs-12 q-py-md column q-pr-md"},c={class:"col-lg-12 col-md-12 col-sm-12 col-xs-12 flex justify-strech row q-pb-md"},u=(0,l.Uk)(" No results "),m={class:"col-lg-12 col-md-12 col-sm-12 col-xs-12 flex justify-strech column q-py-md"},p=(0,l.Uk)(" No results "),h={class:"bg-secondary col-lg-6 col-md-6 col-sm-12 col-xs-12 column q-py-md q-px-md"},g={class:"row items-center justify-end"},b={class:"bg-secondary col-lg-6 col-md-6 col-sm-12 col-xs-12 column q-py-md q-px-md"},y={class:"row items-center justify-end"},v={class:"row full-width"};function f(e,t,i,f,w,x){const q=(0,l.up)("q-toolbar-title"),C=(0,l.up)("q-btn"),_=(0,l.up)("q-toolbar"),V=(0,l.up)("q-input"),k=(0,l.up)("q-icon"),D=(0,l.up)("q-item-label"),I=(0,l.up)("q-item"),W=(0,l.up)("q-card"),S=(0,l.up)("q-checkbox"),z=(0,l.up)("q-select"),T=(0,l.up)("q-img"),j=(0,l.up)("q-avatar"),Z=(0,l.up)("q-chip"),U=(0,l.up)("q-item-section"),L=(0,l.up)("q-badge"),P=(0,l.up)("q-date"),Q=(0,l.up)("q-popup-proxy"),N=(0,l.up)("q-editor"),M=(0,l.up)("q-card-section"),R=(0,l.up)("q-layout"),E=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(R,{style:{width:"80vw !important"}},{default:(0,l.w5)((()=>[(0,l.Wm)(W,{style:{"max-width":"80vw","min-height":"100vh"},flat:"",square:""},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{class:"q-pa-md bg-grey-3",style:{position:"sticky !important",top:"0","z-index":"15",height:"72px !important"}},{default:(0,l.w5)((()=>[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[(0,l.Uk)(" Add "+(0,o.zw)(i.stage[0].toUpperCase()+i.stage.substr(1,i.stage.length)),1)])),_:1}),(0,l.wy)((0,l.Wm)(C,{icon:"close",flat:"",round:"",dense:""},null,512),[[E]])])),_:1}),(0,l.Wm)(M,{class:"row flex justify-between"},{default:(0,l.w5)((()=>[(0,l._)("div",a,[(0,l._)("div",s,[(0,l.Wm)(V,{ref:"nameRef",rules:[e=>e&&e.length>0||"This field is required"],modelValue:w.post.name,"onUpdate:modelValue":t[0]||(t[0]=e=>w.post.name=e),label:"Name","lazy-rules":""},null,8,["rules","modelValue"])])]),(0,l.Wm)(W,{class:"col-lg-6 col-md-6 col-sm-12 col-xs-12 justify-center flex flex-center q-pa-lg"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(w.mediasView,(e=>((0,l.wg)(),(0,l.j4)(W,{key:e,class:"flex bordered column justify-center flex flex-center"},{default:(0,l.w5)((()=>["addNewMediaComponent"===e?((0,l.wg)(),(0,l.j4)(C,{key:0,clickable:"",onClick:t[1]||(t[1]=e=>x.addNewMediaComponent()),class:"bg-grey border col-12 q-ma-md q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{"flex-center":"",flex:"",column:"",class:"col-12 q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{name:"add_box",square:"","flex-center":"",style:{"font-size":"46px"},class:"text-white"})])),_:1})])),_:1})):((0,l.wg)(),(0,l.j4)(I,{key:1,class:"bg-grey col-12 q-pa-md q-ma-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{"flex-center":"",flex:"",column:""},{default:(0,l.w5)((()=>[(0,l.Wm)(I,{icon:"add",square:"","flex-center":"",style:{"font-size":"46px"},class:"text-white"},{default:(0,l.w5)((()=>[n])),_:1})])),_:1})])),_:1}))])),_:2},1024)))),128))])),_:1}),(0,l.Wm)(W,{class:"bg-secondary col-lg-6 col-md-6 col-sm-12 col-xs-12 flex row items-start inline q-pa-lg"},{default:(0,l.w5)((()=>{var i;return[(0,l._)("div",d,[(0,l.Wm)(S,{"use-chips":"",class:"col-lg-6 col-md-6 col-sm-12 col-xs-12",modelValue:w.post.mineApproved,"onUpdate:modelValue":t[2]||(t[2]=e=>w.post.mineApproved=e),label:"My Approval"},null,8,["modelValue"]),(0,l._)("div",r,[(0,l.Wm)(z,{ref:"priorityRef",modelValue:w.post.priority,"onUpdate:modelValue":t[3]||(t[3]=e=>w.post.priority=e),options:w.priorityOptions,label:"Priority",loading:w.UsersIsLoading},null,8,["modelValue","options","loading"])])]),(0,l._)("div",c,[(0,l.Wm)(z,{class:"col-lg-8 col-md-6 col-sm-12 col-xs-12",modelValue:w.client,"onUpdate:modelValue":t[4]||(t[4]=e=>w.client=e),"emit-value":"",rules:[e=>null!==e||"This field is required"],"map-options":"","lazy-rules":"","use-input":"",label:"Choose client",options:w.clientOptions,loading:w.clientIsLoading,onFilter:x.clientFilterFn,behavior:"menu",ref:"clientRef","use-chips":""},{"selected-item":(0,l.w5)((e=>[(0,l.Wm)(Z,{onRemove:t=>x.removeclientFromclients(e.opt.id),removable:"",tabindex:e.tabindex,dense:"",color:"white","text-color":"grey",class:"q-pa-sm q-ma-none"},{default:(0,l.w5)((()=>[e.opt.avatar?((0,l.wg)(),(0,l.j4)(j,{key:0,color:"grey","text-color":"white"},{default:(0,l.w5)((()=>[(0,l.Wm)(T,{src:e.opt.avatar},null,8,["src"])])),_:2},1024)):((0,l.wg)(),(0,l.j4)(j,{key:1,color:"grey",icon:"person","text-color":"white"})),(0,l.Uk)(" "+(0,o.zw)(e.opt.label),1)])),_:2},1032,["onRemove","tabindex"])])),option:(0,l.w5)((e=>[(0,l.Wm)(I,(0,o.vs)((0,l.F4)(e.itemProps)),{default:(0,l.w5)((()=>[e.opt.avatar?((0,l.wg)(),(0,l.j4)(j,{key:0,color:"grey","text-color":"white"},{default:(0,l.w5)((()=>[(0,l.Wm)(T,{src:e.opt.avatar},null,8,["src"])])),_:2},1024)):((0,l.wg)(),(0,l.j4)(j,{key:1,color:"grey",icon:"person","text-color":"white"})),(0,l.Wm)(U,{class:"q-mx-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(D,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.opt.label),1)])),_:2},1024),(0,l.Wm)(D,{caption:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.opt.description),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),"no-option":(0,l.w5)((()=>[(0,l.Wm)(I,null,{default:(0,l.w5)((()=>[(0,l.Wm)(U,{class:"text-grey"},{default:(0,l.w5)((()=>[u])),_:1})])),_:1})])),_:1},8,["modelValue","rules","options","loading","onFilter"]),(0,l.Wm)(S,{disable:!(null!==(i=w.client)&&void 0!==i&&i.id),"use-chips":"",class:"col-lg-4 col-md-6 col-sm-12 col-xs-12",modelValue:w.post.clientApproval,"onUpdate:modelValue":t[5]||(t[5]=e=>w.post.clientApproval=e),label:"Need Approval"},null,8,["disable","modelValue"])]),(0,l._)("div",m,[(0,l.Wm)(z,{class:"col-lg-6 col-md-6 col-sm-12 col-xs-12","emit-value":"","map-options":"","use-input":"",onFilter:x.userFilterFn,"use-chips":"",clearable:"",ref:"userRef",modelValue:w.usersSelect,"onUpdate:modelValue":t[6]||(t[6]=e=>w.usersSelect=e),multiple:"",options:w.userOptions,label:"Choose users",loading:w.UsersIsLoading},{"selected-item":(0,l.w5)((e=>[(0,l.Wm)(Z,{onRemove:t=>x.removeUserFromUserSelect(e.opt.id),removable:"",tabindex:e.tabindex,dense:"",color:"white","text-color":"grey",class:"q-pa-sm q-ma-none"},{default:(0,l.w5)((()=>[e.opt.avatar?((0,l.wg)(),(0,l.j4)(j,{key:0,color:"grey","text-color":"white"},{default:(0,l.w5)((()=>[(0,l.Wm)(T,{src:e.opt.avatar},null,8,["src"])])),_:2},1024)):((0,l.wg)(),(0,l.j4)(j,{key:1,color:"grey",icon:"person","text-color":"white"})),(0,l.Wm)(D,{class:"q-mx-sm"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.opt.label),1)])),_:2},1024),(0,l.Wm)(U,{side:""},{default:(0,l.w5)((()=>[e.opt.canEdit?((0,l.wg)(),(0,l.j4)(L,{key:0,class:"q-pa-xs",color:"success",label:"Can Edit"})):(0,l.kq)("",!0)])),_:2},1024)])),_:2},1032,["onRemove","tabindex"])])),option:(0,l.w5)((e=>[(0,l.Wm)(I,(0,l.dG)({disable:w.usersSelect.includes((t=>{t.id,e.opt.id}))},e.itemProps),{default:(0,l.w5)((()=>[e.opt.avatar?((0,l.wg)(),(0,l.j4)(j,{key:0,color:"grey","text-color":"white"},{default:(0,l.w5)((()=>[(0,l.Wm)(T,{src:e.opt.avatar},null,8,["src"])])),_:2},1024)):((0,l.wg)(),(0,l.j4)(j,{key:1,color:"grey",icon:"person","text-color":"white"})),(0,l.Wm)(U,{class:"q-mx-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(D,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.opt.label),1)])),_:2},1024),(0,l.Wm)(D,{caption:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.opt.description),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)(U,{side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(S,{"use-chips":"",modelValue:e.opt.canEdit,"onUpdate:modelValue":t=>e.opt.canEdit=t,dense:"",class:"col-lg-4 col-md-6 col-sm-12 col-xs-12",label:"Can Edit"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1040,["disable"])])),"no-option":(0,l.w5)((()=>[(0,l.Wm)(I,null,{default:(0,l.w5)((()=>[(0,l.Wm)(U,{class:"text-grey"},{default:(0,l.w5)((()=>[p])),_:1})])),_:1})])),_:1},8,["onFilter","modelValue","options","loading"])]),(0,l.Wm)(W,{flat:"",class:"col-12 row items-start bg-secondary q-py-md inline"},{default:(0,l.w5)((()=>[(0,l._)("div",h,[(0,l.Wm)(V,{ref:"post.plannedStartDate",label:"Plan Start At",modelValue:w.post.plannedStartDate,"onUpdate:modelValue":t[8]||(t[8]=e=>w.post.plannedStartDate=e),mask:"date",rules:["date"]},{append:(0,l.w5)((()=>[(0,l.Wm)(k,{name:"event",class:"cursor-pointer"},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{ref:"qDateProxy",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,l.w5)((()=>[(0,l.Wm)(P,{modelValue:w.post.plannedStartDate,"onUpdate:modelValue":t[7]||(t[7]=e=>w.post.plannedStartDate=e)},{default:(0,l.w5)((()=>[(0,l._)("div",g,[(0,l.wy)((0,l.Wm)(C,{label:"Close",color:"primary",flat:""},null,512),[[E]])])])),_:1},8,["modelValue"])])),_:1},512)])),_:1})])),_:1},8,["modelValue"])]),(0,l._)("div",b,[(0,l.Wm)(V,{ref:"plannedEndDateRef",label:"Deadline",modelValue:w.post.plannedEndDate,"onUpdate:modelValue":t[10]||(t[10]=e=>w.post.plannedEndDate=e),mask:"date",rules:["date"]},{append:(0,l.w5)((()=>[(0,l.Wm)(k,{name:"event",class:"cursor-pointer"},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{ref:"qDateProxy",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,l.w5)((()=>[(0,l.Wm)(P,{modelValue:w.post.plannedEndDate,"onUpdate:modelValue":t[9]||(t[9]=e=>w.post.plannedEndDate=e)},{default:(0,l.w5)((()=>[(0,l._)("div",y,[(0,l.wy)((0,l.Wm)(C,{label:"Close",color:"primary",flat:""},null,512),[[E]])])])),_:1},8,["modelValue"])])),_:1},512)])),_:1})])),_:1},8,["modelValue"])])])),_:1}),(0,l.Wm)(W,{bordered:"",class:"col-12 q-my-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(N,{dense:!0,toolbar:[[{label:e.$q.lang.editor.align,icon:e.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],["print","fullscreen"],[{label:e.$q.lang.editor.formatting,icon:e.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:e.$q.lang.editor.fontSize,icon:e.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:e.$q.lang.editor.defaultFont,icon:e.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"},modelValue:w.post.description,"onUpdate:modelValue":t[11]||(t[11]=e=>w.post.description=e),"max-height":"40px",class:"col-12"},null,8,["toolbar","modelValue"])])),_:1})]})),_:1})])),_:1})])),_:1}),(0,l.Wm)(_,{class:"bg-grey-3 col q-px-0 q-mx-0",style:{position:"sticky !important",bottom:"0","z-index":"5"}},{default:(0,l.w5)((()=>[(0,l._)("div",v,[(0,l.Wm)(C,{disable:w.DraftSubmitIsDisabled,loading:w.submitDraftIsLoading,onClick:t[12]||(t[12]=e=>x.submit("Draft")),label:"Save As Draft","no-caps":"",type:"reset",color:"primary",unelevated:"",class:"bg-warning text-white col-lg-6 col-md-6 col-sm-12 col-xs-12"},null,8,["disable","loading"]),(0,l.Wm)(C,{disable:w.DraftSubmitIsDisabled,loading:w.submitCompleteIsLoading,onClick:t[13]||(t[13]=e=>x.submit("Complete")),label:"Complete","no-caps":"",type:"reset",color:"primary",unelevated:"",class:"bg-primary text-white col-lg-6 col-md-6 col-sm-12 col-xs-12"},null,8,["disable","loading"])])])),_:1})])),_:1})}var w=i(93617),x=i(25616),q=i(61959);const C={style:{"min-width":"60%","min-height":"60%"},class:"bg-grey"};function _(e,t,i,o,a,s){return(0,l.wg)(),(0,l.iD)("div",C,"dwdedededed")}const V={data(){}};V.render=_;const k=V;var D=i(94789);const I={components:{Datepicker:D.Z,CreateMedia:k},props:["stage","submited"],data(){return{DraftSubmitIsDisabled:(0,q.iH)(!1),ProductionSubmitIsDisabled:(0,q.iH)(!1),ReviewSubmitIsDisabled:(0,q.iH)(!1),CompleteSubmitIsDisabled:(0,q.iH)(!1),mediasView:(0,q.iH)(["addNewMediaComponent"]),submitDraftIsLoading:(0,q.iH)(!1),submitProductionIsLoading:(0,q.iH)(!1),submitReviewIsLoading:(0,q.iH)(!1),submitCompleteIsLoading:(0,q.iH)(!1),clientIsLoading:!1,UsersIsLoading:!1,priorityOptions:["High","Middle","Low"],clientOptions:(0,q.iH)([]),client:(0,q.iH)(null),usersSelect:(0,q.iH)([]),userOptions:(0,q.iH)([]),files:null,post:{name:"",plannedStartDate:(0,q.iH)(""),plannedEndDate:(0,q.iH)(""),clientApproval:!1,mineApproved:!0,stage:this.stage,priority:"",description:"Description...",clientId:null,users:[]},id:null}},computed:{...(0,w.rn)("crmStore",["allClients"]),...(0,w.rn)("userStore",["users"])},methods:{...(0,w.nv)("userStore",["getUsers"]),...(0,w.nv)("crmStore",["getClients"]),...(0,w.nv)("socialMediaManagementStore",["createPost","getPosts"]),dateConversion(e){let t=new Date(e);return t.setHours(t.getHours()-3),x.ZP.formatDate(t,"YYYY-MM-DD HH:mm")},removeUserFromUserSelect(e){this.usersSelect=this.usersSelect.filter((t=>t.id!==e))},removeclientFromclients(e){this.client=null},addNewMediaComponent(){this.mediasView.push()},toggleOption(e){!1===e&&(e=!0),!0===e&&(e=!1)},clientFilterFn(e,t){t(""!==e?()=>{const t=e.toLowerCase();console.log(this.clientOptions[0]),this.clientOptions=this.clientOptions.filter((e=>e.label.toLowerCase().split(" ").find((e=>e.indexOf(t)>-1))))}:()=>{this.clientOptions=[];for(let e=0;e<this.allClients.length;e++)this.clientOptions.push({id:this.allClients[e].id,label:this.allClients[e].name,avatar:this.allClients[e].logo,description:this.allClients[e].email})})},userFilterFn(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.userOptions=this.userOptions.filter((e=>e.label.toLowerCase().split(" ").find((e=>e.indexOf(t)>-1)))),console.log(this.userOptions)}:()=>{this.userOptions=[];for(let e=0;e<this.users.length;e++)this.userOptions.push({id:this.users[e].id,label:this.users[e].name,avatar:this.users[e].avatar,canEdit:!1,description:this.users[e].username})})},async submit(e){this.$refs.nameRef.validate(),this.$refs.clientRef.validate(),this.$refs.plannedEndDateRef.validate(),this.$refs.nameRef.hasError||this.$refs.clientRef.hasError||this.$refs.plannedEndDateRef.hasError||(console.log(e),"Draft"===e?(this.submitDraftIsLoading=!0,this.ProductionSubmitIsDisabled=!0,this.ReviewSubmitIsDisabled=!0,this.CompleteSubmitIsDisabled=!0):"Production"===e?(this.submitProductionIsLoading=!0,this.DraftSubmitIsDisabled=!0,this.ReviewSubmitIsDisabled=!0,this.CompleteSubmitIsDisabled=!0):"Review"===e?(this.submitReviewIsLoading=!0,this.DraftSubmitIsDisabled=!0,this.ProductionSubmitIsDisabled=!0,this.CompleteSubmitIsDisabled=!0):"Complete"===e&&(this.submitCompleteIsLoading=!0,this.DraftSubmitIsDisabled=!0,this.ProductionSubmitIsDisabled=!0,this.ReviewSubmitIsDisabled=!0),this.post.mineApproved=this.post.mineApproved,this.post.clientApproval=this.clientApproval,this.usersSelect.length>0&&(console.log("useselect: ",this.usersSelect),this.post.users=this.usersSelect.map(id,(e=>({userId:id,canEdit:e})))),this.post.clientId=Number(this.client.id),this.post.plannedStartDate=x.ZP.formatDate(this.post.plannedStartDate,"YYYY-MM-DD HH:mm"),this.post.plannedEndDate=x.ZP.formatDate(this.post.plannedEndDate,"YYYY-MM-DD HH:mm"),"Draft"===e?(this.post.stage="draft",await this.create(),this.submitDraftIsLoading=!1,this.ProductionSubmitIsDisabled=!1,this.ReviewSubmitIsDisabled=!1,this.CompleteSubmitIsDisabled=!1):"Production"===e?(this.post.stage="production",await this.create(),this.submitProductionIsLoading=!1,this.DraftSubmitIsDisabled=!1,this.ReviewSubmitIsDisabled=!1,this.CompleteSubmitIsDisabled=!1):"Review"===e?(this.post.stage="review",await this.create(),this.submitReviewIsLoading=!1,this.DraftSubmitIsDisabled=!1,this.ProductionSubmitIsDisabled=!1,this.CompleteSubmitIsDisabled=!1):"Complete"===e&&(this.post.stage="complete",await this.create(),this.submitCompleteIsLoading=!1,this.DraftSubmitIsDisabled=!1,this.ProductionSubmitIsDisabled=!1,this.ReviewSubmitIsDisabled=!1),this.$emit("closeDialogue"))},async create(){const e=await this.createPost(this.post);console.log("Create finished: ",e)}},async mounted(){this.clientIsLoading=!0,this.getClients().then((()=>{for(let e=0;e<this.allClients.length;e++)"Blacklist"!==this.allClients[e].clientType&&this.clientOptions.push({id:this.allClients[e].id,label:this.allClients[e].name,avatar:this.allClients[e].logo,description:this.allClients[e].username});this.clientIsLoading=!1})),this.UsersIsLoading=!0,this.getUsers().then((()=>{for(let e=0;e<this.users.length;e++)this.userOptions.push({id:this.users[e].id,label:this.users[e].name,avatar:this.users[e].avatar,canEdit:!1,description:this.users[e].username});this.UsersIsLoading=!1})),this.post.schedule=x.ZP.formatDate(new Date,"YYYY-MM-DD HH:mm"),this.post.plannedStartDate=x.ZP.formatDate(new Date,"YYYY-MM-DD HH:mm"),this.post.plannedEndDate=x.ZP.formatDate(new Date,"YYYY-MM-DD HH:mm")}};var W=i(19214),S=i(10151),z=i(39570),T=i(13747),j=i(2165),Z=i(25589),U=i(64689),L=i(2350),P=i(24554),Q=i(83414),N=i(66271),M=i(63314),R=i(67030),E=i(75096),$=i(24027),O=i(52035),H=i(69721),A=i(83944),F=i(85626),Y=i(89989),B=i(60677),G=i(7518),J=i.n(G);I.render=f,I.__scopeId="data-v-1f354f20";const K=I;J()(I,"components",{QLayout:W.Z,QCard:S.Z,QToolbar:z.Z,QToolbarTitle:T.Z,QBtn:j.Z,QCardSection:Z.Z,QInput:U.Z,QItemLabel:L.Z,QIcon:P.Z,QItem:Q.Z,QCheckbox:N.Z,QSelect:M.Z,QChip:R.Z,QAvatar:E.Z,QImg:$.Z,QItemSection:O.Z,QBadge:H.Z,QPopupProxy:A.Z,QDate:F.Z,QEditor:Y.Z}),J()(I,"directives",{ClosePopup:B.Z})},9948:(e,t,i)=>{"use strict";i.d(t,{Z:()=>ze});i(90246);var l=i(83673),o=i(62323),a=i(93402),s=i.n(a);const n=e=>((0,l.dD)("data-v-22b45574"),e=e(),(0,l.Cn)(),e),d={class:"row items-center justify-between no-wrap"},r={class:"row items-center"},c={class:"row items-center"},u={class:"row items-center"},m={class:"row items-center justify-between no-wrap"},p={class:"row items-center"},h={class:"row items-center"},g={class:"row items-center"},b={class:"row items-center justify-between no-wrap"},y={class:"row items-center"},v={class:"row items-center"},f={class:"row items-center"},w=(0,l.Uk)("+3"),x={class:"col-12 flex row"},q={class:"col-12 text-h5 q-mt-sm q-mb-xs"},C={class:"col-12 text-h5 q-mt-sm q-mb-xs"},_=["innerHTML"],V={class:"col-6 text-overline text-orange-9"},k=n((()=>(0,l._)("b",null,"Author",-1))),D=["src"],I={key:1,src:s()},W={class:"col-6 text-overline text-orange-9"},S=n((()=>(0,l._)("b",null,"Client",-1))),z=["src"],T={key:1,src:s()},j=n((()=>(0,l._)("hr",null,null,-1))),Z={key:0,class:"text-h6"},U={key:1,class:"text-subtitle1 text-grey-5"},L={key:2,class:"row"},P=["src"],Q={key:1,round:"",src:s(),color:"grey"},N=(0,l.Uk)("Approved"),M=(0,l.Uk)(" busy"),R=(0,l.Uk)("view-only"),E={class:"col-lg-6 row flex"},$={key:0,class:"col-md-6 col-md-6 text-overline text-red-9"},O=n((()=>(0,l._)("b",null,"Deadline",-1))),H=(0,l.Uk)(),A={key:1,class:"col-md-6 col-md-6 text-overline text-yellow-9"},F=n((()=>(0,l._)("b",null,"Start At",-1))),Y=(0,l.Uk)(),B={key:2,class:"col-md-6 col-md-6 text-overline text-dark-9"},G=n((()=>(0,l._)("b",null,"Finished",-1))),J=(0,l.Uk)(),K={key:3,class:"col-md-6 col-md-6 text-overline text-green-9"},X=n((()=>(0,l._)("b",null,"Started",-1))),ee=(0,l.Uk)(),te={class:"col-md-6 col-md-6 text-overline text-grey-9"},ie={class:"col-md-6 col-md-6 text-overline text-grey-9"},le={class:"col-md-6 col-md-6 text-overline text-grey-9"};function oe(e,t,i,a,s,n){const oe=(0,l.up)("q-skeleton"),ae=(0,l.up)("q-item-section"),se=(0,l.up)("q-item-label"),ne=(0,l.up)("q-item"),de=(0,l.up)("q-icon"),re=(0,l.up)("q-card"),ce=(0,l.up)("q-card-section"),ue=(0,l.up)("q-avatar"),me=(0,l.up)("q-chip"),pe=(0,l.up)("q-badge"),he=(0,l.up)("q-btn"),ge=(0,l.up)("q-space"),be=(0,l.up)("q-card-actions"),ye=(0,l.up)("q-scroll-area"),ve=(0,l.up)("q-page"),fe=(0,l.up)("q-spinner");return s.loading?((0,l.wg)(),(0,l.j4)(ve,{key:1,class:"flex flex-center text-h4"},{default:(0,l.w5)((()=>[(0,l.Wm)(fe)])),_:1})):((0,l.wg)(),(0,l.j4)(ve,{key:0,class:"full-width justify-stretch column inline"},{default:(0,l.w5)((()=>[(0,l.Wm)(ye,{class:"col-12 items-start flex column"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.data,((t,i)=>((0,l.wg)(),(0,l.iD)("div",{key:i,class:"fit col-12 flex row justify-center"},[(0,l.Wm)(he,{clickable:"",bordered:"",class:"row flex col-xl-10 col-lg-10 col-md-10 col-sm-10 col-xs-10 bg-white q-my-md",to:"/social-media-management/post/"+t.id},{default:(0,l.w5)((()=>[(0,l.Wm)(ce,{class:"row flex justify-between col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12"},{default:(0,l.w5)((()=>[(0,l.Wm)(re,{flat:"",bordered:"",class:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12"},{default:(0,l.w5)((()=>[(0,l.Wm)(ne,null,{default:(0,l.w5)((()=>[(0,l.Wm)(ae,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(oe,{type:"QAvatar"})])),_:1}),(0,l.Wm)(ae,null,{default:(0,l.w5)((()=>[(0,l.Wm)(se,null,{default:(0,l.w5)((()=>[(0,l.Wm)(oe,{type:"text"})])),_:1}),(0,l.Wm)(se,{caption:""},{default:(0,l.w5)((()=>[(0,l.Wm)(oe,{type:"text",width:"80%"})])),_:1})])),_:1})])),_:1}),(0,l.Wm)(ne,null,{default:(0,l.w5)((()=>[(0,l.Wm)(ae,{avatar:""}),(0,l.Wm)(ae,{class:"q-pl-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(oe,{height:"150px",class:"q-mb-sm"}),(0,l._)("div",d,[(0,l._)("div",r,[(0,l.Wm)(de,{name:"chat_bubble_outline",color:"grey-4",class:"q-mr-sm",size:"18px"}),(0,l.Wm)(oe,{type:"text",width:"30px"})]),(0,l._)("div",c,[(0,l.Wm)(de,{name:"repeat",color:"grey-4",class:"q-mr-sm",size:"18px"}),(0,l.Wm)(oe,{type:"text",width:"30px"})]),(0,l._)("div",u,[(0,l.Wm)(de,{name:"favorite_border",color:"grey-4",class:"q-mr-sm",size:"18px"}),(0,l.Wm)(oe,{type:"text",width:"30px"})])])])),_:1})])),_:1})])),_:1}),(0,l.Wm)(re,{flat:"",bordered:"",class:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12"},{default:(0,l.w5)((()=>[(0,l.Wm)(ne,null,{default:(0,l.w5)((()=>[(0,l.Wm)(ae,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(oe,{type:"QAvatar"})])),_:1}),(0,l.Wm)(ae,null,{default:(0,l.w5)((()=>[(0,l.Wm)(se,null,{default:(0,l.w5)((()=>[(0,l.Wm)(oe,{type:"text"})])),_:1}),(0,l.Wm)(se,{caption:""},{default:(0,l.w5)((()=>[(0,l.Wm)(oe,{type:"text",width:"80%"})])),_:1})])),_:1})])),_:1}),(0,l.Wm)(ne,null,{default:(0,l.w5)((()=>[(0,l.Wm)(ae,{avatar:""}),(0,l.Wm)(ae,{class:"q-pl-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(oe,{height:"150px",class:"q-mb-sm"}),(0,l._)("div",m,[(0,l._)("div",p,[(0,l.Wm)(de,{name:"chat_bubble_outline",color:"grey-4",class:"q-mr-sm",size:"18px"}),(0,l.Wm)(oe,{type:"text",width:"30px"})]),(0,l._)("div",h,[(0,l.Wm)(de,{name:"repeat",color:"grey-4",class:"q-mr-sm",size:"18px"}),(0,l.Wm)(oe,{type:"text",width:"30px"})]),(0,l._)("div",g,[(0,l.Wm)(de,{name:"favorite_border",color:"grey-4",class:"q-mr-sm",size:"18px"}),(0,l.Wm)(oe,{type:"text",width:"30px"})])])])),_:1})])),_:1})])),_:1}),(0,l.Wm)(re,{flat:"",bordered:"",class:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12"},{default:(0,l.w5)((()=>[(0,l.Wm)(ne,null,{default:(0,l.w5)((()=>[(0,l.Wm)(ae,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(oe,{type:"QAvatar"})])),_:1}),(0,l.Wm)(ae,null,{default:(0,l.w5)((()=>[(0,l.Wm)(se,null,{default:(0,l.w5)((()=>[(0,l.Wm)(oe,{type:"text"})])),_:1}),(0,l.Wm)(se,{caption:""},{default:(0,l.w5)((()=>[(0,l.Wm)(oe,{type:"text",width:"80%"})])),_:1})])),_:1})])),_:1}),(0,l.Wm)(ne,null,{default:(0,l.w5)((()=>[(0,l.Wm)(ae,{avatar:""}),(0,l.Wm)(ae,{class:"q-pl-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(oe,{height:"150px",class:"q-mb-sm"}),(0,l._)("div",b,[(0,l._)("div",y,[(0,l.Wm)(de,{name:"chat_bubble_outline",color:"grey-4",class:"q-mr-sm",size:"18px"}),(0,l.Wm)(oe,{type:"text",width:"30px"})]),(0,l._)("div",v,[(0,l.Wm)(de,{name:"repeat",color:"grey-4",class:"q-mr-sm",size:"18px"}),(0,l.Wm)(oe,{type:"text",width:"30px"})]),(0,l._)("div",f,[(0,l.Wm)(de,{name:"favorite_border",color:"grey-4",class:"q-mr-sm",size:"18px"}),(0,l.Wm)(oe,{type:"text",width:"30px"})])])])),_:1})])),_:1})])),_:1}),(0,l.Wm)(re,{flat:"",bordered:"",class:"flex row flex-center q-pa-md col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12"},{default:(0,l.w5)((()=>[(0,l.Wm)(ne,{class:"bg-grey"},{default:(0,l.w5)((()=>[(0,l.Wm)(se,{"flex-center":"",flex:"",row:""},{default:(0,l.w5)((()=>[(0,l.Wm)(ne,{icon:"add",square:"","flex-center":"",style:{"font-size":"46px"},class:"text-white"},{default:(0,l.w5)((()=>[w])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,l.Wm)(ce,{class:"row flex justify-between col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12",flex:"",row:""},{default:(0,l.w5)((()=>{var i,a,s,n;return[(0,l._)("div",x,[(0,l._)("div",q,(0,o.zw)(t.name),1),(0,l._)("div",C,(0,o.zw)(t.title),1),(0,l._)("p",{class:"col-12 text-caption text-grey col-12",innerHTML:t.description},null,8,_),(0,l._)("div",V,[k,(0,l.Wm)(me,null,{default:(0,l.w5)((()=>{var e;return[(0,l.Wm)(ue,null,{default:(0,l.w5)((()=>{var e,i;return[null!==(e=t.creator)&&void 0!==e&&e.avatar?((0,l.wg)(),(0,l.iD)("img",{key:0,src:null===(i=t.creator)||void 0===i?void 0:i.avatar},null,8,D)):((0,l.wg)(),(0,l.iD)("img",I))]})),_:2},1024),(0,l.Uk)(" "+(0,o.zw)(null===(e=t.creator)||void 0===e?void 0:e.name),1)]})),_:2},1024)]),(0,l._)("div",W,[S,(0,l.Wm)(me,null,{default:(0,l.w5)((()=>{var e;return[(0,l.Wm)(ue,null,{default:(0,l.w5)((()=>{var e,i;return[null!==(e=t.client)&&void 0!==e&&e.logo?((0,l.wg)(),(0,l.iD)("img",{key:0,src:null===(i=t.client)||void 0===i?void 0:i.logo},null,8,z)):((0,l.wg)(),(0,l.iD)("img",T))]})),_:2},1024),(0,l.Uk)(" "+(0,o.zw)(null===(e=t.client)||void 0===e?void 0:e.name),1)]})),_:2},1024)])]),j,(0,l.Wm)(re,{class:"col-12 q-pa-md q-my-lg"},{default:(0,l.w5)((()=>[0!==t.socialMediaStudioUsers.length?((0,l.wg)(),(0,l.iD)("p",Z,"Assigned users")):(0,l.kq)("",!0),0===t.socialMediaStudioUsers.length?((0,l.wg)(),(0,l.iD)("p",U,"No users assigned.")):(0,l.kq)("",!0),0!==t.socialMediaStudioUsers.length?((0,l.wg)(),(0,l.iD)("div",L,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.socialMediaStudioUsers,((t,i)=>((0,l.wg)(),(0,l.j4)(me,{onRemove:i=>{e.memberId=t.userId,e.deleteMemberConfirm=!0},key:t.userId},{default:(0,l.w5)((()=>{var e;return[(0,l.Wm)(ue,null,{default:(0,l.w5)((()=>{var e,i;return[null!==(e=t.user)&&void 0!==e&&e.avatar?((0,l.wg)(),(0,l.iD)("img",{key:0,round:"",src:null===t||void 0===t||null===(i=t.user)||void 0===i?void 0:i.avatar,icon:"person",color:"grey"},null,8,P)):((0,l.wg)(),(0,l.iD)("img",Q))]})),_:2},1024),t.approved?((0,l.wg)(),(0,l.j4)(pe,{key:0,class:"q-mr-sm",color:"green"},{default:(0,l.w5)((()=>[N])),_:1})):((0,l.wg)(),(0,l.j4)(pe,{key:1,class:"q-mr-sm",color:"red"},{default:(0,l.w5)((()=>[M])),_:1})),t.canEdit?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(pe,{key:2,class:"q-mr-sm",disabled:"",color:"warning"},{default:(0,l.w5)((()=>[R])),_:1})),(0,l.Uk)(" "+(0,o.zw)(null===t||void 0===t||null===(e=t.user)||void 0===e?void 0:e.name),1)]})),_:2},1032,["onRemove"])))),128))])):(0,l.kq)("",!0)])),_:2},1024),(0,l._)("div",E,[t.plannedEndDate?((0,l.wg)(),(0,l.iD)("div",$,[O,H,(0,l.Wm)(pe,{square:"",color:"red",label:null===(i=t.plannedEndDate)||void 0===i?void 0:i.split("T")[0]},null,8,["label"])])):(0,l.kq)("",!0),t.plannedStartDate?((0,l.wg)(),(0,l.iD)("div",A,[F,Y,(0,l.Wm)(pe,{square:"",color:"orange",label:null===(a=t.plannedStartDate)||void 0===a?void 0:a.split("T")[0]},null,8,["label"])])):(0,l.kq)("",!0),t.actualdEndDate?((0,l.wg)(),(0,l.iD)("div",B,[G,J,(0,l.Wm)(pe,{square:"",color:"dark",label:null===(s=t.actualdEndDate)||void 0===s?void 0:s.split("T")[0]},null,8,["label"])])):(0,l.kq)("",!0),t.actualStartDate?((0,l.wg)(),(0,l.iD)("div",K,[X,ee,(0,l.Wm)(pe,{square:"",color:"green",label:null===(n=t.actualStartDate)||void 0===n?void 0:n.split("T")[0]},null,8,["label"])])):(0,l.kq)("",!0),(0,l._)("div",te,"clientApproval "+(0,o.zw)(t.clientApproval?"Needs approval":"No need for approval"),1),(0,l._)("div",ie,"priority "+(0,o.zw)(t.priority),1),(0,l._)("div",le,"createdBy "+(0,o.zw)(t.createdBy),1)])]})),_:2},1024),(0,l.Wm)(be,{class:"col-12 justify-start"},{default:(0,l.w5)((()=>[(0,l.Wm)(he,{flat:"",color:"primary",label:"Move to Production"}),(0,l.Wm)(he,{flat:"",color:"warning",label:"Edit"}),(0,l.Wm)(he,{flat:"",color:"red",label:"Delete"}),(0,l.Wm)(ge)])),_:1})])),_:2},1032,["to"])])))),128))])),_:1})])),_:1}))}var ae=i(61959),se=i(93617);const ne={data(){return{loading:(0,ae.iH)(!1),dialogue:!1,id:"",stageUpCase:this.stage[0].toUpperCase()+this.stage.substr(1,this.stage.length),body:null,options:[],data:[]}},components:{},props:["stage"],computed:{...(0,se.rn)("socialMediaManagementStore",["allPosts","drafts","productions","reviews","completeds","rejecteds"]),...(0,se.rn)("userStore",["users"])},methods:{...(0,se.nv)("socialMediaManagementStore",["getPosts","getDrafts","getProductions","getReviews","getCompleteds","getRejecteds","deletePost"]),...(0,se.nv)("userStore",["getUsers"]),initiateData(e){this.data=e}},async mounted(){let e=this.stage;switch(this.loading=!0,console.log("stagename: ",e),e){case"allPosts":await this.getPosts(),await this.initiateData(this.allPosts),console.log("state fetched from posts:",this.data);break;case"drafts":await this.getDrafts(),await this.initiateData(this.drafts),console.log("state fetched from drafts:",this.data);break;case"productions":await this.getProductions(),await this.initiateData(this.productions),console.log("state fetched from productions:",this.data);break;case"reviews":await this.getReviews(),await this.initiateData(this.reviews),console.log("state fetched from reviews:",this.data);break;case"completeds":await this.getCompleteds(),await this.initiateData(this.completeds),console.log("state fetched from completeds:",this.data);break;case"rejecteds":await this.getRejecteds(),await this.initiateData(this.rejecteds),console.log("state fetched from rejecteds:",this.data);break;default:break}this.loading=!1}};var de=i(24379),re=i(47704),ce=i(2165),ue=i(25589),me=i(10151),pe=i(83414),he=i(52035),ge=i(54103),be=i(2350),ye=i(24554),ve=i(67030),fe=i(75096),we=i(69721),xe=i(99367),qe=i(62025),Ce=i(20811),_e=i(27011),Ve=i(65869),ke=i(46778),De=i(6833),Ie=i(60677),We=i(7518),Se=i.n(We);ne.render=oe,ne.__scopeId="data-v-22b45574";const ze=ne;Se()(ne,"components",{QPage:de.Z,QScrollArea:re.Z,QBtn:ce.Z,QCardSection:ue.Z,QCard:me.Z,QItem:pe.Z,QItemSection:he.Z,QSkeleton:ge.ZP,QItemLabel:be.Z,QIcon:ye.Z,QChip:ve.Z,QAvatar:fe.Z,QBadge:we.Z,QCardActions:xe.Z,QSpace:qe.Z,QMenu:Ce.Z,QList:_e.Z,QSeparator:Ve.Z,QDialog:ke.Z,QSpinner:De.Z}),Se()(ne,"directives",{ClosePopup:Ie.Z})},46700:(e,t,i)=>{var l={"./af":5809,"./af.js":5809,"./ar":46069,"./ar-dz":70481,"./ar-dz.js":70481,"./ar-kw":93994,"./ar-kw.js":93994,"./ar-ly":33312,"./ar-ly.js":33312,"./ar-ma":90239,"./ar-ma.js":90239,"./ar-sa":31863,"./ar-sa.js":31863,"./ar-tn":19607,"./ar-tn.js":19607,"./ar.js":46069,"./az":69281,"./az.js":69281,"./be":29945,"./be.js":29945,"./bg":59384,"./bg.js":59384,"./bm":21476,"./bm.js":21476,"./bn":43345,"./bn-bd":70216,"./bn-bd.js":70216,"./bn.js":43345,"./bo":81713,"./bo.js":81713,"./br":19655,"./br.js":19655,"./bs":87296,"./bs.js":87296,"./ca":43049,"./ca.js":43049,"./cs":62722,"./cs.js":62722,"./cv":98039,"./cv.js":98039,"./cy":95563,"./cy.js":95563,"./da":31960,"./da.js":31960,"./de":67533,"./de-at":76674,"./de-at.js":76674,"./de-ch":17732,"./de-ch.js":17732,"./de.js":67533,"./dv":78343,"./dv.js":78343,"./el":37004,"./el.js":37004,"./en-au":32517,"./en-au.js":32517,"./en-ca":84929,"./en-ca.js":84929,"./en-gb":99722,"./en-gb.js":99722,"./en-ie":96923,"./en-ie.js":96923,"./en-il":68050,"./en-il.js":68050,"./en-in":99624,"./en-in.js":99624,"./en-nz":70540,"./en-nz.js":70540,"./en-sg":14375,"./en-sg.js":14375,"./eo":10040,"./eo.js":10040,"./es":99720,"./es-do":25595,"./es-do.js":25595,"./es-mx":10180,"./es-mx.js":10180,"./es-us":61563,"./es-us.js":61563,"./es.js":99720,"./et":9217,"./et.js":9217,"./eu":39474,"./eu.js":39474,"./fa":85243,"./fa.js":85243,"./fi":57645,"./fi.js":57645,"./fil":55350,"./fil.js":55350,"./fo":75622,"./fo.js":75622,"./fr":91467,"./fr-ca":53439,"./fr-ca.js":53439,"./fr-ch":14335,"./fr-ch.js":14335,"./fr.js":91467,"./fy":86026,"./fy.js":86026,"./ga":32969,"./ga.js":32969,"./gd":21347,"./gd.js":21347,"./gl":11085,"./gl.js":11085,"./gom-deva":904,"./gom-deva.js":904,"./gom-latn":69597,"./gom-latn.js":69597,"./gu":28705,"./gu.js":28705,"./he":69128,"./he.js":69128,"./hi":92821,"./hi.js":92821,"./hr":9002,"./hr.js":9002,"./hu":94814,"./hu.js":94814,"./hy-am":30658,"./hy-am.js":30658,"./id":29344,"./id.js":29344,"./is":28204,"./is.js":28204,"./it":70376,"./it-ch":81549,"./it-ch.js":81549,"./it.js":70376,"./ja":69293,"./ja.js":69293,"./jv":96401,"./jv.js":96401,"./ka":60482,"./ka.js":60482,"./kk":87329,"./kk.js":87329,"./km":44241,"./km.js":44241,"./kn":23566,"./kn.js":23566,"./ko":52742,"./ko.js":52742,"./ku":92915,"./ku.js":92915,"./ky":86846,"./ky.js":86846,"./lb":44959,"./lb.js":44959,"./lo":82188,"./lo.js":82188,"./lt":58967,"./lt.js":58967,"./lv":41245,"./lv.js":41245,"./me":90751,"./me.js":90751,"./mi":57501,"./mi.js":57501,"./mk":11643,"./mk.js":11643,"./ml":15597,"./ml.js":15597,"./mn":67612,"./mn.js":67612,"./mr":19065,"./mr.js":19065,"./ms":84703,"./ms-my":84645,"./ms-my.js":84645,"./ms.js":84703,"./mt":64365,"./mt.js":64365,"./my":83788,"./my.js":83788,"./nb":57357,"./nb.js":57357,"./ne":99109,"./ne.js":99109,"./nl":63746,"./nl-be":31985,"./nl-be.js":31985,"./nl.js":63746,"./nn":27175,"./nn.js":27175,"./oc-lnc":70566,"./oc-lnc.js":70566,"./pa-in":32733,"./pa-in.js":32733,"./pl":182,"./pl.js":182,"./pt":505,"./pt-br":17839,"./pt-br.js":17839,"./pt.js":505,"./ro":39578,"./ro.js":39578,"./ru":32328,"./ru.js":32328,"./sd":641,"./sd.js":641,"./se":51758,"./se.js":51758,"./si":36680,"./si.js":36680,"./sk":25016,"./sk.js":25016,"./sl":7424,"./sl.js":7424,"./sq":88635,"./sq.js":88635,"./sr":49038,"./sr-cyrl":73716,"./sr-cyrl.js":73716,"./sr.js":49038,"./ss":64771,"./ss.js":64771,"./sv":3517,"./sv.js":3517,"./sw":39419,"./sw.js":39419,"./ta":55959,"./ta.js":55959,"./te":21739,"./te.js":21739,"./tet":22264,"./tet.js":22264,"./tg":94792,"./tg.js":94792,"./th":88328,"./th.js":88328,"./tk":60702,"./tk.js":60702,"./tl-ph":57814,"./tl-ph.js":57814,"./tlh":10797,"./tlh.js":10797,"./tr":16691,"./tr.js":16691,"./tzl":76891,"./tzl.js":76891,"./tzm":16362,"./tzm-latn":37855,"./tzm-latn.js":37855,"./tzm.js":16362,"./ug-cn":77606,"./ug-cn.js":77606,"./uk":30513,"./uk.js":30513,"./ur":43803,"./ur.js":43803,"./uz":60344,"./uz-latn":8957,"./uz-latn.js":8957,"./uz.js":60344,"./vi":70003,"./vi.js":70003,"./x-pseudo":8842,"./x-pseudo.js":8842,"./yo":62083,"./yo.js":62083,"./zh-cn":84536,"./zh-cn.js":84536,"./zh-hk":92475,"./zh-hk.js":92475,"./zh-mo":67593,"./zh-mo.js":67593,"./zh-tw":4746,"./zh-tw.js":4746};function o(e){var t=a(e);return i(t)}function a(e){if(!i.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}o.keys=function(){return Object.keys(l)},o.resolve=a,e.exports=o,o.id=46700},93402:(e,t,i)=>{e.exports=i.p+"img/one_logo_neat.391c3929.png"}}]);