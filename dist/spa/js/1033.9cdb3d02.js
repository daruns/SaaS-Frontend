"use strict";(self["webpackChunkoc_front_end"]=self["webpackChunkoc_front_end"]||[]).push([[1033],{11033:(e,t,o)=>{o.r(t),o.d(t,{default:()=>ae});var n=o(83673);const l={class:"flex justify-between items-center"},a=(0,n._)("p",{class:"text-h4"},"Product & services",-1);function i(e,t,o,i,s,r){const p=(0,n.up)("breadcrumps"),m=(0,n.up)("q-btn"),d=(0,n.up)("q-tab"),c=(0,n.up)("q-tabs"),u=(0,n.up)("itemtbl"),w=(0,n.up)("q-tab-panel"),f=(0,n.up)("nitemtbl"),b=(0,n.up)("sitemtbl"),g=(0,n.up)("q-tab-panels"),y=(0,n.up)("select-new-item-category"),W=(0,n.up)("q-dialog"),v=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(v,{class:"q-pa-md"},{default:(0,n.w5)((()=>[(0,n._)("div",l,[(0,n._)("div",null,[a,(0,n.Wm)(p,{map:i.crumps},null,8,["map"])]),(0,n.Wm)(m,{onClick:t[0]||(t[0]=e=>s.dialogSelectNewItemCat=!0),color:"primary",label:"Create Record",unelevated:"",rounded:"","no-caps":""})]),(0,n.Wm)(c,{modelValue:i.tab,"onUpdate:modelValue":t[1]||(t[1]=e=>i.tab=e),dense:"",class:"text-grey bg-white rounded-borders bordered q-mt-md","active-color":"primary","indicator-color":"primary",align:"justify"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{"no-caps":"",name:"inventory item",label:"Inventory items"}),(0,n.Wm)(d,{"no-caps":"",name:"non-inventory item",label:"Non-inventory items"}),(0,n.Wm)(d,{"no-caps":"",name:"service",label:"Services"})])),_:1},8,["modelValue"]),(0,n.Wm)(g,{class:"bg-secondary",modelValue:i.tab,"onUpdate:modelValue":t[2]||(t[2]=e=>i.tab=e),animated:""},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{name:"inventory item",class:"q-pa-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(u)])),_:1}),(0,n.Wm)(w,{name:"non-inventory item",class:"q-pa-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(f)])),_:1}),(0,n.Wm)(w,{class:"bg-secondary",name:"service"},{default:(0,n.w5)((()=>[(0,n.Wm)(b)])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(W,{seamless:"",position:"right",modelValue:s.dialogSelectNewItemCat,"onUpdate:modelValue":t[4]||(t[4]=e=>s.dialogSelectNewItemCat=e),persistent:""},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{onCloseDialogue:t[3]||(t[3]=e=>s.dialogSelectNewItemCat=!1)})])),_:1},8,["modelValue"])])),_:1})}var s=o(61959),r=(o(90246),o(62323));const p={style:{"font-size":"15px",margin:"0 !important"}};function m(e,t,o,l,a,i){const s=(0,n.up)("q-td"),m=(0,n.up)("q-icon"),d=(0,n.up)("q-item-section"),c=(0,n.up)("q-item"),u=(0,n.up)("q-separator"),w=(0,n.up)("q-list"),f=(0,n.up)("q-menu"),b=(0,n.up)("q-btn"),g=(0,n.up)("q-tr"),y=(0,n.up)("q-table"),W=(0,n.up)("modal"),v=(0,n.up)("q-dialog"),k=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(y,{rows:e.inventoryItems,columns:a.columns,"row-key":"id",loading:a.loading,flat:"",class:"bg-secondary q-pt-md"},{body:(0,n.w5)((t=>[(0,n.Wm)(g,{class:(0,r.C_)(t.rowIndex%2!==0&&"bg-white"),props:t},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{key:"name",props:t},{default:(0,n.w5)((()=>[(0,n._)("p",p,(0,r.zw)(t.row.name),1)])),_:2},1032,["props"]),(0,n.Wm)(s,{key:"description",innerHTML:t.row.description,props:t},null,8,["innerHTML","props"]),(0,n.Wm)(s,{key:"unitPrice",props:t},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(t.row.unitPrice),1)])),_:2},1032,["props"]),(0,n.Wm)(s,{key:"qty",props:t},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(t.row.qty),1)])),_:2},1032,["props"]),(0,n.Wm)(s,{key:"purchasedAt",props:t},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(i.dateConversion(t.row.purchasedAt)),1)])),_:2},1032,["props"]),(0,n.Wm)(s,{key:"expireDate",props:t},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(i.dateConversion(t.row.expireDate)),1)])),_:2},1032,["props"]),(0,n.Wm)(s,{key:"supplier",props:t},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(t.row.supplier),1)])),_:2},1032,["props"]),(0,n.Wm)(s,{key:"actions",props:t},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{dense:"",round:"",flat:"",icon:"more_vert"},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{"transition-show":"scale","transition-hide":"scale"},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{style:{"min-width":"75px"}},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(c,{onClick:o=>e.delItem(t.row.id),style:{},clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{class:"flex flex-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{name:"delete",color:"negative",size:"xs"})])),_:1})])),_:2},1032,["onClick"]),[[k]]),(0,n.Wm)(u),(0,n.wy)((0,n.Wm)(c,{onClick:e=>i.edit(t.row),clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{class:"flex flex-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{name:"edit",color:"warning",size:"xs"})])),_:1})])),_:2},1032,["onClick"]),[[k]])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:2},1032,["class","props"])])),_:1},8,["rows","columns","loading"]),(0,n.Wm)(v,{seamless:"",position:"right",modelValue:a.prompt,"onUpdate:modelValue":t[1]||(t[1]=e=>a.prompt=e),persistent:""},{default:(0,n.w5)((()=>[(0,n.Wm)(W,{onCloseDialogue:t[0]||(t[0]=e=>a.prompt=!1),action:a.action,body:a.body},null,8,["action","body"])])),_:1},8,["modelValue"])])}var d=o(93617),c=o(25616),u=o(85720);const w={data(){return{prompt:!1,loading:!1,action:"",body:{},columns:[{name:"name",align:"left",label:"Name",field:"name"},{name:"description",align:"left",label:"Description",field:"description"},{name:"unitPrice",label:"Unit price",align:"left",field:"unitPrice"},{name:"qty",align:"left",label:"Quantity",field:"qty"},{name:"purchasedAt",align:"left",label:"Purchased at",field:"purchasedAt"},{name:"expireDate",align:"left",label:"Expire date",field:"expireDate"},{name:"supplier",align:"left",label:"Supplier",field:"supplier"},{name:"actions",align:"left",label:"Actions",field:"actions"}]}},components:{modal:u.Z},computed:{...(0,d.rn)("accountingStore",["inventoryItems"])},methods:{...(0,d.nv)("accountingStore",["getInventoryItems","delItem"]),rowColor(e){if(e.rowIndex%2!==0)return"background: #fff;"},dateConversion(e){let t=new Date(e);return t.setHours(t.getHours()-3),c.ZP.formatDate(t,"YYYY-MM-DD HH:mm")},edit(e){this.body=e,this.action="Edit",this.prompt=!0}},async mounted(){await this.getInventoryItems()}};var f=o(57678),b=o(18186),g=o(83884),y=o(2165),W=o(20811),v=o(27011),k=o(83414),_=o(52035),q=o(24554),h=o(65869),S=o(46778),Z=o(60677),I=o(7518),C=o.n(I);w.render=m;const x=w;C()(w,"components",{QTable:f.Z,QTr:b.Z,QTd:g.Z,QBtn:y.Z,QMenu:W.Z,QList:v.Z,QItem:k.Z,QItemSection:_.Z,QIcon:q.Z,QSeparator:h.Z,QDialog:S.Z}),C()(w,"directives",{ClosePopup:Z.Z});const Q={style:{"font-size":"15px",margin:"0 !important"}};function D(e,t,o,l,a,i){const s=(0,n.up)("q-td"),p=(0,n.up)("q-icon"),m=(0,n.up)("q-item-section"),d=(0,n.up)("q-item"),c=(0,n.up)("q-separator"),u=(0,n.up)("q-list"),w=(0,n.up)("q-menu"),f=(0,n.up)("q-btn"),b=(0,n.up)("q-tr"),g=(0,n.up)("q-table"),y=(0,n.up)("modal"),W=(0,n.up)("q-dialog"),v=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(g,{rows:e.nonInventoryItems,columns:a.columns,"row-key":"id",loading:a.loading,flat:"",class:"bg-secondary q-pt-md"},{body:(0,n.w5)((t=>[(0,n.Wm)(b,{class:(0,r.C_)(t.rowIndex%2!==0&&"bg-white"),props:t},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{key:"name",props:t},{default:(0,n.w5)((()=>[(0,n._)("p",Q,(0,r.zw)(t.row.name),1)])),_:2},1032,["props"]),(0,n.Wm)(s,{key:"description",innerHTML:t.row.description,props:t},null,8,["innerHTML","props"]),(0,n.Wm)(s,{key:"unitPrice",props:t},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(t.row.unitPrice),1)])),_:2},1032,["props"]),(0,n.Wm)(s,{key:"supplier",props:t},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(t.row.supplier),1)])),_:2},1032,["props"]),(0,n.Wm)(s,{key:"actions",props:t},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{dense:"",round:"",flat:"",icon:"more_vert"},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{"transition-show":"scale","transition-hide":"scale"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{style:{"min-width":"75px"}},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(d,{onClick:o=>e.delNItem(t.row.id),style:{},clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{class:"flex flex-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{name:"delete",color:"negative",size:"xs"})])),_:1})])),_:2},1032,["onClick"]),[[v]]),(0,n.Wm)(c),(0,n.wy)((0,n.Wm)(d,{onClick:e=>i.edit(t.row),clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{class:"flex flex-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{name:"edit",color:"warning",size:"xs"})])),_:1})])),_:2},1032,["onClick"]),[[v]])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:2},1032,["class","props"])])),_:1},8,["rows","columns","loading"]),(0,n.Wm)(W,{seamless:"",position:"right",modelValue:a.prompt,"onUpdate:modelValue":t[1]||(t[1]=e=>a.prompt=e),persistent:""},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{onCloseDialogue:t[0]||(t[0]=e=>a.prompt=!1),action:a.action,body:a.body},null,8,["action","body"])])),_:1},8,["modelValue"])])}var z=o(2545);const P={data(){return{prompt:!1,loading:!1,action:"",body:{},columns:[{name:"name",align:"left",label:"Name",field:"name"},{name:"description",align:"left",label:"Description",field:"description"},{name:"unitPrice",label:"Unit price",align:"left",field:"unitPrice"},{name:"supplier",align:"left",label:"Supplier",field:"supplier"},{name:"actions",align:"left",label:"Actions",field:"actions"}]}},components:{modal:z.Z},computed:{...(0,d.rn)("accountingStore",["nonInventoryItems"])},methods:{...(0,d.nv)("accountingStore",["getNonInventoryItems","delNItem"]),rowColor(e){if(e.rowIndex%2!==0)return"background: #fff;"},dateConversion(e){let t=new Date(e);return t.setHours(t.getHours()-3),c.ZP.formatDate(t,"YYYY-MM-DD HH:mm")},edit(e){this.body=e,this.action="Edit",this.prompt=!0}},async mounted(){await this.getNonInventoryItems()}};P.render=D;const V=P;C()(P,"components",{QTable:f.Z,QTr:b.Z,QTd:g.Z,QBtn:y.Z,QMenu:W.Z,QList:v.Z,QItem:k.Z,QItemSection:_.Z,QIcon:q.Z,QSeparator:h.Z,QDialog:S.Z}),C()(P,"directives",{ClosePopup:Z.Z});var U=o(98880);const T={style:{"font-size":"15px",margin:"0 !important"}},H={class:"flex"},N={key:0,class:"text-h6"},L={key:0},M={key:0},Y=["onClick"],A={key:1,class:"q-ml-md"};function B(e,t,o,l,a,i){const s=(0,n.up)("q-btn"),p=(0,n.up)("q-td"),m=(0,n.up)("q-icon"),d=(0,n.up)("q-item-section"),c=(0,n.up)("q-item"),u=(0,n.up)("q-separator"),w=(0,n.up)("q-list"),f=(0,n.up)("q-menu"),b=(0,n.up)("q-tr"),g=(0,n.up)("q-space"),y=(0,n.up)("q-input"),W=(0,n.up)("q-popup-proxy"),v=(0,n.up)("q-spinner-tail"),k=(0,n.up)("q-table"),_=(0,n.up)("modal"),q=(0,n.up)("q-dialog"),h=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(k,{rows:e.serviceItems,columns:a.columns,"row-key":"id",loading:a.loading,flat:"",class:"bg-secondary q-pt-md"},{body:(0,n.w5)((o=>[(0,n.Wm)(b,{class:(0,r.C_)(o.rowIndex%2!==0&&"bg-white"),props:o},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{"auto-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{size:"sm",color:"primary",round:"",dense:"",onClick:e=>o.expand=!o.expand,icon:o.expand?"remove":"add"},null,8,["onClick","icon"])])),_:2},1024),(0,n.Wm)(p,{key:"name",props:o},{default:(0,n.w5)((()=>[(0,n._)("p",T,(0,r.zw)(o.row.name),1)])),_:2},1032,["props"]),(0,n.Wm)(p,{key:"description",innerHTML:o.row.description,props:o},null,8,["innerHTML","props"]),(0,n.Wm)(p,{key:"unitPrice",props:o},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(o.row.unitPrice),1)])),_:2},1032,["props"]),(0,n.Wm)(p,{key:"supplier",props:o},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(o.row.supplier),1)])),_:2},1032,["props"]),(0,n.Wm)(p,{key:"actions",props:o},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{dense:"",round:"",flat:"",icon:"more_vert"},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{"transition-show":"scale","transition-hide":"scale"},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{style:{"min-width":"75px"}},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(c,{onClick:t=>e.delSItem(o.row.id),style:{},clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{class:"flex flex-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{name:"delete",color:"negative",size:"xs"})])),_:1})])),_:2},1032,["onClick"]),[[h]]),(0,n.Wm)(u),(0,n.wy)((0,n.Wm)(c,{onClick:e=>i.edit(o.row),clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{class:"flex flex-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{name:"edit",color:"warning",size:"xs"})])),_:1})])),_:2},1032,["onClick"]),[[h]])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:2},1032,["class","props"]),(0,n.wy)((0,n.Wm)(b,{props:o},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{colspan:"100%"},{default:(0,n.w5)((()=>[(0,n._)("div",H,[0!==o.row.subServices.length?((0,n.wg)(),(0,n.iD)("p",N,"Sub services")):(0,n.kq)("",!0),(0,n.Wm)(g),(0,n.Wm)(s,{color:"primary",icon:"add","no-caps":"",flat:""},{default:(0,n.w5)((()=>[(0,n.Wm)(W,{breakpoint:0,class:"q-pa-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{modelValue:a.sub,"onUpdate:modelValue":t[0]||(t[0]=e=>a.sub=e)},null,8,["modelValue"]),(0,n.wy)((0,n.Wm)(s,{size:"sm","no-caps":"",label:"Submit",disable:""===a.sub,flat:"",onClick:e=>i.addSub(o.row.id),color:"primary",class:"q-mt-sm"},null,8,["disable","onClick"]),[[h]])])),_:2},1024)])),_:2},1024)]),0===o.row.subServices.length?((0,n.wg)(),(0,n.iD)("div",L,"No sub-services found.")):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.row.subServices,((l,p)=>((0,n.wg)(),(0,n.iD)("div",{key:p,class:"flex items-center"},[(0,n.Wm)(s,{icon:"delete",onClick:t=>e.deleteSubService(o.row.subServices[p].id),color:"negative",flat:"",size:"sm"},null,8,["onClick"]),a.i===p?((0,n.wg)(),(0,n.iD)("div",M,[(0,n.Wm)(v,{color:"primary",size:"2em"})])):((0,n.wg)(),(0,n.iD)("div",{key:1,onClick:e=>{a.subs=o.row.subServices[p].name},class:"text-left"},[(0,n.Uk)((0,r.zw)(p+1)+"-"+(0,r.zw)(o.row.subServices[p].name)+" ",1),(0,n.Wm)(W,{breakpoint:0,class:"q-pa-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{modelValue:a.subs,"onUpdate:modelValue":t[1]||(t[1]=e=>a.subs=e)},null,8,["modelValue"]),(0,n.wy)((0,n.Wm)(s,{size:"sm",label:"Submit",disable:a.subs===o.row.subServices[p].name,"no-caps":"",flat:"",onClick:e=>{i.editSub(o.row.subServices[p].id,o.row.id),a.i=p},color:"primary",class:"q-mt-sm"},null,8,["disable","onClick"]),[[h]])])),_:2},1024)],8,Y))])))),128)),a.subLoading?((0,n.wg)(),(0,n.iD)("div",A,[(0,n.Wm)(v,{color:"primary",size:"2em"})])):(0,n.kq)("",!0)])),_:2},1024)])),_:2},1032,["props"]),[[U.F8,o.expand]])])),_:1},8,["rows","columns","loading"]),(0,n.Wm)(q,{seamless:"",position:"right",modelValue:a.prompt,"onUpdate:modelValue":t[3]||(t[3]=e=>a.prompt=e),persistent:""},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{onCloseDialogue:t[2]||(t[2]=e=>a.prompt=!1),action:a.action,body:a.body},null,8,["action","body"])])),_:1},8,["modelValue"])])}var E=o(81896);const j={data(){return{prompt:!1,loading:!1,subLoading:!1,subs:"",sub:"",i:null,action:"",body:{},columns:[{name:"#",align:"center",label:"#",field:"#"},{name:"name",align:"left",label:"Name",field:"name"},{name:"description",align:"left",label:"Description",field:"description"},{name:"unitPrice",label:"Unit price",align:"left",field:"unitPrice"},{name:"supplier",align:"left",label:"Supplier",field:"supplier"},{name:"actions",align:"left",label:"Actions",field:"actions"}]}},components:{modal:E.Z},computed:{...(0,d.rn)("accountingStore",["serviceItems"])},methods:{...(0,d.nv)("accountingStore",["getServiceItems","delSItem","addSubService","deleteSubService","editSubService"]),rowColor(e){if(e.rowIndex%2!==0)return"background: #fff;"},async editSub(e,t){await this.editSubService({id:e,serviceItemId:t,name:this.subs}),this.i=null},async addSub(e){this.subLoading=!0,await this.addSubService({serviceItemId:e,name:this.sub}),this.subLoading=!1},edit(e){this.body=e,this.action="Edit",this.prompt=!0}},async mounted(){await this.getServiceItems()}};var F=o(62025),K=o(83944),O=o(64689),R=o(90682);j.render=B;const G=j;C()(j,"components",{QTable:f.Z,QTr:b.Z,QTd:g.Z,QBtn:y.Z,QMenu:W.Z,QList:v.Z,QItem:k.Z,QItemSection:_.Z,QIcon:q.Z,QSeparator:h.Z,QSpace:F.Z,QPopupProxy:K.Z,QInput:O.Z,QSpinnerTail:R.Z,QDialog:S.Z}),C()(j,"directives",{ClosePopup:Z.Z});var J=o(46303),X=o(16565);const $={components:{breadcrumps:J.Z,itemtbl:x,nitemtbl:V,sitemtbl:G,SelectNewItemCategory:X.Z},data(){return{dialogSelectNewItemCat:!1}},methods:{},setup(){return{tab:(0,s.iH)("inventory item"),crumps:[{id:1,name:"OneConnect",icon:"home",path:"/"},{id:2,name:"Products & Services",icon:"calculate",path:"/accounting"}]}}};var ee=o(24379),te=o(57547),oe=o(3269),ne=o(5906),le=o(86602);$.render=i;const ae=$;C()($,"components",{QPage:ee.Z,QBtn:y.Z,QTabs:te.Z,QTab:oe.Z,QTabPanels:ne.Z,QTabPanel:le.Z,QDialog:S.Z})}}]);