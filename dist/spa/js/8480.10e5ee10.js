"use strict";(self["webpackChunkoc_front_end"]=self["webpackChunkoc_front_end"]||[]).push([[8480],{3487:(e,a,t)=>{t.r(a),t.d(a,{default:()=>I});t(90246);var o=t(83673),n=t(62323);const l={class:"full-width flex justify-between items-center q-px-md header-height-standard",style:{"border-bottom":"1px solid lightgrey"}},i=(0,o._)("div",{class:"text-h4"},"Tax Types",-1),s={class:"flex items-center"},d={class:"q-px-md"},r={style:{"font-size":"15px",margin:"0 !important"}};function p(e,a,t,p,c,m){const u=(0,o.up)("q-btn"),f=(0,o.up)("breadcrumps"),w=(0,o.up)("q-td"),g=(0,o.up)("q-icon"),y=(0,o.up)("q-item-section"),h=(0,o.up)("q-item"),x=(0,o.up)("q-separator"),b=(0,o.up)("q-list"),_=(0,o.up)("q-menu"),T=(0,o.up)("q-tr"),W=(0,o.up)("q-table"),k=(0,o.up)("modal"),q=(0,o.up)("q-dialog"),C=(0,o.up)("q-page"),Z=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.j4)(C,{class:"q-py-none q-my-none"},{default:(0,o.w5)((()=>[(0,o._)("div",l,[i,(0,o._)("div",s,[(0,o.Wm)(u,{onClick:a[0]||(a[0]=e=>{c.actionType="Add",c.dialogue=!0}),color:"primary",label:"Create Record",unelevated:"",rounded:"","no-caps":""})])]),(0,o.Wm)(f,{class:"q-pa-md",map:c.crumps},null,8,["map"]),(0,o._)("div",d,[(0,o.Wm)(W,{rows:e.taxes,columns:c.columns,"row-key":"id",loading:c.loading,flat:"",class:"bg-secondary q-pt-md"},{body:(0,o.w5)((e=>[(0,o.Wm)(T,{class:(0,n.C_)(e.rowIndex%2!==0&&"bg-white"),props:e},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{key:"name",props:e},{default:(0,o.w5)((()=>[(0,o._)("p",r,(0,n.zw)(e.row.name),1)])),_:2},1032,["props"]),(0,o.Wm)(w,{key:"type",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.row.type),1)])),_:2},1032,["props"]),(0,o.Wm)(w,{key:"rate",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.row.rate),1)])),_:2},1032,["props"]),(0,o.Wm)(w,{key:"description",innerHTML:e.row.description,props:e},null,8,["innerHTML","props"]),(0,o.Wm)(w,{key:"actions",props:e},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{dense:"",round:"",flat:"",icon:"more_vert"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{"transition-show":"scale","transition-hide":"scale"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{style:{"min-width":"75px"}},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(h,{onClick:a=>m.delTax(e.row.id),style:{},clickable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{class:"flex flex-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{name:"delete",color:"negative",size:"xs"})])),_:1})])),_:2},1032,["onClick"]),[[Z]]),(0,o.Wm)(x),(0,o.wy)((0,o.Wm)(h,{onClick:a=>{c.body=e.row,c.actionType="Edit",c.dialogue=!0},clickable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{class:"flex flex-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{name:"edit",color:"warning",size:"xs"})])),_:1})])),_:2},1032,["onClick"]),[[Z]])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:2},1032,["class","props"])])),_:1},8,["rows","columns","loading"])]),(0,o.Wm)(q,{seamless:"",position:"right",modelValue:c.dialogue,"onUpdate:modelValue":a[2]||(a[2]=e=>c.dialogue=e),persistent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{onCloseDialogue:a[1]||(a[1]=a=>{c.dialogue=!1,e.getTaxes()}),actionType:c.actionType,body:c.body},null,8,["actionType","body"])])),_:1},8,["modelValue"])])),_:1})}var c=t(93617),m=t(46303),u=t(9906);const f={data(){return{id:null,dialogue:!1,loading:!1,actionType:"",body:null,crumps:[{id:1,name:"OneConnect",icon:"home",path:"/"},{id:2,name:"Tax",icon:"receipt_long",path:"/finance/taxes"}],columns:[{name:"name",required:!0,label:"Name",align:"left",field:e=>e.name,format:e=>`${e}`},{name:"type",align:"left",label:"Type",field:"type"},{name:"rate",align:"left",label:"Rate%",field:"rate"},{name:"description",label:"Description",align:"left",field:"description"},{name:"actions",label:"Actions",align:"left",field:"actions"}]}},computed:{...(0,c.rn)("financeStore",["taxes"])},components:{breadcrumps:m.Z,modal:u.Z},methods:{...(0,c.nv)("financeStore",["getTaxes","deleteTax"]),async delTax(e){await this.deleteTax({id:e})},deleteClientContact(e){this.loading=!0,this.deleteContact({...e,clientId:this.$route.params.id}),this.loading=!1},rowColor(e){if(e.rowIndex%2!==0||0!==e.rowIndex)return"background: #fff;"},openModal(e,a){this.id=e,this.actionType=a,this.dialogue=!0}},async mounted(){this.loading=!0,await this.getTaxes(),this.loading=!1}};var w=t(24379),g=t(2165),y=t(57678),h=t(18186),x=t(83884),b=t(20811),_=t(27011),T=t(83414),W=t(52035),k=t(24554),q=t(65869),C=t(46778),Z=t(60677),Q=t(7518),v=t.n(Q);f.render=p;const I=f;v()(f,"components",{QPage:w.Z,QBtn:g.Z,QTable:y.Z,QTr:h.Z,QTd:x.Z,QMenu:b.Z,QList:_.Z,QItem:T.Z,QItemSection:W.Z,QIcon:k.Z,QSeparator:q.Z,QDialog:C.Z}),v()(f,"directives",{ClosePopup:Z.Z})}}]);