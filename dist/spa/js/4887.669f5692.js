(self["webpackChunkoc_front_end"]=self["webpackChunkoc_front_end"]||[]).push([[4887],{34887:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Ke});var s=a(83673),i=a(62323),o=a(63810),r=a.n(o);const n={class:"col flex items-center justify-between header-height-standard full-width text-white q-pa-xs"},l={class:"items-center flex full-width text-white bg-white header-height-standard"},m=(0,s._)("img",{alt:"oneconnect logo",src:r(),class:"btn",style:{height:"40px"}},null,-1),c={key:0,class:"items-center flex full-width row text-white q-px-md q-my-sm q-mb-none bg-none header-height-standard",style:{"min-height":"48px"}},d=["src"],u={class:"q-px-md"},g=(0,s.Uk)("CRM"),h=(0,s.Uk)("Suppliers"),p=(0,s.Uk)("Finance"),f=(0,s.Uk)("HRM"),w=(0,s.Uk)("Payroll"),y=(0,s.Uk)("Projects"),v=(0,s.Uk)("Social Media Management"),b=(0,s.Uk)("Chat"),x=(0,s.Uk)("Profile"),k=(0,s.Uk)("Users"),_=["src"];function S(e,t,a,o,r,S){const q=(0,s.up)("q-item"),W=(0,s.up)("q-btn"),I=(0,s.up)("q-item-list"),D=(0,s.up)("q-separator"),C=(0,s.up)("q-icon"),B=(0,s.up)("q-item-section"),M=(0,s.up)("q-list"),N=(0,s.up)("q-scroll-area"),z=(0,s.up)("q-drawer"),U=(0,s.up)("btn"),j=(0,s.up)("icon"),T=(0,s.up)("q-avatar"),R=(0,s.up)("router-view"),Z=(0,s.up)("q-page-container"),$=(0,s.up)("q-layout");return(0,s.wg)(),(0,s.j4)($,{view:"lFr LpR fFf"},{default:(0,s.w5)((()=>[(0,s.Wm)(z,{modelValue:o.drawer,"onUpdate:modelValue":t[4]||(t[4]=e=>o.drawer=e),"show-if-above":"",mini:o.miniState,width:245,breakpoint:500,class:"right-side-bar-custom-z-index-below-dialog full-height bg-lie-dark",style:(0,i.j5)("transform: translateX("+(o.drawer?"245px":"0px")+") !important")},{default:(0,s.w5)((()=>[(0,s._)("div",n,[(0,s.Wm)(I,{class:(0,i.C_)(o.miniState?"col text-h6 q-ma-xs flex justify-center":"col text-h6 q-pa-xs row flex justify-between")},{default:(0,s.w5)((()=>[o.miniState?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(q,{key:0},{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(r.subSideBar.title),1)])),_:1})),(0,s.Wm)(q,{flat:"",dense:"","text-color":"white",class:"q-pa-none flex items-center justify-center",color:"white"},{default:(0,s.w5)((()=>[(0,s.Wm)(W,{flat:"",onClick:t[0]||(t[0]=e=>{S.openedSideBar()}),style:{transition:"0.2s cease",transform:"rotate(90deg)"},"text-color":"white",class:"q-px-none q-py-md",icon:o.miniState?"fas fa-window-maximize":"fas fa-minus"},null,8,["icon"])])),_:1})])),_:1},8,["class"])]),(0,s.Wm)(D,{class:"bg-white"}),(0,s.Wm)(N,{onMouseover:t[2]||(t[2]=e=>o.miniState=!1!==o.fixedState&&o.miniState),onMouseout:t[3]||(t[3]=e=>o.miniState=!1===o.fixedState||o.miniState),class:"header-height-standard-remaining"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.subSideBar.itemsArray,((e,a)=>((0,s.wg)(),(0,s.j4)(M,{key:a,class:"rounded-borders text-black"},{default:(0,s.w5)((()=>["separator"===e.name?((0,s.wg)(),(0,s.j4)(D,{key:0,class:"bg-white"})):((0,s.wg)(),(0,s.j4)(q,{key:1,"data-id":e,to:e.url,clickable:"",onClick:t[1]||(t[1]=e=>o.drawer=!0),class:"text-grey","active-class":"hovered my-menu-link"},{default:(0,s.w5)((()=>[(0,s.Wm)(B,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{name:e.icon},null,8,["name"])])),_:2},1024),(0,s.Wm)(B,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(e.name),1)])),_:2},1024)])),_:2},1032,["data-id","to"]))])),_:2},1024)))),128))])),_:1})])),_:1},8,["modelValue","mini","style"]),(0,s.Wm)(z,{"v-model":!0,"show-if-above":"",onMouseover:t[14]||(t[14]=e=>o.miniState=!1!==o.fixedState&&o.miniState),onMouseout:t[15]||(t[15]=e=>o.miniState=!1===o.fixedState||o.miniState),width:245,breakpoint:500,style:{"border-right":"1px solid #ddd"},class:"items-center bg-lie-dark right-side-bar-custom-z-index-below-dialog"},{default:(0,s.w5)((()=>[(0,s._)("div",l,[(0,s.Wm)(U,{class:"color-grey"},{default:(0,s.w5)((()=>[(0,s.Wm)(q,{class:"flex bg-white justify-between",avatar:""},{default:(0,s.w5)((()=>[m])),_:1})])),_:1})]),r.brandCodeName?((0,s.wg)(),(0,s.iD)("div",c,[(0,s.Wm)(T,{avatar:"",style:{"font-size":"40px"}},{default:(0,s.w5)((()=>[r.brandLogo?((0,s.wg)(),(0,s.iD)("img",{key:0,src:r.brandLogo},null,8,d)):((0,s.wg)(),(0,s.j4)(j,{key:1,class:"bg-grey",name:"person",color:"grey"}))])),_:1}),(0,s._)("div",u,"@"+(0,i.zw)(r.brandCodeName),1)])):(0,s.kq)("",!0),(0,s.Wm)(D,{class:"bg-white"}),(0,s.Wm)(N,{class:"header-height-standard-remaining"},{default:(0,s.w5)((()=>[(0,s.Wm)(M,{class:"rounded-borders text-black"},{default:(0,s.w5)((()=>[(0,s.Wm)(q,{to:"/crm",clickable:"",onClick:t[5]||(t[5]=e=>S.sendSubSideBardData("crm")),class:"text-grey","active-class":"hovered my-menu-link"},{default:(0,s.w5)((()=>[(0,s.Wm)(B,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{name:"groups"})])),_:1}),(0,s.Wm)(B,null,{default:(0,s.w5)((()=>[g])),_:1})])),_:1}),(0,s.Wm)(q,{to:"/suppliers",onClick:t[6]||(t[6]=e=>S.sendSubSideBardData("suppliers")),exact:"",clickable:"",class:"text-grey","active-class":"hovered my-menu-link"},{default:(0,s.w5)((()=>[(0,s.Wm)(B,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{name:"badge"})])),_:1}),(0,s.Wm)(B,null,{default:(0,s.w5)((()=>[h])),_:1})])),_:1}),(0,s.Wm)(q,{to:"finance"===e.$route.path.split("/")[1]&&"suppliers"!==e.$route.path.split("/")[2]?e.$route.path:void 0,exact:"",onClick:t[7]||(t[7]=e=>S.sendSubSideBardData("finance")),clickable:"",class:"text-grey","active-class":"hovered my-menu-link"},{default:(0,s.w5)((()=>[(0,s.Wm)(B,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{name:"account_balance"})])),_:1}),(0,s.Wm)(B,null,{default:(0,s.w5)((()=>[p])),_:1})])),_:1},8,["to"]),(0,s.Wm)(q,{to:"hrm"===e.$route.path.split("/")[1]?e.$route.path:void 0,exact:"",onClick:t[8]||(t[8]=e=>S.sendSubSideBardData("hrm")),clickable:"",class:"text-grey","active-class":"hovered my-menu-link"},{default:(0,s.w5)((()=>[(0,s.Wm)(B,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{name:"people_alt"})])),_:1}),(0,s.Wm)(B,null,{default:(0,s.w5)((()=>[f])),_:1})])),_:1},8,["to"]),(0,s.Wm)(q,{to:"payroll"===e.$route.path.split("/")[1]?e.$route.path:void 0,exact:"",onClick:t[9]||(t[9]=e=>S.sendSubSideBardData("payroll")),clickable:"",class:"text-grey","active-class":"hovered my-menu-link"},{default:(0,s.w5)((()=>[(0,s.Wm)(B,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{name:"description"})])),_:1}),(0,s.Wm)(B,null,{default:(0,s.w5)((()=>[w])),_:1})])),_:1},8,["to"]),(0,s.Wm)(q,{to:"projects"===e.$route.path.split("/")[1]?e.$route.path:void 0,exact:"",onClick:t[10]||(t[10]=e=>S.sendSubSideBardData("projects")),clickable:"",class:"text-grey","active-class":"hovered my-menu-link"},{default:(0,s.w5)((()=>[(0,s.Wm)(B,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{name:"work"})])),_:1}),(0,s.Wm)(B,null,{default:(0,s.w5)((()=>[y])),_:1})])),_:1},8,["to"]),(0,s.Wm)(q,{to:"social-media-management"===e.$route.path.split("/")[1]?e.$route.path:void 0,exact:"",onClick:t[11]||(t[11]=e=>S.sendSubSideBardData("social-media-management")),clickable:"",class:"text-grey","active-class":"hovered my-menu-link"},{default:(0,s.w5)((()=>[(0,s.Wm)(B,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{name:"fas fa-project-diagram"})])),_:1}),(0,s.Wm)(B,null,{default:(0,s.w5)((()=>[v])),_:1})])),_:1},8,["to"]),(0,s.Wm)(q,{exact:"",onClick:S.openChat,clickable:"",class:"text-grey","active-class":"hovered my-menu-link"},{default:(0,s.w5)((()=>[(0,s.Wm)(B,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{name:"chat"})])),_:1}),(0,s.Wm)(B,null,{default:(0,s.w5)((()=>[b])),_:1})])),_:1},8,["onClick"]),(0,s.Wm)(q,{to:"/profile",clickable:"",onClick:t[12]||(t[12]=e=>S.sendSubSideBardData("profile")),class:"text-grey","active-class":"hovered my-menu-link"},{default:(0,s.w5)((()=>[(0,s.Wm)(B,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{name:"account_circle"})])),_:1}),(0,s.Wm)(B,null,{default:(0,s.w5)((()=>[x])),_:1})])),_:1}),(0,s.Wm)(q,{to:"/users",clickable:"",onClick:t[13]||(t[13]=e=>S.sendSubSideBardData("users")),class:"text-grey","active-class":"hovered my-menu-link"},{default:(0,s.w5)((()=>[(0,s.Wm)(B,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{name:"person"})])),_:1}),(0,s.Wm)(B,null,{default:(0,s.w5)((()=>[k])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Z,{class:"bg-silk",style:{margin:"0px",width:"calc(100% - 245px) !important",transform:"translateX(245px)"}},{default:(0,s.w5)((()=>[(0,s.Wm)(R,{class:"full-height"})])),_:1}),(0,s.Wm)(z,{"v-model":!0,"show-if-above":"",mini:!0,breakpoint:500,bordered:"",side:"right",class:"bg-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(q,{to:"/profile",clickable:"",class:"header-height-standard full-width text-grey","active-class":"hovered my-menu-link"},{default:(0,s.w5)((()=>[(0,s.Wm)(B,{avatar:""},{default:(0,s.w5)((()=>[null!==e.user.avatar?((0,s.wg)(),(0,s.iD)("img",{key:0,alt:"User logo",src:e.user.avatar,style:{height:"40px",width:"40px","border-radius":"50%"}},null,8,_)):((0,s.wg)(),(0,s.j4)(T,{key:1,size:"40px","font-size":"10px",color:"grey","text-color":"white",icon:"person"}))])),_:1})])),_:1}),(0,s.Wm)(N,{class:"header-height-standard-remaining",style:{"border-right":"1px solid #ddd"}},{default:(0,s.w5)((()=>[(0,s.Wm)(M,{padding:"",class:"rounded-borders text-black"},{default:(0,s.w5)((()=>[(0,s.Wm)(q,{to:"/chat",clickable:"",class:"text-grey","active-class":"hovered my-menu-link"},{default:(0,s.w5)((()=>[(0,s.Wm)(B,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{name:"mail"})])),_:1})])),_:1}),(0,s.Wm)(q,{to:"/notifications",clickable:"",class:"text-grey","active-class":"hovered my-menu-link"},{default:(0,s.w5)((()=>[(0,s.Wm)(B,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{name:"notifications"})])),_:1})])),_:1}),(0,s.Wm)(q,{exact:"",onClick:S.openChat,clickable:"",class:"text-grey","active-class":"hovered my-menu-link"},{default:(0,s.w5)((()=>[(0,s.Wm)(B,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{name:"chat"})])),_:1})])),_:1},8,["onClick"]),["owner","admin"].includes(e.user.userType)?((0,s.wg)(),(0,s.j4)(q,{key:0,to:"/users",clickable:"",class:"text-grey","active-class":"hovered my-menu-link"},{default:(0,s.w5)((()=>[(0,s.Wm)(B,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{name:"people_alt"})])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(q,{to:"/profile",clickable:"",class:"text-grey","active-class":"hovered my-menu-link"},{default:(0,s.w5)((()=>[(0,s.Wm)(B,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{name:"settings"})])),_:1})])),_:1}),(0,s.Wm)(q,{to:"/login",clickable:"",class:"text-grey","active-class":"hovered my-menu-link"},{default:(0,s.w5)((()=>[(0,s.Wm)(B,{avatar:"",onClick:S.logout},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{name:"logout"})])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var q=a(61959),W=a(93617);const I={class:"relative-position",style:{height:"500px !important","z-index":"20 !important"}},D={class:"bg-white text-primary absolute-bottom-right",style:{width:"300px",height:"500px !important","z-index":"20 !important"}},C={class:"q-mt-xl"},B={key:0,class:"q-pa-md text-grey"},M={class:(0,i.C_)("q-pa-xs")},N={key:0,class:"flex"},z=["src"],U={class:"flex col"},j={class:"flex"},T={key:0,class:"q-mr-none text-black q-mt-none q-mb-none q-ml-sm"},R={key:1,class:"q-ma-none"},Z={key:0,class:"q-ma-none"},$={class:"q-mt-xs q-ml-sm text-grey",style:{width:"80% !important"}},L={key:1,class:"flex"},P=["src"],Q={style:{transform:"translateX(-35px) !important"},class:"items-center q-mt-md col"},H={class:"q-mr-none q-mt-none q-mb-none q-ml-sm text-black"},O={class:"q-mt-xs q-ml-sm text-grey",style:{width:"80% !important"}},A={key:2,class:"flex items-center"},J=["src"],E={class:"flex col"},K={class:"flex q-mt-md"},Y={key:0,class:"q-mr-none text-black q-mt-none q-mb-none q-ml-sm"},F={key:1,class:"q-ma-none"},G={key:0,class:"q-ma-none"},V={class:"q-mt-xs q-ml-sm text-grey",style:{width:"80% !important"}},X={key:3,class:"flex items-center"},ee=["src"],te={class:"items-center q-mt-md col"},ae={class:"q-mr-none q-mt-none q-mb-none text-black q-ml-sm"},se={class:"q-mt-xs q-ml-sm text-grey",style:{width:"80% !important"}},ie={key:4,class:"flex"},oe={class:"flex items-center"},re={class:"flex"},ne=["src"],le={class:"items-center q-mt-sm col"},me={class:"q-mr-none q-mt-none text-black q-mb-none q-ml-sm"},ce={class:"q-mt-xs q-ml-sm text-grey",style:{width:"80% !important"}},de={key:5,class:"flex"},ue={class:"flex items-center"},ge={key:0,class:"flex"},he=["src"],pe={class:"items-center q-mt-sm col"},fe={class:"q-mr-none q-mt-none text-black q-mb-none q-ml-sm"},we={class:"q-mt-xs q-ml-sm text-grey",style:{width:"80% !important"}},ye={class:"flex flex-center q-mr-sm absolute-right"};function ve(e,t,a,o,r,n){const l=(0,s.up)("q-btn"),m=(0,s.up)("q-avatar"),c=(0,s.up)("q-item-label"),d=(0,s.up)("q-item-section"),u=(0,s.up)("q-icon"),g=(0,s.up)("q-item"),h=(0,s.up)("q-list"),p=(0,s.up)("conversation"),f=(0,s.Q2)("morph"),w=(0,s.Q2)("ripple");return(0,s.wg)(),(0,s.iD)("div",I,[(0,s.wy)((0,s.Wm)(l,{class:"absolute-bottom-right",fab:"",color:"primary",size:"lg",icon:"chat",onClick:t[0]||(t[0]=t=>{o.nextMorph(),e.$emit("morph",o.morphGroupModel)}),style:{"z-index":"20 !important"}},null,512),[[f,o.morphGroupModel,"btn:mygroup:500",{resize:!0}]]),(0,s.wy)((0,s._)("div",D,[(0,s._)("div",C,[r.showList?((0,s.wg)(),(0,s.j4)(h,{key:0,style:{height:"450px !important","overflow-y":"scroll !important","overflow-x":"hidden !important"}},{default:(0,s.w5)((()=>[0===r.rooms.length?((0,s.wg)(),(0,s.iD)("div",B,"No rooms to show!")):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(r.rooms,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a},[(0,s._)("div",M,[(0,s.wy)((0,s.Wm)(g,{style:{"border-radius":"10px"},class:(0,i.C_)(t.id===e.chat.id?"bg-blue-1":""),onClick:e=>n.getMessages(t,a),clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>["channel"!==t.room_type||t.name||t.avatar?!t.avatar&&t.name?((0,s.wg)(),(0,s.iD)("div",L,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.users,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:e.id},[t<2?((0,s.wg)(),(0,s.iD)("div",{key:0,style:(0,i.j5)(1===t?"transform: translate(-45px,20px) !important;":"transform: translate(10px) !important;"),class:"text-ellipses"},[(0,s.Wm)(m,{class:(0,i.C_)(1===t&&"q-ml-xs"),size:"40px"},{default:(0,s.w5)((()=>[(0,s._)("img",{src:e.avatar?e.avatar:"https://cdn-icons-png.flaticon.com/512/149/149071.png"},null,8,P)])),_:2},1032,["class"])],4)):(0,s.kq)("",!0)])))),128)),(0,s._)("div",Q,[(0,s._)("p",H,(0,i.zw)(t.name),1),(0,s._)("p",O,(0,i.zw)(0!==t.messages.length?t.messages[t.messages.length-1].text.slice(0,30):"No messages!"),1)])])):"channel"===t.room_type&&t.avatar&&!t.name?((0,s.wg)(),(0,s.iD)("div",A,[(0,s.Wm)(m,{size:"50px"},{default:(0,s.w5)((()=>[(0,s._)("img",{src:t.avatar},null,8,J)])),_:2},1024),(0,s._)("div",E,[(0,s._)("div",K,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.users,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"flex",key:e.id},[t<2?((0,s.wg)(),(0,s.iD)("p",Y,(0,i.zw)(e.name),1)):(0,s.kq)("",!0),t<1?((0,s.wg)(),(0,s.iD)("p",F,",")):(0,s.kq)("",!0)])))),128)),t.users.length>2?((0,s.wg)(),(0,s.iD)("p",G,"...")):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("p",V,(0,i.zw)(0!==t.messages.length?t.messages[t.messages.length-1].text.slice(0,30):"No messages!"),1)])])])):"channel"===t.room_type&&t.avatar&&t.name?((0,s.wg)(),(0,s.iD)("div",X,[(0,s.Wm)(m,{size:"50px"},{default:(0,s.w5)((()=>[(0,s._)("img",{src:t.avatar},null,8,ee)])),_:2},1024),(0,s._)("div",te,[(0,s._)("p",ae,(0,i.zw)(t.name),1),(0,s._)("p",se,(0,i.zw)(0!==t.messages.length?t.messages[t.messages.length-1].text.slice(0,30):"No messages!"),1)])])):1===t.users.length?((0,s.wg)(),(0,s.iD)("div",ie,[(0,s._)("div",oe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.users,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id},[(0,s._)("div",re,[(0,s.Wm)(m,{size:"50px"},{default:(0,s.w5)((()=>[(0,s._)("img",{src:e.avatar?e.avatar:"https://cdn-icons-png.flaticon.com/512/149/149071.png"},null,8,ne)])),_:2},1024),(0,s._)("div",le,[(0,s._)("p",me,(0,i.zw)(e.name),1),(0,s._)("p",ce,(0,i.zw)(0!==t.messages.length?t.messages[t.messages.length-1].text.slice(0,30):"No messages!"),1)])])])))),128))])])):((0,s.wg)(),(0,s.iD)("div",de,[(0,s._)("div",ue,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.users,(a=>((0,s.wg)(),(0,s.iD)("div",{key:a.id},[e.user.id!==a.id?((0,s.wg)(),(0,s.iD)("div",ge,[(0,s.Wm)(m,{size:"50px"},{default:(0,s.w5)((()=>[(0,s._)("img",{src:a.avatar?a.avatar:"https://cdn-icons-png.flaticon.com/512/149/149071.png"},null,8,he)])),_:2},1024),(0,s._)("div",pe,[(0,s._)("p",fe,(0,i.zw)(a.name),1),(0,s._)("p",we,(0,i.zw)(0!==t.messages.length?t.messages[t.messages.length-1].text.slice(0,30):"No messages!"),1)])])):(0,s.kq)("",!0)])))),128))])])):((0,s.wg)(),(0,s.iD)("div",N,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.users,((e,a)=>((0,s.wg)(),(0,s.iD)("div",{key:e.id},[a<2?((0,s.wg)(),(0,s.iD)("div",{key:0,style:(0,i.j5)(1===a&&t.users.length>1?"transform: translate(-45px,20px) !important;":`transform: translate(${t.users.length>1?"10":"0"}px) !important;`),class:"text-ellipses"},[(0,s.Wm)(m,{class:(0,i.C_)(1===a&&"q-ml-xs"),size:t.users.length>1?"40px":"50px"},{default:(0,s.w5)((()=>[(0,s._)("img",{src:e.avatar?e.avatar:"https://cdn-icons-png.flaticon.com/512/149/149071.png"},null,8,z)])),_:2},1032,["class","size"])],4)):(0,s.kq)("",!0)])))),128)),(0,s._)("div",{class:(0,i.C_)([t.users.length>1?"q-mt-md":"q-mt-sm","items-center col"]),style:(0,i.j5)(t.users.length>1&&"transform: translateX(-35px) !important;")},[(0,s._)("div",U,[(0,s._)("div",j,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.users,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"flex",key:e.id},[t<2?((0,s.wg)(),(0,s.iD)("p",T,(0,i.zw)(e.name),1)):(0,s.kq)("",!0),t<1?((0,s.wg)(),(0,s.iD)("p",R,",")):(0,s.kq)("",!0)])))),128)),t.users.length>2?((0,s.wg)(),(0,s.iD)("p",Z,"...")):(0,s.kq)("",!0)])]),(0,s._)("p",$,(0,i.zw)(0!==t.messages.length?t.messages[t.messages.length-1].text.slice(0,30):"No messages!"),1)],6)]))])),_:2},1024)])),_:2},1024),(0,s.Wm)(d,{side:"",top:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{caption:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(0!==t.messages.length?n.format(t.messages[t.messages.length-1].created_at):""),1)])),_:2},1024)])),_:2},1024),(0,s._)("div",ye,[t.messages[t.messages.length-1]&&"seen"!==t.messages[t.messages.length-1].msg_recepeint_status&&t.messages.msg_recepeint_user_id!==e.user.id?((0,s.wg)(),(0,s.j4)(u,{key:0,color:"primary",rounded:"",name:"circle",size:"12px"})):(0,s.kq)("",!0)])])),_:2},1032,["class","onClick"]),[[w]])])])))),128))])),_:1})):((0,s.wg)(),(0,s.j4)(p,{key:1,sckt:r.sckt,onHideChat:t[1]||(t[1]=e=>r.showList=!0),popup:!0,bg:"white",hght:"height:400px !important;"},null,8,["sckt"]))]),(0,s.Wm)(l,{color:"black",class:"absolute-top-right",style:{"z-index":"20 !important"},icon:"close",round:"",flat:"",onClick:t[2]||(t[2]=t=>{o.nextMorph(),e.$emit("morph",o.morphGroupModel)})}),(0,s.Wm)(u,{class:"absolute-top-left q-ml-sm q-mt-sm",size:"md",name:"question_answer",color:"primary"})],512),[[f,o.morphGroupModel,"card1:mygroup:500",{resize:!0}]])])}a(17070);var be=a(25616),xe=a(81887),ke=a(94675),_e=a(30052),Se=a.n(_e);const qe=new WebSocket("ws://localhost:4001"),We={btn:"card1",card1:"btn"},Ie={setup(){const e=(0,q.iH)("btn");return{morphGroupModel:e,nextMorph(){e.value=We[e.value]}}},data(){return{isLoggedIn:localStorage.getItem("accessToken"),isExpanded:!0,isExpanded2:!0,membToDelete:null,members:[],sckt:(0,q.iH)(qe),addMembers:!1,createRoom:!1,channelName:"",channelPhoto:null,changePhoto:!1,options:[],members1:[],options1:[],onlineUsers:[],allUsers:[],rooms:[],roomInfo:null,loading:!1,isLoading:!1,drawer:!1,drawer1:!1,cnfrm:!1,changeName:!1,chatId:null,path:"",showList:!0}},computed:{...(0,W.rn)("example",["user"]),...(0,W.rn)("userStore",["users"]),...(0,W.rn)("chatStore",["chat"]),getHeight(){return"height: 50vh !important;"}},components:{confirm:xe.Z,conversation:ke.Z},methods:{...(0,W.nv)("userStore",["getUsers"]),...(0,W.nv)("example",["getUser"]),...(0,W.nv)("chatStore",["getChat","clearChat"]),async changeChannelName(){let e=this;this.chatId=Number(e.chat.id),qe.send(JSON.stringify({editRoom:{id:Number(e.chat.id),avatar:e.roomInfo.avatar,name:e.channelName}}))},async changeChannelPhoto(){let e=this,t=new FormData;t.append("files",this.channelPhoto);try{let a=await Se().post("http://localhost:5050/api/v1/chats/addFiles",t,{headers:{Authorization:localStorage.getItem("accessToken")}});a.data.success?(this.chatId=Number(e.chat.id),qe.send(JSON.stringify({editRoom:{id:Number(e.chat.id),name:e.roomInfo.name,avatar:a.data.data[0].url}}))):this.$q.notify({type:"negative",message:"Something went wrong!"})}catch(a){console.log(a),this.$q.notify({type:"negative",message:"Something went wrong!"})}},addNewMembers(){let e=this,t=[];for(let a=0;a<this.members1.length;a++)t.push(this.members1[a].id);qe.send(JSON.stringify({addRoomUsers:{id:e.chat.id,users:t}})),t=[],this.members1=[],this.addMembers=!1},deleteMemeber(){let e=this;qe.send(JSON.stringify({deleteRoomUsers:{id:e.chat.id,users:[e.membToDelete]}})),this.membToDelete=null,this.cnfrm=!1},checkType(e){return e.filter((e=>e.type.includes("image")))},onRejectedImage(){this.$q.notify({type:"negative",message:"Only images are allowed!"})},async getMessages(e,t){localStorage.setItem("roomIndex",t),this.roomInfo=e,qe.send(JSON.stringify({getMessagesByRoomId:{room_id:e.id}})),this.showList=!1},getMessagesImmediate(){let e=this;qe.send(JSON.stringify({getMessagesByRoomId:{room_id:Number(e.chat.id)}}))},format(e){return be.ZP.formatDate(e,"HH:mm")},addMembs(){let e=[];for(let t=0;t<this.members.length;t++)e.push(Number(this.members[t].id));qe.send(JSON.stringify({createRoom:{users:e}})),e=[],this.members=[],this.createRoom=!1},updateScroll(){var e=document.getElementById("room-container");e&&(e.scrollTop=e.scrollHeight)},logout(){localStorage.removeItem("accessToken"),localStorage.removeItem("tab"),localStorage.removeItem("isLoggedIn"),this.$router.push("/login")},getUserOptions(){let e=[];this.options=[],setTimeout((()=>{for(let t=0;t<this.users.length;t++)e.push({id:this.users[t].id,label:this.users[t].name,avatar:this.users[t].avatar})}),100),this.options=e,this.options1=e}},mounted(){this.path=this.$route.path},async beforeMount(){this.isLoading=!0;let e=this;qe.addEventListener("open",(async function(e){qe.send(JSON.stringify({accessToken:localStorage.getItem("accessToken").substring(7,localStorage.getItem("accessToken").length)}))})),qe.addEventListener("message",(async function(t){const a=JSON.parse(t.data);if(console.log(a),"addRoom"===a.reqType&&e.getMessages(a.rooms.rooms[a.rooms.rooms.length-1],0),a.onlineUsers){e.onlineUsers=a.onlineUsers;let t=e.chat.users.filter((({id:e})=>!a.onlineUsers.some((({id:t})=>t===e)))),s=e.chat.users.filter((({id:e})=>a.onlineUsers.some((({id:t})=>t===e))));e.allUsers=[];for(let a=0;a<s.length;a++)e.allUsers.push({...s[a],online:!0});for(let a=0;a<t.length;a++)e.allUsers.push({...t[a],online:!1})}if(a.messagesByRoomId&&e.roomInfo.id===a.messagesByRoomId.room_id&&(await e.getChat({id:e.roomInfo.id,name:e.roomInfo.name,avatar:e.roomInfo.avatar,room_type:e.roomInfo.room_type,users:e.roomInfo.users,messages:a.messagesByRoomId.roomMessages}),e.updateScroll(),qe.send(JSON.stringify({ping:!0}))),a.messagePerRoom)for(let s=0;s<e.rooms.length;s++)e.rooms[s].id===a.messagePerRoom.messfinal.room_id&&(e.rooms[s].messages.push(a.messagePerRoom.messfinal),await e.getMessagesImmediate());if(a.rooms){if(e.rooms=[],e.rooms=JSON.parse(t.data).rooms.rooms.reverse(),0===e.rooms.length)return void await e.clearChat();e.chat&&localStorage.getItem("roomIndex")&&Number(localStorage.getItem("roomIndex"))>=0&&e.rooms.length>=Number(localStorage.getItem("roomIndex"))?(setTimeout((()=>{qe.send(JSON.stringify({getMessagesByRoomId:{room_id:e.rooms[Number(localStorage.getItem("roomIndex"))].id}}))}),100),e.roomInfo=e.rooms[Number(localStorage.getItem("roomIndex"))]):(qe.send(JSON.stringify({getMessagesByRoomId:{room_id:e.rooms[0].id}})),e.roomInfo=e.rooms[0],localStorage.setItem("roomIndex",0))}else a.typing})),await this.getUser(),await this.getUsers(),this.getUserOptions(),this.isLoading=!1,setInterval((()=>{qe.send(JSON.stringify({ping:!0}))}),1e4)}};var De=a(2165),Ce=a(47704),Be=a(27011),Me=a(83414),Ne=a(52035),ze=a(2350),Ue=a(75096),je=a(24554),Te=a(89042),Re=a(80860),Ze=a(7518),$e=a.n(Ze);Ie.render=ve;const Le=Ie;$e()(Ie,"components",{QBtn:De.Z,QScrollArea:Ce.Z,QList:Be.Z,QItem:Me.Z,QItemSection:Ne.Z,QItemLabel:ze.Z,QAvatar:Ue.Z,QIcon:je.Z}),$e()(Ie,"directives",{Morph:Te.Z,Ripple:Re.Z});const Pe={data(){return{brandCodeName:null,brandLogo:null,isLoggedIn:localStorage.getItem("accessToken"),showChat:!0,statusof:"",toggledM:!1,routePath:this.$router.currentRoute._value.path.split("/")[1],subSideBar:{itemsArray:[{name:"",icon:"",url:""}],title:""}}},computed:{...(0,W.rn)("example",["user"])},methods:{openedSideBar(){this.toggledM=this.miniState=!this.miniState,!1===this.miniState&&(this.fixedState=!0),!0===this.miniState&&(this.fixedState=!1)},drawerState(e){this.routePath&&(["payroll","hrm","finance","projects","social-media-management"].includes(this.routePath)?("mount"===e&&(this.drawer=!0,this.sendSubSideBardData(this.routePath,!0),this.statusof="mount"),"mouseover"===e&&this.toggledM&&(this.statusof="mouseover",this.miniState=!1),"mouseout"===e&&this.toggledM&&(this.statusof="mouseout",this.miniState=!0)):(this.drawer=!1,this.miniState=!1,this.statusof=e))},defaultValueSubSide(){let e=this.routePath;["social-media-managemenet","finance","hrm","payroll","projects"].includes(e)&&this.sendSubSideBardData(e,!0),this.drawerState("mount")},sendSubSideBardData(e,t){"social-media-management"===e?(this.subSideBar.title="SMM",this.subSideBar.itemsArray=[{name:"Drafts",icon:"mode_edit",url:"/social-media-management/drafts"},{name:"Calendar",icon:"far fa-calendar-alt",url:"/social-media-management/calendar"},{name:"Posts",icon:"send",url:"/social-media-management/posts"},{name:"productions",icon:"precision_manufacturing",url:"/social-media-management/productions"},{name:"Reviews",icon:"remove_red_eye",url:"/social-media-management/reviews"},{name:"Rejecteds",icon:"youtube_searched_for",url:"/social-media-management/rejecteds"},{name:"Completeds",icon:"assignment_turned_in",url:"/social-media-management/completeds"},{name:"Connect Profile",icon:"fas fa-plus-square",url:"/social-media-management/accounts"}],!0!==t&&this.$router.push(this.subSideBar.itemsArray[0].url),this.drawer=!0,this.miniState=!0,this.toggledM=!0):"finance"===e?(this.subSideBar.title="Finance",this.subSideBar.itemsArray=[{name:"Invoice",icon:"receipt",url:"/finance/invoice"},{name:"Quotation",icon:"request_quote",url:"/finance/quotation"},{name:"separator",icon:"",url:""},{name:"Expenses",icon:"savings",url:"/finance/expenses"},{name:"separator",icon:"",url:""},{name:"Products & Services",icon:"category",url:"/finance/accounting"},{name:"Expense categories",icon:"grid_view",url:"/finance/categories"},{name:"Payment Types",icon:"fas fa-credit-card",url:"/finance/payment"},{name:"Tax Types",icon:"receipt_long",url:"/finance/taxes"}],!0!==t&&this.$router.push(this.subSideBar.itemsArray[0].url),this.drawer=!0,this.miniState=!0,this.toggledM=!0):"hrm"===e?(this.subSideBar.title="HRM",this.subSideBar.itemsArray=[{name:"Employees",icon:"person",url:"/hrm/employees"},{name:"Leaves",icon:"description",url:"/hrm/leaves"},{name:"Overtimes",icon:"history",url:"/hrm/overtimes"},{name:"Attendance",icon:"touch_app",url:"/hrm/attendances"},{name:"separator",icon:"",url:""},{name:"Leave Types",icon:"category",url:"/hrm/leaveTypes"},{name:"Overtime Types",icon:"category",url:"/hrm/overtimeTypes"},{name:"Departments",icon:"groups",url:"/hrm/departments"},{name:"Designations",icon:"grid_view",url:"/hrm/designations"}],!0!==t&&this.$router.push(this.subSideBar.itemsArray[0].url),this.drawer=!0,this.miniState=!0,this.toggledM=!0):"payroll"===e?(this.subSideBar.title="payroll",this.subSideBar.itemsArray=[{name:"Payslips",icon:"reciept",url:"/payroll/payslips"},{name:"Earnings",icon:"money",url:"/payroll/earnings"},{name:"Deductions",icon:"money",url:"/payroll/deductions"},{name:"separator",icon:"",url:""},{name:"Earning Types",icon:"category",url:"/payroll/earningTypes"},{name:"Deduction Types",icon:"category",url:"/payroll/deductionTypes"}],!0!==t&&this.$router.push(this.subSideBar.itemsArray[0].url),this.drawer=!0,this.miniState=!0,this.toggledM=!0):"projects"===e?(this.subSideBar.title="projects",this.subSideBar.itemsArray=[{name:"Projects",icon:"work",url:"/projects/dashboard"},{name:"Tasks",icon:"task",url:"/projects/tasks"}],!0!==t&&this.$router.push(this.subSideBar.itemsArray[0].url),this.drawer=!0,this.miniState=!0,this.toggledM=!0):(this.subSideBar={},this.drawer=!1,this.miniState=!1,this.toggledM=!1)},show(e){"card1"===e&&setTimeout((()=>{this.updateScroll()}),600)},...(0,W.nv)("example",["getUser"]),updateScroll(){var e=document.getElementById("room-container");e&&(e.scrollTop=e.scrollHeight)},openChat(){window.open("http://localhost:8080/#/chat")},logout(){localStorage.removeItem("accessToken"),localStorage.removeItem("tab"),localStorage.removeItem("isLoggedIn"),this.$router.push("/login")}},components:{chat:Le},setup(){const e=(0,q.iH)(!1),t=(0,q.iH)(!1),a=(0,q.iH)(!1);return{fixedState:e,miniState:t,drawer:a}},async mounted(){var e,t,a,s;console.log("started: ",this.subSideBar),this.defaultValueSubSide(),console.log("ended: ",this.subSideBar),await this.getUser(),this.brandCodeName=null!==(e=this.user.brand)&&void 0!==e&&e.name?null===(t=this.user.brand)||void 0===t?void 0:t.name:null===(a=this.user.brand)||void 0===a?void 0:a.brandCodeName,this.brandLogo=null===(s=this.user.brand)||void 0===s?void 0:s.logo}};var Qe=a(19214),He=a(52901),Oe=a(65869),Ae=a(72652),Je=a(21007),Ee=a(89989);Pe.render=S;const Ke=Pe;$e()(Pe,"components",{QLayout:Qe.Z,QDrawer:He.Z,QItem:Me.Z,QBtn:De.Z,QSeparator:Oe.Z,QScrollArea:Ce.Z,QItemSection:Ne.Z,QIcon:je.Z,QList:Be.Z,QAvatar:Ue.Z,QPageContainer:Ae.Z,QPageSticky:Je.Z,QEditor:Ee.Z})},63810:(e,t,a)=>{e.exports=a.p+"img/onelogo.5eb1d863.png"}}]);