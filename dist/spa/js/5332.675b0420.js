"use strict";(self["webpackChunkoc_front_end"]=self["webpackChunkoc_front_end"]||[]).push([[5332],{95332:(e,t,l)=>{l.r(t),l.d(t,{default:()=>H});var o=l(83673),a=l(98880);const s={class:"full-width flex justify-between items-center header-height-standard q-px-md",style:{"border-bottom":"1px solid lightgrey"}},i=(0,o._)("div",{class:"text-h4"},"Employees",-1),n={class:"flex items-center"};function d(e,t,l,d,r,u){const m=(0,o.up)("q-btn"),c=(0,o.up)("grid"),p=(0,o.up)("modal"),g=(0,o.up)("q-dialog"),f=(0,o.up)("q-scroll-area"),h=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(h,{class:"q-py-none q-my-none"},{default:(0,o.w5)((()=>[(0,o._)("div",s,[i,(0,o._)("div",n,[(0,o.Wm)(m,{onClick:t[0]||(t[0]=e=>r.dialogue=!0),color:"primary",label:"Add "+d.tab[0].toUpperCase()+d.tab.substr(1,d.tab.length),unelevated:"",rounded:"","no-caps":""},null,8,["label"])])]),(0,o.Wm)(f,{style:{"max-height":"auto !important","min-height":"auto !important",height:"calc(100vh - 131px)"},class:"q-px-md"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(c,null,null,512),[[a.F8,!r.table]]),(0,o.Wm)(g,{seamless:"",position:"right",modelValue:r.dialogue,"onUpdate:modelValue":t[2]||(t[2]=e=>r.dialogue=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{onCloseDialogue:t[1]||(t[1]=e=>r.dialogue=!1),actionType:"Add",id:{}})])),_:1},8,["modelValue"])])),_:1})])),_:1})}var r=l(61959),u=l(62323);const m={class:"row items-center q-pa-sm"},c={class:"flex justify-between column flex-center"},p=["src"],g={class:"text-span text-center text-black text-bold"},f={class:"text-span text-center text-grey"},h={class:"text-span text-center text-grey"},y=(0,o.Uk)("View Profile"),w={key:0,class:"flex flex-center col-12 q-pa-sm"};function x(e,t,l,a,s,i){const n=(0,o.up)("q-icon"),d=(0,o.up)("q-item-section"),r=(0,o.up)("q-item"),x=(0,o.up)("q-separator"),b=(0,o.up)("q-list"),v=(0,o.up)("q-menu"),_=(0,o.up)("q-btn"),q=(0,o.up)("q-avatar"),W=(0,o.up)("router-link"),Z=(0,o.up)("q-card-section"),k=(0,o.up)("q-card-actions"),Q=(0,o.up)("q-card"),C=(0,o.up)("modal"),z=(0,o.up)("q-dialog"),E=(0,o.up)("q-page"),D=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.j4)(E,{class:"q-pt-sm"},{default:(0,o.w5)((()=>[(0,o._)("div",m,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.data,((t,l)=>((0,o.wg)(),(0,o.iD)("div",{class:"col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12 q-pa-sm",key:l},[(0,o.Wm)(Q,{flat:"",bordered:"",style:{position:"relative !important"},class:"my-card"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{style:{"z-index":"2"},class:"absolute-top-right",dense:"",round:"",flat:"",icon:"more_vert"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{"transition-show":"scale","transition-hide":"scale"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{style:{"min-width":"75px"}},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(r,{onClick:l=>e.deleteEmployee({id:t.id}),style:{},clickable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"flex flex-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{name:"delete",color:"negative",size:"xs"})])),_:1})])),_:2},1032,["onClick"]),[[D]]),(0,o.Wm)(x),(0,o.wy)((0,o.Wm)(r,{onClick:e=>i.editEmployee(t),clickable:""},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"flex flex-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{name:"edit",color:"warning",size:"xs"})])),_:1})])),_:2},1032,["onClick"]),[[D]])])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,o.Wm)(Z,{class:"flex flex-center"},{default:(0,o.w5)((()=>{var e,l,a;return[(0,o._)("div",c,[(0,o.Wm)(W,{class:"q-pb-md",to:`/hrm/employee/${t.id}`},{default:(0,o.w5)((()=>{var e;return[null!==(e=t.user)&&void 0!==e&&e.avatar?((0,o.wg)(),(0,o.j4)(q,{key:0,size:"100px","font-size":"52px"},{default:(0,o.w5)((()=>{var e;return[(0,o._)("img",{src:null===(e=t.user)||void 0===e?void 0:e.avatar},null,8,p)]})),_:2},1024)):((0,o.wg)(),(0,o.j4)(q,{key:1,size:"100px","font-size":"52px",color:"grey","text-color":"white",icon:"person"}))]})),_:2},1032,["to"]),(0,o._)("p",g,(0,u.zw)(t.name),1),(0,o._)("p",f,(0,u.zw)(null===(e=t.designation)||void 0===e?void 0:e.name),1),(0,o._)("p",h,(0,u.zw)(null===(l=t.designation)||void 0===l||null===(a=l.department)||void 0===a?void 0:a.name),1)])]})),_:2},1024),(0,o.Wm)(k,{align:"center"},{default:(0,o.w5)((()=>[(0,o.Wm)(W,{to:`/hrm/employee/${t.id}`},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{color:"primary",class:"q-mb-md",outline:"","no-caps":""},{default:(0,o.w5)((()=>[y])),_:1})])),_:2},1032,["to"])])),_:2},1024)])),_:2},1024)])))),128)),0===i.data.length?((0,o.wg)(),(0,o.iD)("div",w," No data found ")):(0,o.kq)("",!0)]),(0,o.Wm)(z,{seamless:"",position:"right",modelValue:s.dialogue,"onUpdate:modelValue":t[1]||(t[1]=e=>s.dialogue=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(C,{onCloseDialogue:t[0]||(t[0]=e=>s.dialogue=!1),type:e.type,inProfile:!1,body:s.body,actionType:"Edit",id:s.id},null,8,["type","body","id"])])),_:1},8,["modelValue"])])),_:1})}var b=l(93617),v=l(36673);const _={components:{modal:v.Z},props:[],computed:{...(0,b.rn)("hrmStore",["allEmployees"]),data(){return this.allEmployees}},data(){return{loading:!1,dialogue:!1,id:"",body:null,options:[]}},methods:{...(0,b.nv)("hrmStore",["getEmployees","deleteEmployee"]),editEmployee(e){if(!0===this.dialogue)return this.dialogue=!1,void setTimeout((()=>{this.body=e,this.dialogue=!0}),200);this.body=e,this.dialogue=!0},getUserOptions(e){let t=[],l=[];this.options=[],setTimeout((()=>{if(e){for(let o=0;o<this.users.length;o++){for(let t=0;t<e.members.length;t++)Number(e.members[t].memberId)===Number(this.users[o].id)&&l.push({id:this.users[o].id,label:this.users[t].name});t.push({id:this.users[o].id,label:this.users[o].name})}this.options=t.filter((({id:e})=>!l.some((({id:t})=>t===e))))}}),200)}},async mounted(){this.loading=!0,await this.getEmployees(),this.loading=!1}};var q=l(24379),W=l(10151),Z=l(2165),k=l(20811),Q=l(27011),C=l(83414),z=l(52035),E=l(24554),D=l(65869),V=l(25589),j=l(75096),S=l(99367),A=l(46778),I=l(60677),P=l(7518),U=l.n(P);_.render=x,_.__scopeId="data-v-0fea1733";const T=_;U()(_,"components",{QPage:q.Z,QCard:W.Z,QBtn:Z.Z,QMenu:k.Z,QList:Q.Z,QItem:C.Z,QItemSection:z.Z,QIcon:E.Z,QSeparator:D.Z,QCardSection:V.Z,QAvatar:j.Z,QCardActions:S.Z,QDialog:A.Z}),U()(_,"directives",{ClosePopup:I.Z});const N={components:{grid:T,modal:v.Z},data(){return{table:!1,dialogue:!1}},setup(){return{tab:(0,r.iH)("employee")}}};var B=l(47704);N.render=d;const H=N;U()(N,"components",{QPage:q.Z,QBtn:Z.Z,QScrollArea:B.Z,QDialog:A.Z})}}]);